!RBIX
9595534255132031488
x
M
1
n
n
x
10
__script__
i
82
5
45
0
1
45
0
2
45
0
3
65
49
4
0
49
5
1
49
6
1
7
7
64
49
8
2
47
49
9
1
15
5
45
10
11
43
12
7
13
64
56
14
47
50
15
2
15
5
7
16
64
56
17
47
50
15
1
15
5
7
18
64
56
19
47
50
15
1
15
5
7
20
64
56
21
47
50
15
1
15
2
11
I
5
I
0
I
0
I
0
n
p
22
x
4
File
n
n
n
x
11
active_path
x
11
expand_path
x
7
dirname
s
11
spec_helper
x
4
join
x
7
require
x
6
Sequel
n
x
5
Model
s
17
many_through_many
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
500
5
56
0
47
50
1
0
15
5
56
2
47
50
3
0
15
5
7
4
64
56
5
47
50
6
1
15
5
7
7
64
56
8
47
50
6
1
15
5
7
9
64
56
10
47
50
6
1
15
5
7
11
64
56
12
47
50
6
1
15
5
7
13
64
56
14
47
50
6
1
15
5
7
15
64
56
16
47
50
6
1
15
5
7
17
64
56
18
47
50
6
1
15
5
7
19
64
56
20
47
50
6
1
15
5
7
21
64
56
22
47
50
6
1
15
5
7
23
64
56
24
47
50
6
1
15
5
7
25
64
56
26
47
50
6
1
15
5
7
27
64
56
28
47
50
6
1
15
5
7
29
64
56
30
47
50
6
1
15
5
7
31
64
56
32
47
50
6
1
15
5
7
33
64
56
34
47
50
6
1
15
5
7
35
64
56
36
47
50
6
1
15
5
7
37
64
56
38
47
50
6
1
15
5
7
39
64
56
40
47
50
6
1
15
5
7
41
64
56
42
47
50
6
1
15
5
7
43
64
56
44
47
50
6
1
15
5
7
45
64
56
46
47
50
6
1
15
5
7
47
64
56
48
47
50
6
1
15
5
7
49
64
56
50
47
50
6
1
15
5
7
51
64
56
52
47
50
6
1
15
5
7
53
64
56
54
47
50
6
1
15
5
7
55
64
56
56
47
50
6
1
15
5
7
57
64
56
58
47
50
6
1
15
5
7
59
64
56
60
47
50
6
1
15
5
7
61
64
56
62
47
50
6
1
15
5
7
63
64
56
64
47
50
6
1
15
5
7
65
64
56
66
47
50
6
1
15
5
7
67
64
56
68
47
50
6
1
15
5
7
69
64
56
70
47
50
6
1
15
5
7
71
64
56
72
47
50
6
1
15
5
7
73
64
56
74
47
50
6
1
15
5
7
75
64
56
76
47
50
6
1
15
5
7
77
64
56
78
47
50
6
1
15
5
7
79
64
56
80
47
50
6
1
15
5
7
81
64
56
82
47
50
6
1
15
5
7
83
64
56
84
47
50
6
1
15
5
7
85
64
56
86
47
50
6
1
15
5
7
87
64
56
88
47
50
6
1
15
5
7
89
64
56
90
47
50
6
1
15
5
7
91
64
56
92
47
50
6
1
11
I
4
I
0
I
0
I
0
I
-2
p
93
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
114
99
7
0
45
1
2
43
3
44
49
4
3
13
99
12
7
5
12
7
6
12
65
12
49
7
4
15
49
5
0
15
99
7
8
45
1
9
43
3
44
49
4
3
13
99
12
7
5
12
7
10
12
65
12
49
7
4
15
49
5
0
15
45
0
11
38
12
15
45
8
13
38
14
15
39
14
49
15
0
38
16
15
39
16
44
43
17
79
49
18
1
13
7
19
79
49
20
2
15
13
18
2
49
21
1
15
15
45
22
23
49
24
0
11
I
7
I
0
I
0
I
0
I
-2
p
25
x
6
Artist
x
6
Sequel
n
x
5
Model
x
16
open_class_under
x
14
__class_init__
M
1
n
n
x
6
Artist
i
26
5
66
5
7
0
47
49
1
1
15
5
7
2
47
49
3
1
15
5
7
4
47
49
5
1
11
I
2
I
0
I
0
I
0
n
p
6
x
3
yyy
x
13
attr_accessor
x
2
id
x
7
columns
x
17
many_through_many
x
6
plugin
p
7
I
2
I
6
I
a
I
7
I
12
I
8
I
1a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
13
attach_method
x
3
Tag
n
M
1
n
n
x
3
Tag
i
14
5
66
5
7
0
7
1
7
2
47
49
3
3
11
I
4
I
0
I
0
I
0
n
p
4
x
2
id
x
2
h1
x
2
h2
x
7
columns
p
3
I
2
I
b
I
e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
n
x
3
@c1
n
x
3
@c2
x
7
dataset
x
8
@dataset
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
7
_fetch=
x
8
MODEL_DB
n
x
5
reset
p
15
I
0
I
5
I
1f
I
a
I
3e
I
d
I
44
I
e
I
4a
I
f
I
52
I
10
I
6b
I
11
I
72
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
6
before
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
22
45
0
1
7
2
7
3
49
4
2
15
45
0
5
7
2
7
6
49
4
2
11
I
4
I
0
I
0
I
0
I
-2
p
7
x
6
Object
n
x
12
remove_const
x
6
Artist
x
4
send
n
x
3
Tag
p
5
I
0
I
14
I
b
I
15
I
16
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
5
after
s
79
should populate :key_hash and :id_map option correctly for custom eager loaders
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
404
35
0
19
0
15
5
56
0
47
50
1
0
19
1
15
39
2
7
3
44
43
4
80
49
5
1
13
7
6
7
7
7
8
7
9
35
3
7
10
7
11
7
11
35
3
7
12
7
9
7
13
35
3
35
3
49
14
2
15
13
7
15
20
1
49
14
2
15
49
16
2
15
39
2
7
3
49
17
1
49
18
0
15
20
0
49
19
0
44
43
4
79
49
5
1
13
7
11
44
43
4
79
49
5
1
13
79
45
20
21
44
43
4
80
49
5
1
13
7
22
79
49
14
2
15
13
7
11
79
49
14
2
15
49
23
1
35
1
49
14
2
15
49
14
2
15
44
43
4
79
49
5
1
13
79
45
20
24
44
43
4
80
49
5
1
13
7
22
79
49
14
2
15
13
7
11
79
49
14
2
15
49
23
1
35
1
49
14
2
15
35
2
35
1
83
25
15
20
0
49
26
0
15
39
2
7
3
44
43
4
4
4
49
5
1
13
7
6
7
7
7
8
7
9
35
3
7
10
7
11
7
11
35
3
7
12
7
9
7
13
35
3
35
3
49
14
2
15
13
7
27
7
11
49
14
2
15
13
7
28
7
29
49
14
2
15
13
7
15
20
1
49
14
2
15
49
16
2
15
39
2
7
3
49
17
1
49
18
0
15
20
0
49
19
0
44
43
4
79
49
5
1
13
7
11
44
43
4
79
49
5
1
13
79
45
20
30
44
43
4
80
49
5
1
13
7
22
79
49
14
2
15
13
7
11
79
49
14
2
15
49
23
1
35
1
49
14
2
15
49
14
2
15
44
43
4
79
49
5
1
13
79
45
20
31
44
43
4
80
49
5
1
13
7
22
79
49
14
2
15
13
7
11
79
49
14
2
15
49
23
1
35
1
49
14
2
15
35
2
35
1
83
25
11
I
f
I
2
I
0
I
0
I
-2
p
32
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
27
57
19
0
15
21
1
0
20
0
7
0
49
1
1
20
0
7
2
49
1
1
35
2
49
3
1
11
I
6
I
1
I
1
I
1
n
p
4
x
8
key_hash
x
2
[]
x
6
id_map
x
2
<<
p
3
I
0
I
1a
I
1b
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
h
x
4
proc
x
3
@c1
x
4
tags
x
4
Hash
x
16
new_from_literal
x
7
through
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
3
[]=
x
12
eager_loader
x
17
many_through_many
x
5
eager
x
3
all
x
6
should
x
6
Artist
n
x
1
x
x
4
load
n
x
2
==
x
5
clear
x
16
left_primary_key
x
23
left_primary_key_column
x
1
i
n
n
p
19
I
0
I
19
I
5
I
1a
I
f
I
1b
I
48
I
1c
I
53
I
1d
I
c5
I
1f
I
cb
I
20
I
117
I
21
I
122
I
22
I
194
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
3
khs
x
2
pr
x
2
it
s
99
should support using a custom :left_primary_key option when eager loading many_to_many associations
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
249
39
0
7
1
7
2
56
3
50
4
2
15
39
0
49
5
0
44
43
6
79
49
7
1
13
7
8
79
49
9
2
15
13
18
2
49
10
1
15
15
39
11
49
5
0
44
43
6
80
49
7
1
13
7
8
4
4
49
9
2
15
13
7
12
4
3
49
9
2
15
13
18
2
49
10
1
15
15
39
0
7
13
44
43
6
80
49
7
1
13
7
14
7
15
7
16
7
17
35
3
7
18
7
8
7
8
35
3
7
19
7
17
7
20
35
3
35
3
49
9
2
15
13
7
21
7
2
49
9
2
15
49
22
2
15
39
0
7
13
49
23
1
49
24
0
19
0
15
20
0
49
25
0
39
0
44
43
6
79
49
7
1
13
7
8
79
49
9
2
15
49
26
1
35
1
83
27
15
45
28
29
49
30
0
49
25
0
7
31
64
7
32
64
35
2
83
27
15
20
0
49
33
0
49
13
0
49
25
0
39
11
44
43
6
79
49
7
1
13
7
8
4
4
49
9
2
15
49
26
1
35
1
83
27
15
45
28
34
49
30
0
49
25
0
35
0
83
27
11
I
c
I
1
I
0
I
0
I
-2
p
35
x
3
@c1
x
13
define_method
x
3
id3
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
9
5
48
0
4
3
49
1
1
11
I
3
I
0
I
0
I
0
I
-2
p
2
x
2
id
x
1
*
p
3
I
0
I
26
I
9
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
4
send
x
7
dataset
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
7
_fetch=
x
3
@c2
x
15
x_foreign_key_x
x
4
tags
x
7
through
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
11
albums_tags
x
6
tag_id
x
16
left_primary_key
x
17
many_through_many
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
288
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (3)))
x
5
first
n
p
19
I
0
I
26
I
c
I
27
I
28
I
28
I
4e
I
29
I
87
I
2a
I
94
I
2b
I
b2
I
2c
I
c6
I
2d
I
eb
I
2e
I
f9
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
88
should handle a :eager_loading_predicate_key option to change the SQL used in the lookup
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
230
39
0
49
1
0
44
43
2
79
49
3
1
13
7
4
79
49
5
2
15
13
18
2
49
6
1
15
15
39
7
49
1
0
44
43
2
80
49
3
1
13
7
4
4
4
49
5
2
15
13
7
8
79
49
5
2
15
13
18
2
49
6
1
15
15
39
0
7
9
44
43
2
80
49
3
1
13
7
10
7
11
7
12
7
13
35
3
7
14
7
4
7
4
35
3
7
15
7
13
7
16
35
3
35
3
49
5
2
15
13
7
17
45
18
19
7
20
4
3
49
21
2
49
5
2
15
49
22
2
15
39
0
7
9
49
23
1
49
24
0
19
0
15
20
0
49
25
0
39
0
44
43
2
79
49
3
1
13
7
4
79
49
5
2
15
49
26
1
35
1
83
27
15
45
28
29
49
30
0
49
25
0
7
31
64
7
32
64
35
2
83
27
15
20
0
49
33
0
49
9
0
49
25
0
39
7
44
43
2
79
49
3
1
13
7
4
4
4
49
5
2
15
49
26
1
35
1
83
27
11
I
c
I
1
I
0
I
0
I
-2
p
34
x
3
@c1
x
7
dataset
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
7
_fetch=
x
3
@c2
x
15
x_foreign_key_x
x
4
tags
x
7
through
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
11
albums_tags
x
6
tag_id
x
27
eager_loading_predicate_key
x
6
Sequel
n
x
25
albums_artists__artist_id
x
1
/
x
17
many_through_many
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
300
SELECT tags.*, (albums_artists.artist_id / 3) AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND ((albums_artists.artist_id / 3) IN (1)))
x
5
first
p
15
I
0
I
32
I
1c
I
33
I
41
I
34
I
82
I
35
I
8f
I
36
I
ad
I
37
I
c1
I
38
I
e6
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
63
should default to associating to other models in the same scope
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
86
29
60
1
26
93
0
15
99
7
0
1
44
49
1
3
13
99
12
7
2
12
7
3
12
65
12
49
4
4
15
49
2
0
15
44
43
0
43
5
7
6
49
7
1
49
8
0
49
9
0
44
43
0
43
10
83
11
30
8
74
26
45
12
13
7
14
7
0
49
15
2
15
27
34
45
12
16
7
14
7
0
49
15
2
15
11
I
8
I
0
I
0
I
0
I
-2
p
17
x
21
AssociationModuleTest
x
16
open_class_under
x
14
__class_init__
M
1
n
n
x
21
AssociationModuleTest
i
48
5
66
99
7
0
45
1
2
43
3
65
49
4
3
13
99
12
7
5
12
7
6
12
65
12
49
7
4
15
49
5
0
15
99
7
8
45
1
9
43
3
65
49
4
3
15
1
11
I
6
I
0
I
0
I
0
n
p
10
x
6
Artist
x
6
Sequel
n
x
5
Model
x
10
open_class
x
14
__class_init__
M
1
n
n
x
6
Artist
i
44
5
66
5
7
0
47
49
1
1
15
5
7
2
7
3
7
4
7
5
35
3
7
6
7
7
7
7
35
3
7
8
7
5
7
9
35
3
35
3
47
49
0
2
11
I
7
I
0
I
0
I
0
n
p
10
x
17
many_through_many
x
6
plugin
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
p
5
I
2
I
3f
I
a
I
40
I
2c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
13
attach_method
x
3
Tag
n
p
5
I
2
I
3e
I
21
I
42
I
30
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
13
attach_method
x
6
Artist
x
4
tags
x
22
association_reflection
x
16
associated_class
x
6
should
x
3
Tag
x
2
==
x
6
Object
n
x
12
remove_const
x
4
send
n
p
9
I
0
I
3d
I
22
I
46
I
3d
I
48
I
4a
I
48
I
56
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
59
should raise an error if in invalid form of through is used
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
63
5
56
0
47
50
1
0
5
45
2
3
43
4
47
49
5
1
49
6
1
15
5
56
7
47
50
1
0
5
45
2
8
43
4
47
49
5
1
49
6
1
15
5
56
9
47
50
1
0
5
45
2
10
43
4
47
49
5
1
49
6
1
11
I
4
I
0
I
0
I
0
I
-2
p
11
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
32
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
35
2
35
3
49
8
2
11
I
7
I
0
I
0
I
0
I
-2
p
9
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
17
many_through_many
p
3
I
0
I
4d
I
20
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
4
proc
x
6
Sequel
n
x
5
Error
x
11
raise_error
x
6
should
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
51
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
44
43
7
80
49
8
1
13
7
9
7
10
49
11
2
15
13
7
12
7
4
49
11
2
15
35
3
49
13
2
11
I
9
I
0
I
0
I
0
I
-2
p
14
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
4
Hash
x
16
new_from_literal
x
5
table
x
10
album_tags
x
3
[]=
x
4
left
x
17
many_through_many
p
3
I
0
I
4e
I
33
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
28
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
35
3
49
8
2
11
I
7
I
0
I
0
I
0
I
-2
p
9
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
10
album_tags
x
17
many_through_many
p
3
I
0
I
4f
I
1c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
n
p
7
I
0
I
4d
I
15
I
4e
I
2a
I
4f
I
3f
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
56
should allow only two arguments with the :through option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
122
39
0
7
1
44
43
2
79
49
3
1
13
7
4
7
5
7
6
7
7
35
3
7
8
7
9
7
9
35
3
7
10
7
7
7
11
35
3
35
3
49
12
2
15
49
13
2
15
39
0
44
43
2
79
49
3
1
13
7
9
7
14
49
12
2
15
49
15
1
19
0
15
20
0
49
16
0
49
17
0
49
18
0
7
19
64
83
20
15
20
0
49
1
0
49
18
0
39
21
44
43
2
79
49
3
1
13
7
9
79
49
12
2
15
49
15
1
35
1
83
20
11
I
c
I
1
I
0
I
0
I
-2
p
22
x
3
@c1
x
4
tags
x
4
Hash
x
16
new_from_literal
x
7
through
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
3
[]=
x
17
many_through_many
I
4d2
x
4
load
x
12
tags_dataset
x
3
sql
x
6
should
s
243
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234))
x
2
==
x
3
@c2
p
9
I
0
I
53
I
30
I
54
I
48
I
55
I
59
I
56
I
7a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
18
should be clonable
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
132
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
7
10
44
43
11
79
49
12
1
13
7
13
7
1
49
14
2
15
49
9
2
15
39
0
44
43
11
79
49
12
1
13
7
6
7
15
49
14
2
15
49
16
1
19
0
15
20
0
49
17
0
49
18
0
49
19
0
7
20
64
83
21
15
20
0
49
1
0
49
19
0
39
22
44
43
11
79
49
12
1
13
7
6
79
49
14
2
15
49
16
1
35
1
83
21
11
I
9
I
1
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
10
other_tags
x
4
Hash
x
16
new_from_literal
x
5
clone
x
3
[]=
I
4d2
x
4
load
x
18
other_tags_dataset
x
3
sql
x
6
should
s
243
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234))
x
2
==
x
3
@c2
p
11
I
0
I
5a
I
22
I
5b
I
3a
I
5c
I
52
I
5d
I
63
I
5e
I
84
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
28
should use join tables given
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
108
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
6
7
12
49
13
2
15
49
14
1
19
0
15
20
0
49
15
0
49
16
0
49
17
0
7
18
64
83
19
15
20
0
49
1
0
49
17
0
39
20
44
43
10
79
49
11
1
13
7
6
79
49
13
2
15
49
14
1
35
1
83
19
11
I
9
I
1
I
0
I
0
I
-2
p
21
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
I
4d2
x
3
[]=
x
4
load
x
12
tags_dataset
x
3
sql
x
6
should
s
243
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234))
x
2
==
x
3
@c2
p
9
I
0
I
62
I
22
I
63
I
3a
I
64
I
4b
I
65
I
6c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
41
should handle multiple aliasing of tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
159
99
7
0
45
1
2
43
3
44
49
4
3
15
1
15
39
5
7
6
7
7
7
8
7
9
35
3
7
6
7
10
7
10
35
3
7
7
7
9
7
8
35
3
7
11
7
10
7
10
35
3
7
7
7
8
7
9
35
3
35
5
49
12
2
15
39
5
44
43
13
79
49
14
1
13
7
10
7
15
49
16
2
15
49
17
1
19
0
15
20
0
49
18
0
49
19
0
49
20
0
7
21
64
83
22
15
20
0
49
6
0
49
20
0
45
0
23
44
43
13
80
49
14
1
13
7
10
79
49
16
2
15
13
7
24
79
49
16
2
15
49
17
1
35
1
83
22
15
45
25
26
7
27
7
0
49
28
2
11
I
b
I
1
I
0
I
0
I
-2
p
29
x
5
Album
x
6
Sequel
n
x
5
Model
x
16
open_class_under
x
3
@c1
x
6
albums
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
2
id
x
7
artists
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
I
4d2
x
3
[]=
x
4
load
x
14
albums_dataset
x
3
sql
x
6
should
s
455
SELECT albums.* FROM albums INNER JOIN albums_artists ON (albums_artists.album_id = albums.id) INNER JOIN artists ON (artists.id = albums_artists.artist_id) INNER JOIN albums_artists AS albums_artists_0 ON (albums_artists_0.artist_id = artists.id) INNER JOIN albums AS albums_0 ON (albums_0.id = albums_artists_0.album_id) INNER JOIN albums_artists AS albums_artists_1 ON ((albums_artists_1.album_id = albums_0.id) AND (albums_artists_1.artist_id = 1234))
x
2
==
n
x
1
x
x
6
Object
n
x
12
remove_const
x
4
send
p
13
I
0
I
69
I
f
I
6b
I
41
I
6c
I
59
I
6d
I
6a
I
6e
I
94
I
6f
I
9f
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
34
should use explicit class if given
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
125
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
1
7
4
7
7
35
3
35
3
44
43
8
79
49
9
1
13
7
10
45
11
12
49
13
2
15
49
14
3
15
39
0
44
43
8
79
49
9
1
13
7
6
7
15
49
13
2
15
49
16
1
19
0
15
20
0
49
17
0
49
18
0
49
19
0
7
20
64
83
21
15
20
0
49
1
0
49
19
0
39
22
44
43
8
79
49
9
1
13
7
6
79
49
13
2
15
49
16
1
35
1
83
21
11
I
9
I
1
I
0
I
0
I
-2
p
23
x
3
@c1
x
11
albums_tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
class
x
3
Tag
n
x
3
[]=
x
17
many_through_many
I
4d2
x
4
load
x
19
albums_tags_dataset
x
3
sql
x
6
should
s
243
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234))
x
2
==
x
3
@c2
p
9
I
0
I
73
I
33
I
74
I
4b
I
75
I
5c
I
76
I
7d
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
117
should accept :left_primary_key and :right_primary_key option for primary keys to use in current and associated table
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
145
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
80
49
10
1
13
7
11
7
8
49
12
2
15
13
7
13
7
14
49
12
2
15
49
15
3
15
39
0
44
43
9
79
49
10
1
13
7
6
7
16
49
12
2
15
49
17
1
19
0
15
20
0
4
85
13
18
2
49
18
1
15
15
20
0
49
19
0
49
20
0
49
21
0
7
22
64
83
23
15
20
0
49
1
0
49
21
0
39
24
44
43
9
79
49
10
1
13
7
6
79
49
12
2
15
49
17
1
35
1
83
23
11
I
9
I
1
I
0
I
0
I
-2
p
25
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
3
[]=
x
16
left_primary_key
x
3
yyy
x
17
many_through_many
I
4d2
x
4
load
x
4
yyy=
x
12
tags_dataset
x
3
sql
x
6
should
s
245
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.tag_id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 85))
x
2
==
x
3
@c2
p
11
I
0
I
7a
I
3b
I
7b
I
53
I
7c
I
5f
I
7d
I
70
I
7e
I
91
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
28
should handle composite keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
177
39
0
7
1
7
2
7
3
7
4
35
2
7
5
7
6
35
2
35
3
7
7
7
8
7
9
35
2
7
10
7
11
35
2
35
3
7
12
7
13
7
14
35
2
7
15
7
16
35
2
35
3
35
3
44
43
17
80
49
18
1
13
7
19
7
20
7
21
35
2
49
22
2
15
13
7
23
7
24
7
25
35
2
49
22
2
15
49
26
3
15
39
0
44
43
17
79
49
18
1
13
7
24
7
27
49
22
2
15
49
28
1
19
0
15
20
0
4
85
13
18
2
49
29
1
15
15
20
0
49
30
0
49
31
0
49
32
0
7
33
64
83
34
15
20
0
49
1
0
49
32
0
39
35
44
43
17
79
49
18
1
13
7
24
79
49
22
2
15
49
28
1
35
1
83
34
11
I
a
I
1
I
0
I
0
I
-2
p
36
x
3
@c1
x
4
tags
x
14
albums_artists
x
2
b1
x
2
b2
x
2
c1
x
2
c2
x
6
albums
x
2
d1
x
2
d2
x
2
e1
x
2
e2
x
11
albums_tags
x
2
f1
x
2
f2
x
2
g1
x
2
g2
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
2
h1
x
2
h2
x
3
[]=
x
16
left_primary_key
x
2
id
x
3
yyy
x
17
many_through_many
I
4d2
x
4
load
x
4
yyy=
x
12
tags_dataset
x
3
sql
x
6
should
s
353
SELECT tags.* FROM tags INNER JOIN albums_tags ON ((albums_tags.g1 = tags.h1) AND (albums_tags.g2 = tags.h2)) INNER JOIN albums ON ((albums.e1 = albums_tags.f1) AND (albums.e2 = albums_tags.f2)) INNER JOIN albums_artists ON ((albums_artists.c1 = albums.d1) AND (albums_artists.c2 = albums.d2) AND (albums_artists.b1 = 1234) AND (albums_artists.b2 = 85))
x
2
==
x
3
@c2
p
11
I
0
I
82
I
5b
I
83
I
73
I
84
I
7f
I
85
I
90
I
86
I
b1
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
59
should allowing filtering by many_through_many associations
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
86
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
1
39
12
44
43
10
79
49
11
1
13
7
6
7
13
49
14
2
15
49
15
1
49
14
2
15
49
16
1
49
17
0
49
18
0
7
19
64
83
20
11
I
a
I
0
I
0
I
0
I
-2
p
21
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
x
3
@c2
I
4d2
x
3
[]=
x
4
load
x
6
filter
x
3
sql
x
6
should
s
296
SELECT * FROM artists WHERE (artists.id IN (SELECT albums_artists.artist_id FROM albums_artists INNER JOIN albums ON (albums.id = albums_artists.album_id) INNER JOIN albums_tags ON (albums_tags.album_id = albums.id) WHERE ((albums_tags.tag_id = 1234) AND (albums_artists.artist_id IS NOT NULL))))
x
2
==
p
5
I
0
I
8a
I
22
I
8b
I
56
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
87
should allowing filtering by many_through_many associations with a single through table
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
70
39
0
7
1
7
2
7
3
7
4
35
3
35
1
49
5
2
15
39
0
44
43
6
79
49
7
1
13
7
1
39
8
44
43
6
79
49
7
1
13
7
9
7
10
49
11
2
15
49
12
1
49
11
2
15
49
13
1
49
14
0
49
15
0
7
16
64
83
17
11
I
a
I
0
I
0
I
0
I
-2
p
18
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
x
3
@c2
x
2
id
I
4d2
x
3
[]=
x
4
load
x
6
filter
x
3
sql
x
6
should
s
181
SELECT * FROM artists WHERE (artists.id IN (SELECT albums_artists.artist_id FROM albums_artists WHERE ((albums_artists.album_id = 1234) AND (albums_artists.artist_id IS NOT NULL))))
x
2
==
p
5
I
0
I
8f
I
12
I
90
I
46
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
79
should allowing filtering by many_through_many associations with aliased tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
86
39
0
7
1
7
2
7
3
7
4
35
3
7
2
7
5
7
5
35
3
7
2
7
4
7
6
35
3
35
3
49
7
2
15
39
0
44
43
8
79
49
9
1
13
7
1
39
10
44
43
8
79
49
9
1
13
7
5
7
11
49
12
2
15
49
13
1
49
12
2
15
49
14
1
49
15
0
49
16
0
7
17
64
83
18
11
I
a
I
0
I
0
I
0
I
-2
p
19
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
2
id
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
x
3
@c2
I
4d2
x
3
[]=
x
4
load
x
6
filter
x
3
sql
x
6
should
s
377
SELECT * FROM artists WHERE (artists.id IN (SELECT albums_artists.artist_id FROM albums_artists INNER JOIN albums_artists AS albums_artists_0 ON (albums_artists_0.id = albums_artists.album_id) INNER JOIN albums_artists AS albums_artists_1 ON (albums_artists_1.album_id = albums_artists_0.id) WHERE ((albums_artists_1.tag_id = 1234) AND (albums_artists.artist_id IS NOT NULL))))
x
2
==
p
5
I
0
I
94
I
22
I
95
I
56
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
79
should allowing filtering by many_through_many associations with composite keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
152
39
0
7
1
7
2
7
3
7
4
35
2
7
5
7
6
35
2
35
3
7
7
7
8
7
9
35
2
7
10
7
11
35
2
35
3
7
12
7
13
7
14
35
2
7
15
7
16
35
2
35
3
35
3
44
43
17
80
49
18
1
13
7
19
7
20
7
21
35
2
49
22
2
15
13
7
23
7
24
7
25
35
2
49
22
2
15
49
26
3
15
39
0
44
43
17
79
49
18
1
13
7
1
39
27
44
43
17
80
49
18
1
13
7
20
7
28
49
22
2
15
13
7
21
4
85
49
22
2
15
49
29
1
49
22
2
15
49
30
1
49
31
0
49
32
0
7
33
64
83
34
11
I
a
I
0
I
0
I
0
I
-2
p
35
x
3
@c1
x
4
tags
x
14
albums_artists
x
2
b1
x
2
b2
x
2
c1
x
2
c2
x
6
albums
x
2
d1
x
2
d2
x
2
e1
x
2
e2
x
11
albums_tags
x
2
f1
x
2
f2
x
2
g1
x
2
g2
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
2
h1
x
2
h2
x
3
[]=
x
16
left_primary_key
x
2
id
x
3
yyy
x
17
many_through_many
x
3
@c2
I
4d2
x
4
load
x
6
filter
x
3
sql
x
6
should
s
435
SELECT * FROM artists WHERE ((artists.id, artists.yyy) IN (SELECT albums_artists.b1, albums_artists.b2 FROM albums_artists INNER JOIN albums ON ((albums.d1 = albums_artists.c1) AND (albums.d2 = albums_artists.c2)) INNER JOIN albums_tags ON ((albums_tags.f1 = albums.e1) AND (albums_tags.f2 = albums.e2)) WHERE ((albums_tags.g1 = 1234) AND (albums_tags.g2 = 85) AND (albums_artists.b1 IS NOT NULL) AND (albums_artists.b2 IS NOT NULL))))
x
2
==
p
5
I
0
I
99
I
5b
I
9a
I
98
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
59
should allowing excluding by many_through_many associations
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
86
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
1
39
12
44
43
10
79
49
11
1
13
7
6
7
13
49
14
2
15
49
15
1
49
14
2
15
49
16
1
49
17
0
49
18
0
7
19
64
83
20
11
I
a
I
0
I
0
I
0
I
-2
p
21
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
x
3
@c2
I
4d2
x
3
[]=
x
4
load
x
7
exclude
x
3
sql
x
6
should
s
326
SELECT * FROM artists WHERE ((artists.id NOT IN (SELECT albums_artists.artist_id FROM albums_artists INNER JOIN albums ON (albums.id = albums_artists.album_id) INNER JOIN albums_tags ON (albums_tags.album_id = albums.id) WHERE ((albums_tags.tag_id = 1234) AND (albums_artists.artist_id IS NOT NULL)))) OR (artists.id IS NULL))
x
2
==
p
5
I
0
I
9e
I
22
I
9f
I
56
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
79
should allowing excluding by many_through_many associations with composite keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
152
39
0
7
1
7
2
7
3
7
4
35
2
7
5
7
6
35
2
35
3
7
7
7
8
7
9
35
2
7
10
7
11
35
2
35
3
7
12
7
13
7
14
35
2
7
15
7
16
35
2
35
3
35
3
44
43
17
80
49
18
1
13
7
19
7
20
7
21
35
2
49
22
2
15
13
7
23
7
24
7
25
35
2
49
22
2
15
49
26
3
15
39
0
44
43
17
79
49
18
1
13
7
1
39
27
44
43
17
80
49
18
1
13
7
20
7
28
49
22
2
15
13
7
21
4
85
49
22
2
15
49
29
1
49
22
2
15
49
30
1
49
31
0
49
32
0
7
33
64
83
34
11
I
a
I
0
I
0
I
0
I
-2
p
35
x
3
@c1
x
4
tags
x
14
albums_artists
x
2
b1
x
2
b2
x
2
c1
x
2
c2
x
6
albums
x
2
d1
x
2
d2
x
2
e1
x
2
e2
x
11
albums_tags
x
2
f1
x
2
f2
x
2
g1
x
2
g2
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
2
h1
x
2
h2
x
3
[]=
x
16
left_primary_key
x
2
id
x
3
yyy
x
17
many_through_many
x
3
@c2
I
4d2
x
4
load
x
7
exclude
x
3
sql
x
6
should
s
490
SELECT * FROM artists WHERE (((artists.id, artists.yyy) NOT IN (SELECT albums_artists.b1, albums_artists.b2 FROM albums_artists INNER JOIN albums ON ((albums.d1 = albums_artists.c1) AND (albums.d2 = albums_artists.c2)) INNER JOIN albums_tags ON ((albums_tags.f1 = albums.e1) AND (albums_tags.f2 = albums.e2)) WHERE ((albums_tags.g1 = 1234) AND (albums_tags.g2 = 85) AND (albums_artists.b1 IS NOT NULL) AND (albums_artists.b2 IS NOT NULL)))) OR (artists.id IS NULL) OR (artists.yyy IS NULL))
x
2
==
p
5
I
0
I
a3
I
5b
I
a4
I
98
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
68
should allowing filtering by multiple many_through_many associations
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
109
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
1
39
12
44
43
10
79
49
11
1
13
7
6
7
13
49
14
2
15
49
15
1
39
12
44
43
10
79
49
11
1
13
7
6
7
16
49
14
2
15
49
15
1
35
2
49
14
2
15
49
17
1
49
18
0
49
19
0
7
20
64
83
21
11
I
b
I
0
I
0
I
0
I
-2
p
22
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
x
3
@c2
I
4d2
x
3
[]=
x
4
load
I
929
x
6
filter
x
3
sql
x
6
should
s
305
SELECT * FROM artists WHERE (artists.id IN (SELECT albums_artists.artist_id FROM albums_artists INNER JOIN albums ON (albums.id = albums_artists.album_id) INNER JOIN albums_tags ON (albums_tags.album_id = albums.id) WHERE ((albums_tags.tag_id IN (1234, 2345)) AND (albums_artists.artist_id IS NOT NULL))))
x
2
==
p
5
I
0
I
a8
I
22
I
a9
I
6d
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
88
should allowing filtering by multiple many_through_many associations with composite keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
184
39
0
7
1
7
2
7
3
7
4
35
2
7
5
7
6
35
2
35
3
7
7
7
8
7
9
35
2
7
10
7
11
35
2
35
3
7
12
7
13
7
14
35
2
7
15
7
16
35
2
35
3
35
3
44
43
17
80
49
18
1
13
7
19
7
20
7
21
35
2
49
22
2
15
13
7
23
7
24
7
25
35
2
49
22
2
15
49
26
3
15
39
0
44
43
17
79
49
18
1
13
7
1
39
27
44
43
17
80
49
18
1
13
7
20
7
28
49
22
2
15
13
7
21
4
85
49
22
2
15
49
29
1
39
27
44
43
17
80
49
18
1
13
7
20
7
30
49
22
2
15
13
7
21
4
95
49
22
2
15
49
29
1
35
2
49
22
2
15
49
31
1
49
32
0
49
33
0
7
34
64
83
35
11
I
b
I
0
I
0
I
0
I
-2
p
36
x
3
@c1
x
4
tags
x
14
albums_artists
x
2
b1
x
2
b2
x
2
c1
x
2
c2
x
6
albums
x
2
d1
x
2
d2
x
2
e1
x
2
e2
x
11
albums_tags
x
2
f1
x
2
f2
x
2
g1
x
2
g2
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
2
h1
x
2
h2
x
3
[]=
x
16
left_primary_key
x
2
id
x
3
yyy
x
17
many_through_many
x
3
@c2
I
4d2
x
4
load
I
929
x
6
filter
x
3
sql
x
6
should
s
448
SELECT * FROM artists WHERE ((artists.id, artists.yyy) IN (SELECT albums_artists.b1, albums_artists.b2 FROM albums_artists INNER JOIN albums ON ((albums.d1 = albums_artists.c1) AND (albums.d2 = albums_artists.c2)) INNER JOIN albums_tags ON ((albums_tags.f1 = albums.e1) AND (albums_tags.f2 = albums.e2)) WHERE (((albums_tags.g1, albums_tags.g2) IN ((1234, 85), (2345, 95))) AND (albums_artists.b1 IS NOT NULL) AND (albums_artists.b2 IS NOT NULL))))
x
2
==
p
5
I
0
I
ad
I
5b
I
ae
I
b8
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
68
should allowing excluding by multiple many_through_many associations
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
109
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
1
39
12
44
43
10
79
49
11
1
13
7
6
7
13
49
14
2
15
49
15
1
39
12
44
43
10
79
49
11
1
13
7
6
7
16
49
14
2
15
49
15
1
35
2
49
14
2
15
49
17
1
49
18
0
49
19
0
7
20
64
83
21
11
I
b
I
0
I
0
I
0
I
-2
p
22
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
x
3
@c2
I
4d2
x
3
[]=
x
4
load
I
929
x
7
exclude
x
3
sql
x
6
should
s
335
SELECT * FROM artists WHERE ((artists.id NOT IN (SELECT albums_artists.artist_id FROM albums_artists INNER JOIN albums ON (albums.id = albums_artists.album_id) INNER JOIN albums_tags ON (albums_tags.album_id = albums.id) WHERE ((albums_tags.tag_id IN (1234, 2345)) AND (albums_artists.artist_id IS NOT NULL)))) OR (artists.id IS NULL))
x
2
==
p
5
I
0
I
b2
I
22
I
b3
I
6d
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
88
should allowing excluding by multiple many_through_many associations with composite keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
184
39
0
7
1
7
2
7
3
7
4
35
2
7
5
7
6
35
2
35
3
7
7
7
8
7
9
35
2
7
10
7
11
35
2
35
3
7
12
7
13
7
14
35
2
7
15
7
16
35
2
35
3
35
3
44
43
17
80
49
18
1
13
7
19
7
20
7
21
35
2
49
22
2
15
13
7
23
7
24
7
25
35
2
49
22
2
15
49
26
3
15
39
0
44
43
17
79
49
18
1
13
7
1
39
27
44
43
17
80
49
18
1
13
7
20
7
28
49
22
2
15
13
7
21
4
85
49
22
2
15
49
29
1
39
27
44
43
17
80
49
18
1
13
7
20
7
30
49
22
2
15
13
7
21
4
95
49
22
2
15
49
29
1
35
2
49
22
2
15
49
31
1
49
32
0
49
33
0
7
34
64
83
35
11
I
b
I
0
I
0
I
0
I
-2
p
36
x
3
@c1
x
4
tags
x
14
albums_artists
x
2
b1
x
2
b2
x
2
c1
x
2
c2
x
6
albums
x
2
d1
x
2
d2
x
2
e1
x
2
e2
x
11
albums_tags
x
2
f1
x
2
f2
x
2
g1
x
2
g2
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
2
h1
x
2
h2
x
3
[]=
x
16
left_primary_key
x
2
id
x
3
yyy
x
17
many_through_many
x
3
@c2
I
4d2
x
4
load
I
929
x
7
exclude
x
3
sql
x
6
should
s
503
SELECT * FROM artists WHERE (((artists.id, artists.yyy) NOT IN (SELECT albums_artists.b1, albums_artists.b2 FROM albums_artists INNER JOIN albums ON ((albums.d1 = albums_artists.c1) AND (albums.d2 = albums_artists.c2)) INNER JOIN albums_tags ON ((albums_tags.f1 = albums.e1) AND (albums_tags.f2 = albums.e2)) WHERE (((albums_tags.g1, albums_tags.g2) IN ((1234, 85), (2345, 95))) AND (albums_artists.b1 IS NOT NULL) AND (albums_artists.b2 IS NOT NULL)))) OR (artists.id IS NULL) OR (artists.yyy IS NULL))
x
2
==
p
5
I
0
I
b7
I
5b
I
b8
I
b8
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
83
should allowing filtering/excluding many_through_many associations with NULL values
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
142
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
1
39
12
13
71
13
47
9
66
47
49
14
0
13
47
49
15
0
15
8
69
49
13
0
49
16
2
15
49
17
1
49
18
0
49
19
0
7
20
64
83
21
15
39
0
44
43
10
79
49
11
1
13
7
1
39
12
13
71
13
47
9
120
47
49
14
0
13
47
49
15
0
15
8
123
49
13
0
49
16
2
15
49
22
1
49
18
0
49
19
0
7
23
64
83
21
11
I
8
I
0
I
0
I
0
I
-2
p
24
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
x
3
@c2
x
3
new
x
8
allocate
x
10
initialize
x
3
[]=
x
6
filter
x
3
sql
x
6
should
s
31
SELECT * FROM artists WHERE 'f'
x
2
==
x
7
exclude
s
31
SELECT * FROM artists WHERE 't'
p
7
I
0
I
bc
I
22
I
bd
I
58
I
be
I
8e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
67
should allowing filtering by many_through_many association datasets
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
85
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
1
39
12
44
43
10
79
49
11
1
13
7
13
79
49
14
2
15
49
15
1
49
14
2
15
49
15
1
49
16
0
49
17
0
7
18
64
83
19
11
I
a
I
0
I
0
I
0
I
-2
p
20
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
x
3
@c2
x
1
x
x
3
[]=
x
6
filter
x
3
sql
x
6
should
s
361
SELECT * FROM artists WHERE (artists.id IN (SELECT albums_artists.artist_id FROM albums_artists INNER JOIN albums ON (albums.id = albums_artists.album_id) INNER JOIN albums_tags ON (albums_tags.album_id = albums.id) WHERE ((albums_tags.tag_id IN (SELECT tags.id FROM tags WHERE ((x = 1) AND (tags.id IS NOT NULL)))) AND (albums_artists.artist_id IS NOT NULL))))
x
2
==
p
5
I
0
I
c2
I
22
I
c3
I
55
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
87
should allowing filtering by many_through_many association datasets with composite keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
142
39
0
7
1
7
2
7
3
7
4
35
2
7
5
7
6
35
2
35
3
7
7
7
8
7
9
35
2
7
10
7
11
35
2
35
3
7
12
7
13
7
14
35
2
7
15
7
16
35
2
35
3
35
3
44
43
17
80
49
18
1
13
7
19
7
20
7
21
35
2
49
22
2
15
13
7
23
7
24
7
25
35
2
49
22
2
15
49
26
3
15
39
0
44
43
17
79
49
18
1
13
7
1
39
27
44
43
17
79
49
18
1
13
7
28
79
49
22
2
15
49
29
1
49
22
2
15
49
29
1
49
30
0
49
31
0
7
32
64
83
33
11
I
a
I
0
I
0
I
0
I
-2
p
34
x
3
@c1
x
4
tags
x
14
albums_artists
x
2
b1
x
2
b2
x
2
c1
x
2
c2
x
6
albums
x
2
d1
x
2
d2
x
2
e1
x
2
e2
x
11
albums_tags
x
2
f1
x
2
f2
x
2
g1
x
2
g2
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
2
h1
x
2
h2
x
3
[]=
x
16
left_primary_key
x
2
id
x
3
yyy
x
17
many_through_many
x
3
@c2
x
1
x
x
6
filter
x
3
sql
x
6
should
s
527
SELECT * FROM artists WHERE ((artists.id, artists.yyy) IN (SELECT albums_artists.b1, albums_artists.b2 FROM albums_artists INNER JOIN albums ON ((albums.d1 = albums_artists.c1) AND (albums.d2 = albums_artists.c2)) INNER JOIN albums_tags ON ((albums_tags.f1 = albums.e1) AND (albums_tags.f2 = albums.e2)) WHERE (((albums_tags.g1, albums_tags.g2) IN (SELECT tags.h1, tags.h2 FROM tags WHERE ((x = 1) AND (tags.h1 IS NOT NULL) AND (tags.h2 IS NOT NULL)))) AND (albums_artists.b1 IS NOT NULL) AND (albums_artists.b2 IS NOT NULL))))
x
2
==
p
5
I
0
I
c7
I
5b
I
c8
I
8e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
67
should allowing excluding by many_through_many association datasets
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
85
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
1
39
12
44
43
10
79
49
11
1
13
7
13
79
49
14
2
15
49
15
1
49
14
2
15
49
16
1
49
17
0
49
18
0
7
19
64
83
20
11
I
a
I
0
I
0
I
0
I
-2
p
21
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
x
3
@c2
x
1
x
x
3
[]=
x
6
filter
x
7
exclude
x
3
sql
x
6
should
s
391
SELECT * FROM artists WHERE ((artists.id NOT IN (SELECT albums_artists.artist_id FROM albums_artists INNER JOIN albums ON (albums.id = albums_artists.album_id) INNER JOIN albums_tags ON (albums_tags.album_id = albums.id) WHERE ((albums_tags.tag_id IN (SELECT tags.id FROM tags WHERE ((x = 1) AND (tags.id IS NOT NULL)))) AND (albums_artists.artist_id IS NOT NULL)))) OR (artists.id IS NULL))
x
2
==
p
5
I
0
I
cc
I
22
I
cd
I
55
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
87
should allowing excluding by many_through_many association datasets with composite keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
142
39
0
7
1
7
2
7
3
7
4
35
2
7
5
7
6
35
2
35
3
7
7
7
8
7
9
35
2
7
10
7
11
35
2
35
3
7
12
7
13
7
14
35
2
7
15
7
16
35
2
35
3
35
3
44
43
17
80
49
18
1
13
7
19
7
20
7
21
35
2
49
22
2
15
13
7
23
7
24
7
25
35
2
49
22
2
15
49
26
3
15
39
0
44
43
17
79
49
18
1
13
7
1
39
27
44
43
17
79
49
18
1
13
7
28
79
49
22
2
15
49
29
1
49
22
2
15
49
30
1
49
31
0
49
32
0
7
33
64
83
34
11
I
a
I
0
I
0
I
0
I
-2
p
35
x
3
@c1
x
4
tags
x
14
albums_artists
x
2
b1
x
2
b2
x
2
c1
x
2
c2
x
6
albums
x
2
d1
x
2
d2
x
2
e1
x
2
e2
x
11
albums_tags
x
2
f1
x
2
f2
x
2
g1
x
2
g2
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
2
h1
x
2
h2
x
3
[]=
x
16
left_primary_key
x
2
id
x
3
yyy
x
17
many_through_many
x
3
@c2
x
1
x
x
6
filter
x
7
exclude
x
3
sql
x
6
should
s
582
SELECT * FROM artists WHERE (((artists.id, artists.yyy) NOT IN (SELECT albums_artists.b1, albums_artists.b2 FROM albums_artists INNER JOIN albums ON ((albums.d1 = albums_artists.c1) AND (albums.d2 = albums_artists.c2)) INNER JOIN albums_tags ON ((albums_tags.f1 = albums.e1) AND (albums_tags.f2 = albums.e2)) WHERE (((albums_tags.g1, albums_tags.g2) IN (SELECT tags.h1, tags.h2 FROM tags WHERE ((x = 1) AND (tags.h1 IS NOT NULL) AND (tags.h2 IS NOT NULL)))) AND (albums_artists.b1 IS NOT NULL) AND (albums_artists.b2 IS NOT NULL)))) OR (artists.id IS NULL) OR (artists.yyy IS NULL))
x
2
==
p
5
I
0
I
d1
I
5b
I
d2
I
8e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
35
should support a :conditions option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
267
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
44
43
9
79
49
10
1
13
7
12
4
32
49
13
2
15
49
13
2
15
49
14
3
15
39
0
44
43
9
79
49
10
1
13
7
6
7
15
49
13
2
15
49
16
1
19
0
15
20
0
49
17
0
49
18
0
49
19
0
7
20
64
83
21
15
20
0
49
1
0
49
19
0
39
22
44
43
9
79
49
10
1
13
7
6
79
49
13
2
15
49
16
1
35
1
83
21
15
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
23
64
4
42
35
2
49
13
2
15
49
14
3
15
39
0
44
43
9
79
49
10
1
13
7
6
7
15
49
13
2
15
49
16
1
19
0
15
20
0
49
17
0
49
18
0
49
19
0
7
24
64
83
21
15
20
0
49
1
0
49
19
0
39
22
44
43
9
79
49
10
1
13
7
6
79
49
13
2
15
49
16
1
35
1
83
21
11
I
c
I
1
I
0
I
0
I
-2
p
25
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
10
conditions
x
1
a
x
3
[]=
x
17
many_through_many
I
4d2
x
4
load
x
12
tags_dataset
x
3
sql
x
6
should
s
258
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234)) WHERE (a = 32)
x
2
==
x
3
@c2
s
5
a = ?
s
258
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234)) WHERE (a = 42)
p
17
I
0
I
d6
I
40
I
d7
I
58
I
d8
I
69
I
d9
I
8a
I
db
I
c1
I
dc
I
d9
I
dd
I
ea
I
de
I
10b
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
31
should support an :order option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
124
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
49
13
2
15
49
14
3
15
39
0
44
43
9
79
49
10
1
13
7
6
7
15
49
13
2
15
49
16
1
19
0
15
20
0
49
17
0
49
18
0
49
19
0
7
20
64
83
21
15
20
0
49
1
0
49
19
0
39
22
44
43
9
79
49
10
1
13
7
6
79
49
13
2
15
49
16
1
35
1
83
21
11
I
9
I
1
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
order
x
4
blah
x
3
[]=
x
17
many_through_many
I
4d2
x
4
load
x
12
tags_dataset
x
3
sql
x
6
should
s
257
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234)) ORDER BY blah
x
2
==
x
3
@c2
p
9
I
0
I
e2
I
32
I
e3
I
4a
I
e4
I
5b
I
e5
I
7c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
45
should support an array for the :order option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
128
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
7
13
35
2
49
14
2
15
49
15
3
15
39
0
44
43
9
79
49
10
1
13
7
6
7
16
49
14
2
15
49
17
1
19
0
15
20
0
49
18
0
49
19
0
49
20
0
7
21
64
83
22
15
20
0
49
1
0
49
20
0
39
23
44
43
9
79
49
10
1
13
7
6
79
49
14
2
15
49
17
1
35
1
83
22
11
I
a
I
1
I
0
I
0
I
-2
p
24
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
order
x
5
blah1
x
5
blah2
x
3
[]=
x
17
many_through_many
I
4d2
x
4
load
x
12
tags_dataset
x
3
sql
x
6
should
s
265
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234)) ORDER BY blah1, blah2
x
2
==
x
3
@c2
p
9
I
0
I
e9
I
36
I
ea
I
4e
I
eb
I
5f
I
ec
I
80
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
30
should support a select option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
124
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
49
13
2
15
49
14
3
15
39
0
44
43
9
79
49
10
1
13
7
6
7
15
49
13
2
15
49
16
1
19
0
15
20
0
49
17
0
49
18
0
49
19
0
7
20
64
83
21
15
20
0
49
1
0
49
19
0
39
22
44
43
9
79
49
10
1
13
7
6
79
49
13
2
15
49
16
1
35
1
83
21
11
I
9
I
1
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
6
select
x
4
blah
x
3
[]=
x
17
many_through_many
I
4d2
x
4
load
x
12
tags_dataset
x
3
sql
x
6
should
s
241
SELECT blah FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234))
x
2
==
x
3
@c2
p
9
I
0
I
f0
I
32
I
f1
I
4a
I
f2
I
5b
I
f3
I
7c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
45
should support an array for the select option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
158
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
45
12
13
43
14
43
15
13
71
16
47
9
67
47
49
17
0
13
7
1
47
49
18
1
15
8
72
7
1
49
16
1
7
19
35
2
49
20
2
15
49
21
3
15
39
0
44
43
9
79
49
10
1
13
7
6
7
22
49
20
2
15
49
23
1
19
0
15
20
0
49
24
0
49
25
0
49
26
0
7
27
64
83
28
15
20
0
49
1
0
49
26
0
39
29
44
43
9
79
49
10
1
13
7
6
79
49
20
2
15
49
23
1
35
1
83
28
11
I
b
I
1
I
0
I
0
I
-2
p
30
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
6
select
x
6
Sequel
n
x
3
SQL
x
9
ColumnAll
x
3
new
x
8
allocate
x
10
initialize
x
12
albums__name
x
3
[]=
x
17
many_through_many
I
4d2
x
4
load
x
12
tags_dataset
x
3
sql
x
6
should
s
256
SELECT tags.*, albums.name FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234))
x
2
==
x
3
@c2
p
9
I
0
I
f7
I
54
I
f8
I
6c
I
f9
I
7d
I
fa
I
9e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
21
should accept a block
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
122
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
56
9
50
10
2
15
39
0
44
43
11
79
49
12
1
13
7
6
7
13
49
14
2
15
49
15
1
19
0
15
20
0
4
85
13
18
2
49
16
1
15
15
20
0
49
17
0
49
18
0
49
19
0
7
20
64
83
21
15
20
0
49
1
0
49
19
0
39
22
44
43
11
79
49
12
1
13
7
6
79
49
14
2
15
49
15
1
35
1
83
21
11
I
9
I
1
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
26
57
19
0
15
20
0
44
43
0
79
49
1
1
13
7
2
39
3
49
4
2
15
49
5
1
11
I
7
I
1
I
1
I
1
n
p
6
x
4
Hash
x
16
new_from_literal
x
3
yyy
x
4
@yyy
x
3
[]=
x
6
filter
p
3
I
0
I
fe
I
1a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
2
ds
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
I
4d2
x
3
[]=
x
4
load
x
4
yyy=
x
12
tags_dataset
x
3
sql
x
6
should
s
260
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234)) WHERE (yyy = 85)
x
2
==
x
3
@c2
p
11
I
0
I
fe
I
24
I
ff
I
3c
I
100
I
48
I
101
I
59
I
102
I
7a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
54
should allow the :order option while accepting a block
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
138
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
49
13
2
15
56
14
50
15
3
15
39
0
44
43
9
79
49
10
1
13
7
6
7
16
49
13
2
15
49
17
1
19
0
15
20
0
4
85
13
18
2
49
18
1
15
15
20
0
49
19
0
49
20
0
49
21
0
7
22
64
83
23
15
20
0
49
1
0
49
21
0
39
24
44
43
9
79
49
10
1
13
7
6
79
49
13
2
15
49
17
1
35
1
83
23
11
I
9
I
1
I
0
I
0
I
-2
p
25
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
order
x
4
blah
x
3
[]=
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
26
57
19
0
15
20
0
44
43
0
79
49
1
1
13
7
2
39
3
49
4
2
15
49
5
1
11
I
7
I
1
I
1
I
1
n
p
6
x
4
Hash
x
16
new_from_literal
x
3
yyy
x
4
@yyy
x
3
[]=
x
6
filter
p
3
I
0
I
106
I
1a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
2
ds
x
17
many_through_many
I
4d2
x
4
load
x
4
yyy=
x
12
tags_dataset
x
3
sql
x
6
should
s
274
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234)) WHERE (yyy = 85) ORDER BY blah
x
2
==
x
3
@c2
p
11
I
0
I
106
I
34
I
107
I
4c
I
108
I
58
I
109
I
69
I
10a
I
8a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
68
should support a :dataset option that is used instead of the default
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
113
39
0
7
1
7
2
7
3
7
4
35
3
35
1
44
43
5
79
49
6
1
13
7
7
5
56
8
47
50
9
0
49
10
2
15
49
11
3
15
39
0
44
43
5
79
49
6
1
13
7
12
7
13
49
10
2
15
49
14
1
19
0
15
20
0
49
15
0
49
16
0
49
17
0
7
18
64
83
19
15
20
0
49
1
0
49
17
0
39
20
44
43
5
79
49
6
1
13
7
12
79
49
10
2
15
49
14
1
35
1
83
19
11
I
a
I
1
I
0
I
0
I
-2
p
21
x
3
@c1
x
4
tags
x
1
a
x
1
b
x
1
c
x
4
Hash
x
16
new_from_literal
x
7
dataset
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
51
45
0
1
7
2
7
3
35
1
49
4
2
7
5
7
6
35
1
49
4
2
7
7
7
6
35
1
49
4
2
44
43
8
79
49
9
1
13
7
10
5
48
11
49
12
2
15
49
13
1
11
I
6
I
0
I
0
I
0
I
-2
p
14
x
3
Tag
n
x
11
albums_tags
x
6
tag_id
x
4
join
x
6
albums
x
8
album_id
x
14
albums_artists
x
4
Hash
x
16
new_from_literal
x
25
albums_artists__artist_id
x
2
id
x
3
[]=
x
6
filter
p
3
I
0
I
10e
I
33
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
4
proc
x
3
[]=
x
17
many_through_many
x
2
id
I
4d2
x
4
load
x
12
tags_dataset
x
3
sql
x
6
should
s
179
SELECT tags.* FROM tags INNER JOIN albums_tags USING (tag_id) INNER JOIN albums USING (album_id) INNER JOIN albums_artists USING (album_id) WHERE (albums_artists.artist_id = 1234)
x
2
==
x
3
@c2
p
9
I
0
I
10e
I
27
I
10f
I
3f
I
110
I
50
I
111
I
71
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
30
should support a :limit option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
252
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
4
10
49
12
2
15
49
13
3
15
39
0
44
43
9
79
49
10
1
13
7
6
7
14
49
12
2
15
49
15
1
19
0
15
20
0
49
16
0
49
17
0
49
18
0
7
19
64
83
20
15
20
0
49
1
0
49
18
0
39
21
44
43
9
79
49
10
1
13
7
6
79
49
12
2
15
49
15
1
35
1
83
20
15
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
4
10
4
10
35
2
49
12
2
15
49
13
3
15
39
0
44
43
9
79
49
10
1
13
7
6
7
14
49
12
2
15
49
15
1
19
0
15
20
0
49
16
0
49
17
0
49
18
0
7
22
64
83
20
15
20
0
49
1
0
49
18
0
39
21
44
43
9
79
49
10
1
13
7
6
79
49
12
2
15
49
15
1
35
1
83
20
11
I
a
I
1
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
limit
x
3
[]=
x
17
many_through_many
I
4d2
x
4
load
x
12
tags_dataset
x
3
sql
x
6
should
s
252
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234)) LIMIT 10
x
2
==
x
3
@c2
s
262
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234)) LIMIT 10 OFFSET 10
p
17
I
0
I
115
I
32
I
116
I
4a
I
117
I
5b
I
118
I
7c
I
11a
I
b2
I
11b
I
ca
I
11c
I
db
I
11d
I
fc
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
56
should have the :eager option affect the _dataset method
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
111
39
0
7
1
49
2
1
15
39
3
7
4
7
5
7
6
7
7
35
3
7
8
7
9
7
9
35
3
7
10
7
7
7
11
35
3
35
3
44
43
12
79
49
13
1
13
7
14
7
1
49
15
2
15
49
16
3
15
39
3
44
43
12
79
49
13
1
13
7
9
7
17
49
15
2
15
49
18
1
49
19
0
49
20
0
7
14
49
21
1
49
22
0
44
43
12
79
49
13
1
13
7
1
1
49
15
2
15
83
23
11
I
8
I
0
I
0
I
0
I
-2
p
24
x
3
@c2
x
4
fans
x
12
many_to_many
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
eager
x
3
[]=
x
17
many_through_many
I
4d2
x
4
load
x
12
tags_dataset
x
4
opts
x
2
[]
x
6
should
x
2
==
p
7
I
0
I
121
I
8
I
122
I
3a
I
123
I
6f
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
59
should provide an array with all members of the association
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
103
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
6
7
12
49
13
2
15
49
14
1
49
1
0
49
15
0
39
16
44
43
10
79
49
11
1
13
7
6
79
49
13
2
15
49
14
1
35
1
83
17
15
45
18
19
49
20
0
49
15
0
7
21
64
35
1
83
17
11
I
8
I
0
I
0
I
0
I
-2
p
22
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
I
4d2
x
3
[]=
x
4
load
x
6
should
x
3
@c2
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
243
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234))
p
7
I
0
I
127
I
22
I
128
I
56
I
129
I
67
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
49
should set cached instance variable when accessed
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
176
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
6
7
12
49
13
2
15
49
14
1
19
0
15
20
0
49
15
0
7
1
49
16
1
49
17
0
1
83
18
15
45
19
20
49
21
0
49
17
0
35
0
83
18
15
20
0
49
1
0
49
17
0
39
22
44
43
10
79
49
11
1
13
7
6
79
49
13
2
15
49
14
1
35
1
83
18
15
45
19
23
49
21
0
49
17
0
7
24
64
35
1
83
18
15
20
0
49
15
0
7
1
49
16
1
49
17
0
20
0
49
1
0
83
18
15
45
19
25
49
21
0
49
26
0
49
17
0
78
83
18
11
I
9
I
1
I
0
I
0
I
-2
p
27
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
I
4d2
x
3
[]=
x
4
load
x
12
associations
x
2
[]
x
6
should
x
2
==
x
8
MODEL_DB
n
x
4
sqls
x
3
@c2
n
s
243
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234))
n
x
6
length
p
17
I
0
I
12d
I
22
I
12e
I
3a
I
12f
I
4b
I
130
I
59
I
131
I
7a
I
132
I
8b
I
133
I
a0
I
134
I
b0
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
48
should use cached instance variable if available
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
102
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
6
7
12
49
13
2
15
49
14
1
19
0
15
20
0
49
15
0
7
1
35
0
13
18
3
49
13
2
15
15
20
0
49
1
0
49
16
0
35
0
83
17
15
45
18
19
49
20
0
49
16
0
35
0
83
17
11
I
9
I
1
I
0
I
0
I
-2
p
21
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
I
4d2
x
3
[]=
x
4
load
x
12
associations
x
6
should
x
2
==
x
8
MODEL_DB
n
x
4
sqls
p
11
I
0
I
138
I
22
I
139
I
3a
I
13a
I
4b
I
13b
I
58
I
13c
I
66
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
58
should not use cached instance variable if asked to reload
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
177
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
44
43
10
79
49
11
1
13
7
6
7
12
49
13
2
15
49
14
1
19
0
15
20
0
49
15
0
7
1
35
0
13
18
3
49
13
2
15
15
45
16
17
49
18
0
49
19
0
35
0
83
20
15
20
0
2
49
1
1
49
19
0
39
21
44
43
10
79
49
11
1
13
7
6
79
49
13
2
15
49
14
1
35
1
83
20
15
45
16
22
49
18
0
49
19
0
7
23
64
35
1
83
20
15
20
0
49
15
0
7
1
49
24
1
49
19
0
20
0
49
1
0
83
20
15
45
16
25
49
18
0
49
26
0
49
19
0
78
83
20
11
I
9
I
1
I
0
I
0
I
-2
p
27
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
4
Hash
x
16
new_from_literal
I
4d2
x
3
[]=
x
4
load
x
12
associations
x
8
MODEL_DB
n
x
4
sqls
x
6
should
x
2
==
x
3
@c2
n
s
243
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1234))
x
2
[]
n
x
6
length
p
17
I
0
I
140
I
22
I
141
I
3a
I
142
I
4b
I
143
I
59
I
144
I
7b
I
145
I
8c
I
146
I
a1
I
147
I
b1
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
n
s
53
should not add associations methods directly to class
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
117
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
49
9
2
15
39
0
49
10
0
56
11
50
12
0
19
0
15
20
0
5
7
13
64
47
49
14
1
49
15
1
15
20
0
5
7
16
64
47
49
14
1
49
15
1
15
39
0
3
49
10
1
56
17
50
12
0
19
1
15
20
1
5
7
13
64
47
49
14
1
49
18
1
15
20
1
5
7
16
64
47
49
14
1
49
18
1
11
I
a
I
2
I
0
I
0
I
-2
p
19
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
16
instance_methods
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
10
57
19
0
15
20
0
49
0
0
11
I
3
I
1
I
1
I
1
n
p
1
x
4
to_s
p
3
I
0
I
14c
I
a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
x
x
7
collect
s
4
tags
x
7
include
x
6
should
s
12
tags_dataset
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
10
57
19
0
15
20
0
49
0
0
11
I
3
I
1
I
1
I
1
n
p
1
x
4
to_s
p
3
I
0
I
14f
I
a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
x
x
10
should_not
p
15
I
0
I
14b
I
22
I
14c
I
2f
I
14d
I
3d
I
14e
I
4b
I
14f
I
59
I
150
I
67
I
151
I
75
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
2
im
x
3
im2
s
46
should support after_load association callback
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
185
35
0
19
0
15
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
49
13
2
15
49
14
3
15
39
0
56
15
50
16
0
15
39
17
49
18
0
44
43
9
79
49
10
1
13
7
6
4
20
49
13
2
15
44
43
9
79
49
10
1
13
7
6
4
30
49
13
2
15
35
2
13
18
2
49
19
1
15
15
39
0
44
43
9
80
49
10
1
13
7
6
4
10
49
13
2
15
13
7
20
4
20
49
13
2
15
49
21
1
19
1
15
20
1
49
1
0
15
20
0
49
22
0
7
23
7
24
35
2
83
25
15
20
1
49
1
0
56
26
50
27
0
49
22
0
4
20
4
30
35
2
83
25
11
I
a
I
2
I
0
I
0
I
-2
p
28
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
10
after_load
x
2
al
x
3
[]=
x
17
many_through_many
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
24
5
7
0
21
1
0
49
1
2
15
99
7
2
7
3
65
67
49
4
0
49
5
4
11
I
6
I
0
I
0
I
0
I
-2
p
6
x
3
Foo
x
9
const_set
x
2
al
M
1
n
n
x
2
al
i
8
20
0
56
0
50
1
0
11
I
3
I
1
I
1
I
1
n
p
2
M
1
p
2
x
9
for_block
t
n
x
2
al
i
23
57
19
0
15
5
48
0
43
1
20
0
49
2
0
4
20
49
3
1
49
4
1
11
I
5
I
1
I
1
I
1
n
p
5
x
5
model
x
3
Foo
x
2
pk
x
1
*
x
2
<<
p
3
I
0
I
15a
I
17
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
x
x
4
each
p
5
I
-1
I
159
I
0
I
15a
I
8
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
v
x
17
method_visibility
x
15
add_defn_method
p
5
I
0
I
158
I
a
I
159
I
18
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
10
class_eval
x
3
@c2
x
7
dataset
x
7
_fetch=
x
9
parent_id
x
4
load
x
6
should
I
190
I
258
x
2
==
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
10
57
19
0
15
20
0
49
0
0
11
I
3
I
1
I
1
I
1
n
p
1
x
2
pk
p
3
I
0
I
161
I
a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
x
7
collect
p
17
I
0
I
155
I
5
I
156
I
37
I
157
I
3f
I
15d
I
6e
I
15e
I
8f
I
15f
I
95
I
160
I
a3
I
161
I
b9
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
1
h
x
1
p
s
74
should support a :uniq option that removes duplicates from the association
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
207
35
0
19
0
15
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
2
49
12
2
15
49
13
3
15
39
14
49
15
0
44
43
9
79
49
10
1
13
7
6
4
20
49
12
2
15
44
43
9
79
49
10
1
13
7
6
4
30
49
12
2
15
44
43
9
79
49
10
1
13
7
6
4
20
49
12
2
15
44
43
9
79
49
10
1
13
7
6
4
30
49
12
2
15
35
4
13
18
2
49
16
1
15
15
39
0
44
43
9
79
49
10
1
13
7
6
4
10
49
12
2
15
49
17
1
49
1
0
49
18
0
39
14
44
43
9
79
49
10
1
13
7
6
4
20
49
12
2
15
49
17
1
39
14
44
43
9
79
49
10
1
13
7
6
4
30
49
12
2
15
49
17
1
35
2
83
19
11
I
a
I
1
I
0
I
0
I
-2
p
20
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
4
uniq
x
3
[]=
x
17
many_through_many
x
3
@c2
x
7
dataset
x
7
_fetch=
x
4
load
x
6
should
x
2
==
p
9
I
0
I
165
I
5
I
166
I
36
I
167
I
85
I
168
I
cf
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
h
p
93
I
0
I
4
I
8
I
13
I
10
I
18
I
1b
I
25
I
26
I
31
I
31
I
3b
I
3c
I
4c
I
47
I
52
I
52
I
59
I
5d
I
61
I
68
I
68
I
73
I
72
I
7e
I
79
I
89
I
81
I
94
I
89
I
9f
I
8e
I
aa
I
93
I
b5
I
98
I
c0
I
9d
I
cb
I
a2
I
d6
I
a7
I
e1
I
ac
I
ec
I
b1
I
f7
I
b6
I
102
I
bb
I
10d
I
c1
I
118
I
c6
I
123
I
cb
I
12e
I
d0
I
139
I
d5
I
144
I
e1
I
14f
I
e8
I
15a
I
ef
I
165
I
f6
I
170
I
fd
I
17b
I
105
I
186
I
10d
I
191
I
114
I
19c
I
120
I
1a7
I
126
I
1b2
I
12c
I
1bd
I
137
I
1c8
I
13f
I
1d3
I
14a
I
1de
I
154
I
1e9
I
164
I
1f4
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
8
describe
s
70
Sequel::Plugins::ManyThroughMany::ManyThroughManyAssociationReflection
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
71
5
56
0
47
50
1
0
15
5
56
2
47
50
3
0
15
5
7
4
64
56
5
47
50
6
1
15
5
7
7
64
56
8
47
50
6
1
15
5
7
9
64
56
10
47
50
6
1
15
5
7
11
64
56
12
47
50
6
1
15
5
7
13
64
56
14
47
50
6
1
11
I
4
I
0
I
0
I
0
I
-2
p
15
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
64
99
7
0
45
1
2
43
3
44
49
4
3
13
99
12
7
5
12
7
6
12
65
12
49
7
4
15
49
5
0
15
99
7
8
45
1
9
43
3
44
49
4
3
15
1
15
45
10
11
49
12
0
15
45
0
13
7
14
49
15
1
38
16
11
I
7
I
0
I
0
I
0
I
-2
p
17
x
6
Artist
x
6
Sequel
n
x
5
Model
x
16
open_class_under
x
14
__class_init__
M
1
n
n
x
6
Artist
i
44
5
66
5
7
0
47
49
1
1
15
5
7
2
7
3
7
4
7
5
35
3
7
6
7
7
7
7
35
3
7
8
7
5
7
9
35
3
35
3
47
49
0
2
11
I
7
I
0
I
0
I
0
n
p
10
x
17
many_through_many
x
6
plugin
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
p
5
I
2
I
16f
I
a
I
170
I
2c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
13
attach_method
x
3
Tag
n
x
8
MODEL_DB
n
x
5
reset
n
x
4
tags
x
22
association_reflection
x
3
@ar
p
9
I
0
I
16e
I
1f
I
172
I
2e
I
174
I
35
I
175
I
40
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
6
before
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
22
45
0
1
7
2
7
3
49
4
2
15
45
0
5
7
2
7
6
49
4
2
11
I
4
I
0
I
0
I
0
I
-2
p
7
x
6
Object
n
x
12
remove_const
x
6
Artist
x
4
send
n
x
3
Tag
p
5
I
0
I
178
I
b
I
179
I
16
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
5
after
s
62
#edges should be an array of joins to make when eager graphing
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
196
39
0
49
1
0
49
2
0
44
43
3
4
6
49
4
1
13
7
5
35
0
49
6
2
15
13
7
7
7
8
49
6
2
15
13
7
9
7
10
49
6
2
15
13
7
11
7
12
49
6
2
15
13
7
13
7
14
49
6
2
15
13
7
15
1
49
6
2
15
44
43
3
4
6
49
4
1
13
7
5
35
0
49
6
2
15
13
7
7
7
16
49
6
2
15
13
7
9
7
8
49
6
2
15
13
7
11
7
17
49
6
2
15
13
7
13
7
14
49
6
2
15
13
7
15
1
49
6
2
15
44
43
3
4
6
49
4
1
13
7
5
35
0
49
6
2
15
13
7
7
7
8
49
6
2
15
13
7
9
7
16
49
6
2
15
13
7
11
7
18
49
6
2
15
13
7
13
7
14
49
6
2
15
13
7
15
1
49
6
2
15
35
3
83
19
11
I
8
I
0
I
0
I
0
I
-2
p
20
x
3
@ar
x
5
edges
x
6
should
x
4
Hash
x
16
new_from_literal
x
10
conditions
x
3
[]=
x
4
left
x
2
id
x
5
right
x
9
artist_id
x
5
table
x
14
albums_artists
x
9
join_type
x
10
left_outer
x
5
block
x
8
album_id
x
6
albums
x
11
albums_tags
x
2
==
p
3
I
0
I
17d
I
c4
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
2
it
s
35
#edges should handle composite keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
318
45
0
1
7
2
7
3
7
4
7
5
35
2
7
6
7
7
35
2
35
3
7
8
7
9
7
10
35
2
7
11
7
12
35
2
35
3
7
13
7
14
7
15
35
2
7
16
7
17
35
2
35
3
35
3
44
43
18
80
49
19
1
13
7
20
7
21
7
22
35
2
49
23
2
15
13
7
24
7
25
7
26
35
2
49
23
2
15
49
27
3
15
45
0
28
7
2
49
29
1
49
30
0
49
31
0
44
43
18
4
6
49
19
1
13
7
32
35
0
49
23
2
15
13
7
33
7
25
7
26
35
2
49
23
2
15
13
7
34
7
4
7
5
35
2
49
23
2
15
13
7
35
7
3
49
23
2
15
13
7
36
7
37
49
23
2
15
13
7
38
1
49
23
2
15
44
43
18
4
6
49
19
1
13
7
32
35
0
49
23
2
15
13
7
33
7
6
7
7
35
2
49
23
2
15
13
7
34
7
9
7
10
35
2
49
23
2
15
13
7
35
7
8
49
23
2
15
13
7
36
7
37
49
23
2
15
13
7
38
1
49
23
2
15
44
43
18
4
6
49
19
1
13
7
32
35
0
49
23
2
15
13
7
33
7
11
7
12
35
2
49
23
2
15
13
7
34
7
14
7
15
35
2
49
23
2
15
13
7
35
7
13
49
23
2
15
13
7
36
7
37
49
23
2
15
13
7
38
1
49
23
2
15
35
3
83
39
11
I
9
I
0
I
0
I
0
I
-2
p
40
x
6
Artist
n
x
4
tags
x
14
albums_artists
x
2
b1
x
2
b2
x
2
c1
x
2
c2
x
6
albums
x
2
d1
x
2
d2
x
2
e1
x
2
e2
x
11
albums_tags
x
2
f1
x
2
f2
x
2
g1
x
2
g2
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
2
h1
x
2
h2
x
3
[]=
x
16
left_primary_key
x
2
id
x
3
yyy
x
17
many_through_many
n
x
22
association_reflection
x
5
edges
x
6
should
x
10
conditions
x
4
left
x
5
right
x
5
table
x
9
join_type
x
10
left_outer
x
5
block
x
2
==
p
5
I
0
I
181
I
5c
I
182
I
13e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
85
#reverse_edges should be an array of joins to make when lazy loading or eager loading
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
101
39
0
49
1
0
49
2
0
44
43
3
4
4
49
4
1
13
7
5
7
6
49
7
2
15
13
7
8
7
9
49
7
2
15
13
7
10
7
11
49
7
2
15
13
7
12
7
6
49
7
2
15
44
43
3
4
4
49
4
1
13
7
5
7
13
49
7
2
15
13
7
8
7
11
49
7
2
15
13
7
10
7
14
49
7
2
15
13
7
12
7
13
49
7
2
15
35
2
83
15
11
I
7
I
0
I
0
I
0
I
-2
p
16
x
3
@ar
x
13
reverse_edges
x
6
should
x
4
Hash
x
16
new_from_literal
x
5
alias
x
11
albums_tags
x
3
[]=
x
4
left
x
6
tag_id
x
5
right
x
2
id
x
5
table
x
6
albums
x
8
album_id
x
2
==
p
3
I
0
I
186
I
65
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
43
#reverse_edges should handle composite keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
215
45
0
1
7
2
7
3
7
4
7
5
35
2
7
6
7
7
35
2
35
3
7
8
7
9
7
10
35
2
7
11
7
12
35
2
35
3
7
13
7
14
7
15
35
2
7
16
7
17
35
2
35
3
35
3
44
43
18
80
49
19
1
13
7
20
7
21
7
22
35
2
49
23
2
15
13
7
24
7
25
7
26
35
2
49
23
2
15
49
27
3
15
45
0
28
7
2
49
29
1
49
30
0
49
31
0
44
43
18
4
4
49
19
1
13
7
32
7
13
49
23
2
15
13
7
33
7
16
7
17
35
2
49
23
2
15
13
7
34
7
21
7
22
35
2
49
23
2
15
13
7
35
7
13
49
23
2
15
44
43
18
4
4
49
19
1
13
7
32
7
8
49
23
2
15
13
7
33
7
11
7
12
35
2
49
23
2
15
13
7
34
7
14
7
15
35
2
49
23
2
15
13
7
35
7
8
49
23
2
15
35
2
83
36
11
I
9
I
0
I
0
I
0
I
-2
p
37
x
6
Artist
n
x
4
tags
x
14
albums_artists
x
2
b1
x
2
b2
x
2
c1
x
2
c2
x
6
albums
x
2
d1
x
2
d2
x
2
e1
x
2
e2
x
11
albums_tags
x
2
f1
x
2
f2
x
2
g1
x
2
g2
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
2
h1
x
2
h2
x
3
[]=
x
16
left_primary_key
x
2
id
x
3
yyy
x
17
many_through_many
n
x
22
association_reflection
x
13
reverse_edges
x
6
should
x
5
alias
x
4
left
x
5
right
x
5
table
x
2
==
p
5
I
0
I
18a
I
5c
I
18b
I
d7
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
25
#reciprocal should be nil
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
12
39
0
49
1
0
49
2
0
1
83
3
11
I
3
I
0
I
0
I
0
I
-2
p
4
x
3
@ar
x
10
reciprocal
x
6
should
x
2
==
p
3
I
0
I
18f
I
c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
p
15
I
0
I
16d
I
8
I
177
I
10
I
17c
I
1b
I
180
I
26
I
185
I
31
I
189
I
3c
I
18e
I
47
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
54
Sequel::Plugins::ManyThroughMany eager loading methods
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
599
5
56
0
47
50
1
0
15
5
56
2
47
50
3
0
15
5
7
4
64
56
5
47
50
6
1
15
5
7
7
64
56
8
47
50
6
1
15
5
7
9
64
56
10
47
50
6
1
15
5
7
11
64
56
12
47
50
6
1
15
5
7
13
64
56
14
47
50
6
1
15
5
7
15
64
56
16
47
50
6
1
15
5
7
17
64
56
18
47
50
6
1
15
5
7
19
64
56
20
47
50
6
1
15
5
7
21
64
56
22
47
50
6
1
15
5
7
23
64
56
24
47
50
6
1
15
5
7
25
64
56
26
47
50
6
1
15
5
7
27
64
56
28
47
50
6
1
15
5
7
29
64
56
30
47
50
6
1
15
5
7
31
64
56
32
47
50
6
1
15
5
7
33
64
56
34
47
50
6
1
15
5
7
35
64
56
36
47
50
6
1
15
5
7
37
64
56
38
47
50
6
1
15
5
7
39
64
56
40
47
50
6
1
15
5
7
41
64
56
42
47
50
6
1
15
5
7
43
64
56
44
47
50
6
1
15
5
7
45
64
56
46
47
50
6
1
15
5
7
47
64
56
48
47
50
6
1
15
5
7
49
64
56
50
47
50
6
1
15
5
7
51
64
56
52
47
50
6
1
15
5
7
53
64
56
54
47
50
6
1
15
5
7
55
64
56
56
47
50
6
1
15
5
7
57
64
56
58
47
50
6
1
15
5
7
59
64
56
60
47
50
6
1
15
5
7
61
64
56
62
47
50
6
1
15
5
7
63
64
56
64
47
50
6
1
15
5
7
65
64
56
66
47
50
6
1
15
5
7
67
64
56
68
47
50
6
1
15
5
7
69
64
56
70
47
50
6
1
15
5
7
71
64
56
72
47
50
6
1
15
5
7
73
64
56
74
47
50
6
1
15
5
7
75
64
56
76
47
50
6
1
15
5
7
77
64
56
78
47
50
6
1
15
5
7
79
64
56
80
47
50
6
1
15
5
7
81
64
56
82
47
50
6
1
15
5
7
83
64
56
84
47
50
6
1
15
5
7
85
64
56
86
47
50
6
1
15
5
7
87
64
56
88
47
50
6
1
15
5
7
89
64
56
90
47
50
6
1
15
5
7
91
64
56
92
47
50
6
1
15
5
7
93
64
56
94
47
50
6
1
15
5
7
95
64
56
96
47
50
6
1
15
5
7
97
64
56
98
47
50
6
1
15
5
7
99
64
56
100
47
50
6
1
15
5
7
101
64
56
102
47
50
6
1
15
5
7
103
64
56
104
47
50
6
1
15
5
7
105
64
56
106
47
50
6
1
15
5
7
107
64
56
108
47
50
6
1
15
5
7
109
64
56
110
47
50
6
1
11
I
4
I
0
I
0
I
0
I
-2
p
111
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
194
99
7
0
45
1
2
43
3
44
49
4
3
13
99
12
7
5
12
7
6
12
65
12
49
7
4
15
49
5
0
15
99
7
8
45
1
9
43
3
44
49
4
3
13
99
12
7
5
12
7
10
12
65
12
49
7
4
15
49
5
0
15
99
7
11
45
1
12
43
3
44
49
4
3
15
1
15
99
7
13
45
1
14
43
3
44
49
4
3
15
1
15
45
0
15
49
16
0
7
17
49
18
1
5
56
19
47
50
20
0
13
18
2
49
21
1
15
15
45
8
22
49
16
0
5
56
23
47
50
20
0
13
18
2
49
21
1
15
15
45
11
24
49
16
0
5
56
25
47
50
20
0
13
18
2
49
21
1
15
15
45
13
26
49
16
0
5
56
27
47
50
20
0
13
18
2
49
21
1
15
15
45
0
28
38
29
15
45
30
31
49
32
0
11
I
7
I
0
I
0
I
0
I
-2
p
33
x
6
Artist
x
6
Sequel
n
x
5
Model
x
16
open_class_under
x
14
__class_init__
M
1
n
n
x
6
Artist
i
146
5
66
5
7
0
47
49
1
1
15
5
7
2
7
3
7
4
7
5
35
3
7
6
7
7
7
7
35
3
7
8
7
5
7
9
35
3
35
3
47
49
0
2
15
5
7
10
7
3
7
4
7
5
35
3
7
6
7
7
7
7
35
3
7
8
7
5
7
9
35
3
35
3
44
43
11
79
49
12
1
13
7
13
7
14
49
15
2
15
47
49
0
3
15
5
7
6
7
3
7
4
7
5
35
3
35
1
47
49
0
2
15
5
7
16
7
3
7
4
7
5
35
3
7
6
7
7
7
7
35
3
7
3
7
5
7
4
35
3
35
3
47
49
0
2
11
I
7
I
0
I
0
I
0
n
p
17
x
17
many_through_many
x
6
plugin
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
10
other_tags
x
4
Hash
x
16
new_from_literal
x
5
class
x
3
Tag
x
3
[]=
x
7
artists
p
11
I
2
I
196
I
a
I
197
I
2c
I
198
I
5e
I
199
I
70
I
19a
I
92
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
13
attach_method
x
3
Tag
n
M
1
n
n
x
3
Tag
i
52
5
66
5
7
0
47
49
1
1
15
5
7
2
7
3
7
4
7
5
35
3
7
6
7
7
7
7
35
3
35
2
44
43
8
79
49
9
1
13
7
10
7
5
49
11
2
15
47
49
0
3
11
I
7
I
0
I
0
I
0
n
p
12
x
17
many_through_many
x
6
plugin
x
6
tracks
x
11
albums_tags
x
6
tag_id
x
8
album_id
x
6
albums
x
2
id
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
3
[]=
p
5
I
2
I
19d
I
a
I
19e
I
34
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
5
Album
n
x
5
Track
n
n
x
7
dataset
x
2
id
x
7
columns
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
234
57
19
0
15
44
43
0
79
49
1
1
13
7
2
79
49
3
2
15
19
1
15
20
0
7
4
13
70
9
42
15
44
43
5
7
6
78
49
7
2
6
4
49
8
1
9
229
20
1
7
9
80
13
18
3
49
3
2
15
15
20
0
7
10
13
70
9
80
15
44
43
5
7
11
78
49
7
2
6
10
49
8
1
9
100
20
1
7
12
4
3
13
18
3
49
3
2
15
8
101
1
15
20
0
7
13
13
70
9
122
15
44
43
5
7
14
78
49
7
2
6
13
49
8
1
9
142
20
1
7
15
4
4
13
18
3
49
3
2
15
8
143
1
15
20
0
7
16
13
70
9
164
15
44
43
5
7
17
78
49
7
2
6
16
49
8
1
9
184
20
1
7
18
4
9
13
18
3
49
3
2
15
8
185
1
15
20
0
7
19
13
70
9
206
15
44
43
5
7
20
78
49
7
2
6
19
49
8
1
9
226
20
1
7
21
4
10
13
18
3
49
3
2
15
8
227
1
8
230
1
15
20
1
11
I
7
I
2
I
1
I
1
n
p
22
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
n
x
6
Regexp
s
43
FROM artists LEFT OUTER JOIN albums_artists
x
3
new
x
2
=~
x
7
tags_id
n
s
34
LEFT OUTER JOIN albums AS albums_0
x
11
albums_0_id
n
s
22
LEFT OUTER JOIN tracks
x
9
tracks_id
n
s
31
other_tags\.id AS other_tags_id
x
13
other_tags_id
n
s
29
artists_0\.id AS artists_0_id
x
12
artists_0_id
p
31
I
0
I
1a4
I
4
I
1a5
I
16
I
1a6
I
2f
I
1a7
I
3c
I
1a8
I
65
I
0
I
66
I
1a9
I
8f
I
0
I
90
I
1aa
I
b9
I
0
I
ba
I
1ab
I
e3
I
0
I
e5
I
1a6
I
e6
I
0
I
e7
I
1ad
I
ea
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
3
sql
x
1
h
x
4
proc
x
7
_fetch=
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
177
57
19
0
15
44
43
0
79
49
1
1
13
7
2
80
49
3
2
15
19
1
15
20
0
7
4
13
70
9
42
15
44
43
5
7
6
78
49
7
2
6
4
49
8
1
9
69
20
1
7
9
4
5
78
98
10
2
49
11
0
13
18
3
49
3
2
15
8
126
20
0
7
12
13
70
9
89
15
44
43
5
7
13
78
49
7
2
6
12
49
8
1
9
125
20
1
44
43
0
80
49
1
1
13
7
14
79
49
3
2
15
13
7
15
4
8
49
3
2
15
49
16
1
8
126
1
15
20
0
7
17
13
70
9
147
15
44
43
5
7
18
78
49
7
2
6
17
49
8
1
9
172
20
1
7
19
20
1
7
2
49
20
1
13
18
3
49
3
2
15
8
173
1
15
20
1
11
I
8
I
2
I
1
I
1
n
p
21
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
n
x
6
Regexp
s
38
albums_artists.artist_id IN \(([18])\)
x
3
new
x
2
=~
x
15
x_foreign_key_x
x
24
regexp_last_match_result
x
4
to_i
n
s
60
\(\(albums_artists.b1, albums_artists.b2\) IN \(\(1, 8\)\)\)
x
17
x_foreign_key_0_x
x
17
x_foreign_key_1_x
x
6
merge!
n
s
33
albums_artists.artist_id IN \(8\)
x
6
tag_id
x
6
delete
p
23
I
0
I
1b0
I
4
I
1b1
I
16
I
1b2
I
2f
I
1b3
I
45
I
1b4
I
5e
I
1b5
I
7d
I
1b4
I
7e
I
0
I
7f
I
1b7
I
ad
I
0
I
ae
I
1b8
I
b1
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
3
sql
x
1
h
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
67
57
19
0
15
44
43
0
79
49
1
1
13
7
2
4
3
49
3
2
15
19
1
15
20
0
7
4
13
70
9
43
15
44
43
5
7
6
78
49
7
2
6
4
49
8
1
9
62
20
1
7
9
79
13
18
3
49
3
2
15
8
63
1
15
20
1
11
I
7
I
2
I
1
I
1
n
p
10
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
n
x
6
Regexp
s
33
albums_artists.artist_id IN \(1\)
x
3
new
x
2
=~
x
15
x_foreign_key_x
p
11
I
0
I
1bb
I
4
I
1bc
I
17
I
1bd
I
3f
I
0
I
40
I
1be
I
43
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
3
sql
x
1
h
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
67
57
19
0
15
44
43
0
79
49
1
1
13
7
2
4
4
49
3
2
15
19
1
15
20
0
7
4
13
70
9
43
15
44
43
5
7
6
78
49
7
2
6
4
49
8
1
9
62
20
1
7
9
80
13
18
3
49
3
2
15
8
63
1
15
20
1
11
I
7
I
2
I
1
I
1
n
p
10
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
n
x
6
Regexp
s
27
albums_tags.tag_id IN \(2\)
x
3
new
x
2
=~
x
15
x_foreign_key_x
p
11
I
0
I
1c1
I
4
I
1c2
I
17
I
1c3
I
3f
I
0
I
40
I
1c4
I
43
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
3
sql
x
1
h
n
x
3
@c1
x
8
MODEL_DB
n
x
5
reset
p
21
I
0
I
195
I
1f
I
19c
I
3e
I
1a0
I
4d
I
1a2
I
5c
I
1a4
I
76
I
1b0
I
8b
I
1bb
I
a0
I
1c1
I
b5
I
1c7
I
bb
I
1c8
I
c2
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
6
before
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
16
7
0
7
1
7
2
7
3
35
4
56
4
50
5
0
11
I
5
I
0
I
0
I
0
I
-2
p
6
x
6
Artist
x
3
Tag
x
5
Album
x
5
Track
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
15
57
19
0
15
45
0
1
7
2
20
0
49
3
2
11
I
5
I
1
I
1
I
1
n
p
4
x
6
Object
n
x
12
remove_const
x
4
send
p
3
I
0
I
1cb
I
f
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
x
x
4
each
p
3
I
0
I
1cb
I
10
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
5
after
s
58
should eagerly load a single many_through_many association
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
116
39
0
7
1
49
2
1
49
3
0
19
0
15
20
0
49
4
0
39
0
44
43
5
79
49
6
1
13
7
7
79
49
8
2
15
49
9
1
35
1
83
10
15
45
11
12
49
13
0
49
4
0
7
14
64
7
15
64
35
2
83
10
15
20
0
49
16
0
49
1
0
49
4
0
45
17
18
44
43
5
79
49
6
1
13
7
7
80
49
8
2
15
49
9
1
35
1
83
10
15
45
11
19
49
13
0
49
20
0
49
4
0
78
83
10
11
I
8
I
1
I
0
I
0
I
-2
p
21
x
3
@c1
x
4
tags
x
5
eager
x
3
all
x
6
should
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
288
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))
x
5
first
x
3
Tag
n
n
x
6
length
p
11
I
0
I
1cf
I
d
I
1d0
I
2b
I
1d1
I
3f
I
1d2
I
64
I
1d3
I
74
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
x
2
it
s
58
should eagerly load multiple associations in a single call
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
225
39
0
7
1
7
2
49
3
2
49
4
0
19
0
15
20
0
49
5
0
39
0
44
43
6
79
49
7
1
13
7
8
79
49
9
2
15
49
10
1
35
1
83
11
15
45
12
13
49
14
0
19
1
15
20
1
49
15
0
49
5
0
4
3
83
11
15
20
1
78
49
16
1
49
5
0
7
17
64
83
11
15
20
1
44
43
18
79
77
49
19
2
49
16
1
5
7
20
64
47
49
21
1
49
5
1
15
20
1
44
43
18
79
77
49
19
2
49
16
1
5
7
22
64
47
49
21
1
49
5
1
15
20
0
49
23
0
19
0
15
20
0
49
1
0
49
5
0
45
24
25
44
43
6
79
49
7
1
13
7
8
80
49
9
2
15
49
10
1
35
1
83
11
15
20
0
49
2
0
49
5
0
45
26
27
44
43
6
79
49
7
1
13
7
8
4
3
49
9
2
15
49
10
1
35
1
83
11
15
45
12
28
49
14
0
49
15
0
49
5
0
78
83
11
11
I
9
I
2
I
0
I
0
I
-2
p
29
x
3
@c1
x
4
tags
x
6
albums
x
5
eager
x
3
all
x
6
should
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
x
6
length
x
2
[]
s
21
SELECT * FROM artists
x
5
Range
x
3
new
s
288
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))
x
7
include
s
179
SELECT albums.*, albums_artists.artist_id AS x_foreign_key_x FROM albums INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))
x
5
first
x
3
Tag
n
x
5
Album
n
n
p
23
I
0
I
1d7
I
f
I
1d8
I
2d
I
1d9
I
36
I
1da
I
43
I
1db
I
52
I
1dc
I
6b
I
1dd
I
84
I
1de
I
8c
I
1df
I
ae
I
1e0
I
d1
I
1e1
I
e1
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
1
a
x
4
sqls
s
53
should eagerly load multiple associations in separate
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
228
39
0
7
1
49
2
1
7
3
49
2
1
49
4
0
19
0
15
20
0
49
5
0
39
0
44
43
6
79
49
7
1
13
7
8
79
49
9
2
15
49
10
1
35
1
83
11
15
45
12
13
49
14
0
19
1
15
20
1
49
15
0
49
5
0
4
3
83
11
15
20
1
78
49
16
1
49
5
0
7
17
64
83
11
15
20
1
44
43
18
79
77
49
19
2
49
16
1
5
7
20
64
47
49
21
1
49
5
1
15
20
1
44
43
18
79
77
49
19
2
49
16
1
5
7
22
64
47
49
21
1
49
5
1
15
20
0
49
23
0
19
0
15
20
0
49
1
0
49
5
0
45
24
25
44
43
6
79
49
7
1
13
7
8
80
49
9
2
15
49
10
1
35
1
83
11
15
20
0
49
3
0
49
5
0
45
26
27
44
43
6
79
49
7
1
13
7
8
4
3
49
9
2
15
49
10
1
35
1
83
11
15
45
12
28
49
14
0
49
15
0
49
5
0
78
83
11
11
I
9
I
2
I
0
I
0
I
-2
p
29
x
3
@c1
x
4
tags
x
5
eager
x
6
albums
x
3
all
x
6
should
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
x
6
length
x
2
[]
s
21
SELECT * FROM artists
x
5
Range
x
3
new
s
288
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))
x
7
include
s
179
SELECT albums.*, albums_artists.artist_id AS x_foreign_key_x FROM albums INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))
x
5
first
x
3
Tag
n
x
5
Album
n
n
p
23
I
0
I
1e5
I
12
I
1e6
I
30
I
1e7
I
39
I
1e8
I
46
I
1e9
I
55
I
1ea
I
6e
I
1eb
I
87
I
1ec
I
8f
I
1ed
I
b1
I
1ee
I
d4
I
1ef
I
e4
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
1
a
x
4
sqls
s
77
should allow cascading of eager loading for associations of associated models
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
179
39
0
44
43
1
79
49
2
1
13
7
3
7
4
49
5
2
15
49
6
1
49
7
0
19
0
15
20
0
49
8
0
39
0
44
43
1
79
49
2
1
13
7
9
79
49
5
2
15
49
10
1
35
1
83
11
15
45
12
13
49
14
0
49
8
0
7
15
64
7
16
64
7
17
64
35
3
83
11
15
20
0
49
18
0
19
0
15
20
0
49
3
0
49
8
0
45
19
20
44
43
1
79
49
2
1
13
7
9
80
49
5
2
15
49
10
1
35
1
83
11
15
20
0
49
3
0
49
18
0
49
4
0
49
8
0
45
21
22
44
43
1
79
49
2
1
13
7
9
4
4
49
5
2
15
49
10
1
35
1
83
11
15
45
12
23
49
14
0
49
24
0
49
8
0
78
83
11
11
I
8
I
1
I
0
I
0
I
-2
p
25
x
3
@c1
x
4
Hash
x
16
new_from_literal
x
4
tags
x
6
tracks
x
3
[]=
x
5
eager
x
3
all
x
6
should
x
2
id
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
288
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))
s
212
SELECT tracks.*, albums_tags.tag_id AS x_foreign_key_x FROM tracks INNER JOIN albums ON (albums.id = tracks.album_id) INNER JOIN albums_tags ON ((albums_tags.album_id = albums.id) AND (albums_tags.tag_id IN (2)))
x
5
first
x
3
Tag
n
x
5
Track
n
n
x
6
length
p
19
I
0
I
1f3
I
1b
I
1f4
I
39
I
1f5
I
45
I
1f6
I
48
I
1f7
I
50
I
1f8
I
58
I
1f9
I
7a
I
1fa
I
a3
I
1fb
I
b3
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
73
should cascade eagerly loading when the :eager association option is used
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
215
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
49
13
2
15
49
14
3
15
39
0
7
1
49
11
1
49
15
0
19
0
15
20
0
49
16
0
39
0
44
43
9
79
49
10
1
13
7
6
79
49
13
2
15
49
17
1
35
1
83
18
15
45
19
20
49
21
0
49
16
0
7
22
64
7
23
64
7
24
64
35
3
83
18
15
20
0
49
25
0
19
0
15
20
0
49
1
0
49
16
0
45
26
27
44
43
9
79
49
10
1
13
7
6
80
49
13
2
15
49
17
1
35
1
83
18
15
20
0
49
1
0
49
25
0
49
12
0
49
16
0
45
28
29
44
43
9
79
49
10
1
13
7
6
4
4
49
13
2
15
49
17
1
35
1
83
18
15
45
19
30
49
21
0
49
31
0
49
16
0
78
83
18
11
I
9
I
1
I
0
I
0
I
-2
p
32
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
eager
x
6
tracks
x
3
[]=
x
17
many_through_many
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
288
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))
s
212
SELECT tracks.*, albums_tags.tag_id AS x_foreign_key_x FROM tracks INNER JOIN albums ON (albums.id = tracks.album_id) INNER JOIN albums_tags ON ((albums_tags.album_id = albums.id) AND (albums_tags.tag_id IN (2)))
x
5
first
x
3
Tag
n
x
5
Track
n
n
x
6
length
p
21
I
0
I
1ff
I
32
I
200
I
3f
I
201
I
5d
I
202
I
69
I
203
I
6c
I
204
I
74
I
205
I
7c
I
206
I
9e
I
207
I
c7
I
208
I
d7
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
56
should respect :eager when lazily loading an association
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
184
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
49
13
2
15
49
14
3
15
39
0
44
43
9
79
49
10
1
13
7
6
79
49
13
2
15
49
15
1
19
0
15
20
0
49
1
0
49
16
0
45
17
18
44
43
9
79
49
10
1
13
7
6
80
49
13
2
15
49
15
1
35
1
83
19
15
45
20
21
49
22
0
49
16
0
7
23
64
7
24
64
35
2
83
19
15
20
0
49
1
0
49
25
0
49
12
0
49
16
0
45
26
27
44
43
9
79
49
10
1
13
7
6
4
4
49
13
2
15
49
15
1
35
1
83
19
15
45
20
28
49
22
0
49
29
0
49
16
0
78
83
19
11
I
9
I
1
I
0
I
0
I
-2
p
30
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
eager
x
6
tracks
x
3
[]=
x
17
many_through_many
x
4
load
x
6
should
x
3
Tag
n
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
240
SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1))
s
212
SELECT tracks.*, albums_tags.tag_id AS x_foreign_key_x FROM tracks INNER JOIN albums ON (albums.id = tracks.album_id) INNER JOIN albums_tags ON ((albums_tags.album_id = albums.id) AND (albums_tags.tag_id IN (2)))
x
5
first
x
5
Track
n
n
x
6
length
p
15
I
0
I
20c
I
32
I
20d
I
49
I
20e
I
6b
I
20f
I
77
I
210
I
7f
I
211
I
a8
I
212
I
b8
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
79
should cascade eagerly loading when the :eager_graph association option is used
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
71
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
49
13
2
15
49
14
3
15
5
56
15
47
50
16
0
5
45
17
18
43
19
47
49
20
1
49
21
1
11
I
8
I
0
I
0
I
0
I
-2
p
22
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
11
eager_graph
x
6
tracks
x
3
[]=
x
17
many_through_many
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
11
39
0
7
1
49
2
1
49
3
0
11
I
3
I
0
I
0
I
0
I
-2
p
4
x
3
@c1
x
4
tags
x
5
eager
x
3
all
p
3
I
0
I
217
I
b
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
4
proc
x
6
Sequel
n
x
5
Error
x
11
raise_error
x
6
should
p
5
I
0
I
216
I
32
I
217
I
47
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
62
should respect :eager_graph when lazily loading an association
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
243
45
0
1
49
2
0
44
43
3
80
49
4
1
13
7
5
80
49
6
2
15
13
7
7
4
4
49
6
2
15
13
18
2
49
8
1
15
15
45
0
9
49
2
0
45
10
11
56
12
50
13
0
49
14
1
15
39
15
7
16
7
17
7
18
7
19
35
3
7
20
7
5
7
5
35
3
7
21
7
19
7
22
35
3
35
3
44
43
3
79
49
4
1
13
7
23
7
24
49
6
2
15
49
25
3
15
39
15
44
43
3
79
49
4
1
13
7
5
79
49
6
2
15
49
26
1
19
0
15
20
0
49
16
0
15
45
27
28
49
29
0
49
30
0
7
31
64
35
1
83
32
15
20
0
49
16
0
49
30
0
45
0
33
44
43
3
79
49
4
1
13
7
5
80
49
6
2
15
49
26
1
35
1
83
32
15
20
0
49
16
0
49
34
0
49
24
0
49
30
0
45
35
36
44
43
3
79
49
4
1
13
7
5
4
4
49
6
2
15
49
26
1
35
1
83
32
15
45
27
37
49
29
0
49
38
0
49
30
0
78
83
32
11
I
9
I
1
I
0
I
0
I
-2
p
39
x
3
Tag
n
x
7
dataset
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
9
tracks_id
x
7
_fetch=
n
x
6
Module
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
14
99
7
0
7
1
65
67
49
2
0
49
3
4
11
I
6
I
0
I
0
I
0
I
-2
p
4
x
7
columns
M
1
n
n
x
7
columns
i
5
7
0
35
1
11
I
1
I
0
I
0
I
0
n
p
1
x
2
id
p
5
I
-1
I
21d
I
0
I
21e
I
5
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
17
method_visibility
x
15
add_defn_method
p
3
I
0
I
21d
I
e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
3
new
x
6
extend
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
11
albums_tags
x
6
tag_id
x
11
eager_graph
x
6
tracks
x
17
many_through_many
x
4
load
x
8
MODEL_DB
n
x
4
sqls
x
6
should
s
494
SELECT tags.id, tracks.id AS tracks_id FROM (SELECT tags.* FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id = 1))) AS tags LEFT OUTER JOIN albums_tags AS albums_tags_0 ON (albums_tags_0.tag_id = tags.id) LEFT OUTER JOIN albums ON (albums.id = albums_tags_0.album_id) LEFT OUTER JOIN tracks ON (tracks.album_id = albums.id)
x
2
==
n
x
5
first
x
5
Track
n
n
x
6
length
p
19
I
0
I
21b
I
26
I
21c
I
38
I
221
I
6a
I
222
I
81
I
223
I
87
I
224
I
98
I
225
I
ba
I
226
I
e3
I
227
I
f3
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
47
should respect :conditions when eagerly loading
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
180
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
44
43
9
79
49
10
1
13
7
12
4
32
49
13
2
15
49
13
2
15
49
14
3
15
39
0
7
1
49
15
1
49
16
0
19
0
15
20
0
49
17
0
39
0
44
43
9
79
49
10
1
13
7
6
79
49
13
2
15
49
18
1
35
1
83
19
15
45
20
21
49
22
0
49
17
0
7
23
64
7
24
64
35
2
83
19
15
20
0
49
25
0
49
1
0
49
17
0
45
26
27
44
43
9
79
49
10
1
13
7
6
80
49
13
2
15
49
18
1
35
1
83
19
15
45
20
28
49
22
0
49
29
0
49
17
0
78
83
19
11
I
c
I
1
I
0
I
0
I
-2
p
30
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
10
conditions
x
1
a
x
3
[]=
x
17
many_through_many
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
303
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1))) WHERE (a = 32)
x
5
first
x
3
Tag
n
n
x
6
length
p
15
I
0
I
22b
I
40
I
22c
I
4d
I
22d
I
6b
I
22e
I
77
I
22f
I
7f
I
230
I
a4
I
231
I
b4
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
42
should respect :order when eagerly loading
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
166
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
49
13
2
15
49
14
3
15
39
0
7
1
49
15
1
49
16
0
19
0
15
20
0
49
17
0
39
0
44
43
9
79
49
10
1
13
7
6
79
49
13
2
15
49
18
1
35
1
83
19
15
45
20
21
49
22
0
49
17
0
7
23
64
7
24
64
35
2
83
19
15
20
0
49
25
0
49
1
0
49
17
0
45
26
27
44
43
9
79
49
10
1
13
7
6
80
49
13
2
15
49
18
1
35
1
83
19
15
45
20
28
49
22
0
49
29
0
49
17
0
78
83
19
11
I
9
I
1
I
0
I
0
I
-2
p
30
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
order
x
4
blah
x
3
[]=
x
17
many_through_many
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
302
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1))) ORDER BY blah
x
5
first
x
3
Tag
n
n
x
6
length
p
15
I
0
I
235
I
32
I
236
I
3f
I
237
I
5d
I
238
I
69
I
239
I
71
I
23a
I
96
I
23b
I
a6
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
64
should use the association's block when eager loading by default
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
152
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
56
9
50
10
2
15
39
0
7
1
49
11
1
49
12
0
19
0
15
20
0
49
13
0
39
0
44
43
14
79
49
15
1
13
7
6
79
49
16
2
15
49
17
1
35
1
83
18
15
45
19
20
49
21
0
49
13
0
7
22
64
7
23
64
35
2
83
18
15
20
0
49
24
0
49
1
0
49
13
0
45
25
26
44
43
14
79
49
15
1
13
7
6
80
49
16
2
15
49
17
1
35
1
83
18
15
45
19
27
49
21
0
49
28
0
49
13
0
78
83
18
11
I
9
I
1
I
0
I
0
I
-2
p
29
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
12
57
19
0
15
20
0
7
0
49
1
1
11
I
4
I
1
I
1
I
1
n
p
2
x
1
a
x
6
filter
p
3
I
0
I
23f
I
c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
2
ds
x
17
many_through_many
x
5
eager
x
3
all
x
6
should
x
4
Hash
x
16
new_from_literal
x
3
[]=
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
296
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1))) WHERE a
x
5
first
x
3
Tag
n
n
x
6
length
p
15
I
0
I
23f
I
24
I
240
I
31
I
241
I
4f
I
242
I
5b
I
243
I
63
I
244
I
88
I
245
I
98
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
62
should use the :eager_block option when eager loading if given
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
173
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
5
56
12
47
50
13
0
49
14
2
15
56
15
50
16
3
15
39
0
7
1
49
17
1
49
18
0
19
0
15
20
0
49
19
0
39
0
44
43
9
79
49
10
1
13
7
6
79
49
14
2
15
49
20
1
35
1
83
21
15
45
22
23
49
24
0
49
19
0
7
25
64
7
26
64
35
2
83
21
15
20
0
49
27
0
49
1
0
49
19
0
45
28
29
44
43
9
79
49
10
1
13
7
6
80
49
14
2
15
49
20
1
35
1
83
21
15
45
22
30
49
24
0
49
31
0
49
19
0
78
83
21
11
I
a
I
1
I
0
I
0
I
-2
p
32
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
11
eager_block
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
12
57
19
0
15
20
0
7
0
49
1
1
11
I
4
I
1
I
1
I
1
n
p
2
x
1
b
x
6
filter
p
3
I
0
I
249
I
c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
2
ds
x
4
proc
x
3
[]=
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
12
57
19
0
15
20
0
7
0
49
1
1
11
I
4
I
1
I
1
I
1
n
p
2
x
1
a
x
6
filter
p
3
I
0
I
249
I
c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
2
ds
x
17
many_through_many
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
296
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1))) WHERE b
x
5
first
x
3
Tag
n
n
x
6
length
p
15
I
0
I
249
I
39
I
24a
I
46
I
24b
I
64
I
24c
I
70
I
24d
I
78
I
24e
I
9d
I
24f
I
ad
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
67
should respect the :limit option on a many_through_many association
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
487
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
80
49
10
1
13
7
11
45
12
13
49
14
2
15
13
7
15
80
49
14
2
15
49
16
3
15
45
12
17
49
18
0
44
43
9
80
49
10
1
13
7
19
79
49
14
2
15
13
7
6
4
5
49
14
2
15
44
43
9
80
49
10
1
13
7
19
79
49
14
2
15
13
7
6
4
6
49
14
2
15
44
43
9
80
49
10
1
13
7
19
79
49
14
2
15
13
7
6
4
7
49
14
2
15
35
3
13
18
2
49
20
1
15
15
39
0
7
1
49
21
1
49
22
0
19
0
15
20
0
49
23
0
39
0
44
43
9
79
49
10
1
13
7
6
79
49
14
2
15
49
24
1
35
1
83
25
15
45
26
27
49
28
0
49
23
0
7
29
64
7
30
64
35
2
83
25
15
20
0
49
31
0
49
1
0
49
23
0
45
12
32
44
43
9
79
49
10
1
13
7
6
4
5
49
14
2
15
49
24
1
45
12
33
44
43
9
79
49
10
1
13
7
6
4
6
49
14
2
15
49
24
1
35
2
83
25
15
45
26
34
49
28
0
49
35
0
49
23
0
78
83
25
15
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
80
49
10
1
13
7
11
45
12
36
49
14
2
15
13
7
15
80
79
35
2
49
14
2
15
49
16
3
15
39
0
7
1
49
21
1
49
22
0
19
0
15
20
0
49
23
0
39
0
44
43
9
79
49
10
1
13
7
6
79
49
14
2
15
49
24
1
35
1
83
25
15
45
26
37
49
28
0
49
23
0
7
29
64
7
30
64
35
2
83
25
15
20
0
49
31
0
49
1
0
49
23
0
45
12
38
44
43
9
79
49
10
1
13
7
6
4
6
49
14
2
15
49
24
1
45
12
39
44
43
9
79
49
10
1
13
7
6
4
7
49
14
2
15
49
24
1
35
2
83
25
15
45
26
40
49
28
0
49
35
0
49
23
0
78
83
25
11
I
a
I
1
I
0
I
0
I
-2
p
41
x
3
@c1
x
14
first_two_tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
class
x
3
Tag
n
x
3
[]=
x
5
limit
x
17
many_through_many
n
x
7
dataset
x
15
x_foreign_key_x
x
7
_fetch=
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
288
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))
x
5
first
n
n
n
x
6
length
n
n
n
n
n
p
31
I
0
I
253
I
3b
I
254
I
93
I
255
I
a0
I
256
I
be
I
257
I
ca
I
258
I
d2
I
259
I
10e
I
25a
I
11e
I
25c
I
15c
I
25d
I
169
I
25e
I
187
I
25f
I
193
I
260
I
19b
I
261
I
1d7
I
262
I
1e7
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
101
should respect the :limit option on a many_through_many association using a :window_function strategy
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
513
45
0
1
49
2
0
7
3
56
4
50
5
1
15
39
6
7
7
7
8
7
9
7
10
35
3
7
11
7
12
7
12
35
3
7
13
7
10
7
14
35
3
35
3
44
43
15
4
4
49
16
1
13
7
17
45
0
18
49
19
2
15
13
7
20
80
49
19
2
15
13
7
21
2
49
19
2
15
13
7
22
7
23
49
19
2
15
49
24
3
15
45
0
25
49
2
0
44
43
15
80
49
16
1
13
7
26
79
49
19
2
15
13
7
12
4
5
49
19
2
15
44
43
15
80
49
16
1
13
7
26
79
49
19
2
15
13
7
12
4
6
49
19
2
15
35
2
13
18
2
49
27
1
15
15
39
6
7
7
49
28
1
49
29
0
19
0
15
20
0
49
30
0
39
6
44
43
15
79
49
16
1
13
7
12
79
49
19
2
15
49
31
1
35
1
83
32
15
45
33
34
49
35
0
49
30
0
7
36
64
7
37
64
35
2
83
32
15
20
0
49
38
0
49
7
0
49
30
0
45
0
39
44
43
15
79
49
16
1
13
7
12
4
5
49
19
2
15
49
31
1
45
0
40
44
43
15
79
49
16
1
13
7
12
4
6
49
19
2
15
49
31
1
35
2
83
32
15
45
33
41
49
35
0
49
42
0
49
30
0
78
83
32
15
39
6
7
7
7
8
7
9
7
10
35
3
7
11
7
12
7
12
35
3
7
13
7
10
7
14
35
3
35
3
44
43
15
4
4
49
16
1
13
7
17
45
0
43
49
19
2
15
13
7
20
80
79
35
2
49
19
2
15
13
7
21
2
49
19
2
15
13
7
22
7
23
49
19
2
15
49
24
3
15
39
6
7
7
49
28
1
49
29
0
19
0
15
20
0
49
30
0
39
6
44
43
15
79
49
16
1
13
7
12
79
49
19
2
15
49
31
1
35
1
83
32
15
45
33
44
49
35
0
49
30
0
7
36
64
7
45
64
35
2
83
32
15
20
0
49
38
0
49
7
0
49
30
0
45
0
46
44
43
15
79
49
16
1
13
7
12
4
5
49
19
2
15
49
31
1
45
0
47
44
43
15
79
49
16
1
13
7
12
4
6
49
19
2
15
49
31
1
35
2
83
32
15
45
33
48
49
35
0
49
42
0
49
30
0
78
83
32
11
I
a
I
1
I
0
I
0
I
-2
p
49
x
3
Tag
n
x
7
dataset
x
26
supports_window_functions?
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
2
2
11
I
2
I
0
I
0
I
0
I
-2
p
0
p
3
I
0
I
266
I
2
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
8
meta_def
x
3
@c1
x
14
first_two_tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
class
n
x
3
[]=
x
5
limit
x
20
eager_limit_strategy
x
5
order
x
4
name
x
17
many_through_many
n
x
15
x_foreign_key_x
x
7
_fetch=
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
443
SELECT * FROM (SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x, row_number() OVER (PARTITION BY albums_artists.artist_id ORDER BY name) AS x_sequel_row_number_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))) AS t1 WHERE (x_sequel_row_number_x <= 2)
x
5
first
n
n
n
x
6
length
n
n
s
477
SELECT * FROM (SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x, row_number() OVER (PARTITION BY albums_artists.artist_id ORDER BY name) AS x_sequel_row_number_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))) AS t1 WHERE ((x_sequel_row_number_x >= 2) AND (x_sequel_row_number_x < 4))
n
n
n
p
33
I
0
I
266
I
e
I
267
I
5b
I
268
I
9b
I
269
I
a8
I
26a
I
c6
I
26b
I
d2
I
26c
I
da
I
26d
I
116
I
26e
I
126
I
270
I
176
I
271
I
183
I
272
I
1a1
I
273
I
1ad
I
274
I
1b5
I
275
I
1f1
I
276
I
201
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
147
should respect the :limit option on a many_through_many association with composite primary keys on the main table using a :window_function strategy
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
615
45
0
1
49
2
0
7
3
56
4
50
5
1
15
39
6
7
7
7
8
35
2
49
9
1
15
39
6
7
7
7
8
49
10
2
15
39
6
7
11
7
12
7
13
7
14
35
2
7
15
35
3
7
16
7
17
7
17
35
3
7
18
7
15
7
19
35
3
35
3
44
43
20
4
4
49
21
1
13
7
22
45
0
23
49
24
2
15
13
7
25
80
49
24
2
15
13
7
26
2
49
24
2
15
13
7
27
7
28
49
24
2
15
49
29
3
15
39
6
49
2
0
44
43
20
80
49
21
1
13
7
7
79
49
24
2
15
13
7
8
80
49
24
2
15
35
1
13
18
2
49
30
1
15
15
45
0
31
49
2
0
44
43
20
4
3
49
21
1
13
7
32
79
49
24
2
15
13
7
33
80
49
24
2
15
13
7
17
4
5
49
24
2
15
44
43
20
4
3
49
21
1
13
7
32
79
49
24
2
15
13
7
33
80
49
24
2
15
13
7
17
4
6
49
24
2
15
35
2
13
18
2
49
30
1
15
15
39
6
7
11
49
34
1
49
35
0
19
0
15
20
0
49
36
0
39
6
44
43
20
80
49
21
1
13
7
7
79
49
24
2
15
13
7
8
80
49
24
2
15
49
37
1
35
1
83
38
15
45
39
40
49
41
0
49
36
0
7
42
64
7
43
64
35
2
83
38
15
20
0
49
44
0
49
11
0
49
36
0
45
0
45
44
43
20
79
49
21
1
13
7
17
4
5
49
24
2
15
49
37
1
45
0
46
44
43
20
79
49
21
1
13
7
17
4
6
49
24
2
15
49
37
1
35
2
83
38
15
45
39
47
49
41
0
49
48
0
49
36
0
78
83
38
15
39
6
7
11
7
12
7
13
7
14
35
2
7
15
35
3
7
16
7
17
7
17
35
3
7
18
7
15
7
19
35
3
35
3
44
43
20
4
4
49
21
1
13
7
22
45
0
49
49
24
2
15
13
7
25
80
79
35
2
49
24
2
15
13
7
26
2
49
24
2
15
13
7
27
7
28
49
24
2
15
49
29
3
15
39
6
7
11
49
34
1
49
35
0
19
0
15
20
0
49
36
0
39
6
44
43
20
80
49
21
1
13
7
7
79
49
24
2
15
13
7
8
80
49
24
2
15
49
37
1
35
1
83
38
15
45
39
50
49
41
0
49
36
0
7
42
64
7
51
64
35
2
83
38
15
20
0
49
44
0
49
11
0
49
36
0
45
0
52
44
43
20
79
49
21
1
13
7
17
4
5
49
24
2
15
49
37
1
45
0
53
44
43
20
79
49
21
1
13
7
17
4
6
49
24
2
15
49
37
1
35
2
83
38
15
45
39
54
49
41
0
49
48
0
49
36
0
78
83
38
11
I
a
I
1
I
0
I
0
I
-2
p
55
x
3
Tag
n
x
7
dataset
x
26
supports_window_functions?
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
2
2
11
I
2
I
0
I
0
I
0
I
-2
p
0
p
3
I
0
I
27a
I
2
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
8
meta_def
x
3
@c1
x
3
id1
x
3
id2
x
15
set_primary_key
x
7
columns
x
14
first_two_tags
x
14
albums_artists
x
10
artist_id1
x
10
artist_id2
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
class
n
x
3
[]=
x
5
limit
x
20
eager_limit_strategy
x
5
order
x
4
name
x
17
many_through_many
x
7
_fetch=
n
x
17
x_foreign_key_0_x
x
17
x_foreign_key_1_x
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
557
SELECT * FROM (SELECT tags.*, albums_artists.artist_id1 AS x_foreign_key_0_x, albums_artists.artist_id2 AS x_foreign_key_1_x, row_number() OVER (PARTITION BY albums_artists.artist_id1, albums_artists.artist_id2 ORDER BY name) AS x_sequel_row_number_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND ((albums_artists.artist_id1, albums_artists.artist_id2) IN ((1, 2))))) AS t1 WHERE (x_sequel_row_number_x <= 2)
x
5
first
n
n
n
x
6
length
n
n
s
591
SELECT * FROM (SELECT tags.*, albums_artists.artist_id1 AS x_foreign_key_0_x, albums_artists.artist_id2 AS x_foreign_key_1_x, row_number() OVER (PARTITION BY albums_artists.artist_id1, albums_artists.artist_id2 ORDER BY name) AS x_sequel_row_number_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND ((albums_artists.artist_id1, albums_artists.artist_id2) IN ((1, 2))))) AS t1 WHERE ((x_sequel_row_number_x >= 2) AND (x_sequel_row_number_x < 4))
n
n
n
p
39
I
0
I
27a
I
e
I
27b
I
1a
I
27c
I
24
I
27d
I
75
I
27e
I
9b
I
27f
I
ed
I
280
I
fa
I
281
I
120
I
282
I
12c
I
283
I
134
I
284
I
170
I
285
I
180
I
287
I
1d4
I
288
I
1e1
I
289
I
207
I
28a
I
213
I
28b
I
21b
I
28c
I
257
I
28d
I
267
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
105
should respect the :limit option on a many_through_many association using a :correlated_subquery strategy
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
501
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
4
4
49
10
1
13
7
11
45
12
13
49
14
2
15
13
7
15
80
49
14
2
15
13
7
16
7
17
49
14
2
15
13
7
18
7
19
49
14
2
15
49
20
3
15
45
12
21
49
22
0
44
43
9
80
49
10
1
13
7
23
79
49
14
2
15
13
7
6
4
5
49
14
2
15
44
43
9
80
49
10
1
13
7
23
79
49
14
2
15
13
7
6
4
6
49
14
2
15
35
2
13
18
2
49
24
1
15
15
39
0
7
1
49
25
1
49
26
0
19
0
15
20
0
49
27
0
39
0
44
43
9
79
49
10
1
13
7
6
79
49
14
2
15
49
28
1
35
1
83
29
15
45
30
31
49
32
0
49
27
0
7
33
64
7
34
64
35
2
83
29
15
20
0
49
35
0
49
1
0
49
27
0
45
12
36
44
43
9
79
49
10
1
13
7
6
4
5
49
14
2
15
49
28
1
45
12
37
44
43
9
79
49
10
1
13
7
6
4
6
49
14
2
15
49
28
1
35
2
83
29
15
45
30
38
49
32
0
49
39
0
49
27
0
78
83
29
15
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
4
4
49
10
1
13
7
11
45
12
40
49
14
2
15
13
7
15
80
79
35
2
49
14
2
15
13
7
16
7
17
49
14
2
15
13
7
18
7
19
49
14
2
15
49
20
3
15
39
0
7
1
49
25
1
49
26
0
19
0
15
20
0
49
27
0
39
0
44
43
9
79
49
10
1
13
7
6
79
49
14
2
15
49
28
1
35
1
83
29
15
45
30
41
49
32
0
49
27
0
7
33
64
7
42
64
35
2
83
29
15
20
0
49
35
0
49
1
0
49
27
0
45
12
43
44
43
9
79
49
10
1
13
7
6
4
5
49
14
2
15
49
28
1
45
12
44
44
43
9
79
49
10
1
13
7
6
4
6
49
14
2
15
49
28
1
35
2
83
29
15
45
30
45
49
32
0
49
39
0
49
27
0
78
83
29
11
I
a
I
1
I
0
I
0
I
-2
p
46
x
3
@c1
x
14
first_two_tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
5
class
x
3
Tag
n
x
3
[]=
x
5
limit
x
20
eager_limit_strategy
x
19
correlated_subquery
x
5
order
x
4
name
x
17
many_through_many
n
x
7
dataset
x
15
x_foreign_key_x
x
7
_fetch=
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
594
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1))) WHERE (tags.id IN (SELECT t1.id FROM tags AS t1 INNER JOIN albums_tags ON (albums_tags.tag_id = t1.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists AS t2 ON ((t2.album_id = albums.id) AND (t2.artist_id = albums_artists.artist_id)) ORDER BY name LIMIT 2)) ORDER BY name
x
5
first
n
n
n
x
6
length
n
n
s
603
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1))) WHERE (tags.id IN (SELECT t1.id FROM tags AS t1 INNER JOIN albums_tags ON (albums_tags.tag_id = t1.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists AS t2 ON ((t2.album_id = albums.id) AND (t2.artist_id = albums_artists.artist_id)) ORDER BY name LIMIT 2 OFFSET 1)) ORDER BY name
n
n
n
p
31
I
0
I
291
I
4e
I
292
I
8e
I
293
I
9b
I
294
I
b9
I
295
I
c5
I
296
I
cd
I
297
I
109
I
298
I
119
I
29a
I
16a
I
29b
I
177
I
29c
I
195
I
29d
I
1a1
I
29e
I
1a9
I
29f
I
1e5
I
2a0
I
1f5
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
110
should raise an error when attempting to eagerly load an association with the :allow_eager option set to false
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
84
5
56
0
47
50
1
0
5
48
2
49
3
1
15
39
4
7
5
7
6
7
7
7
8
35
3
7
9
7
10
7
10
35
3
7
11
7
8
7
12
35
3
35
3
44
43
13
79
49
14
1
13
7
15
3
49
16
2
15
49
17
3
15
5
56
18
47
50
1
0
5
45
19
20
43
21
47
49
2
1
49
22
1
11
I
8
I
0
I
0
I
0
I
-2
p
23
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
11
39
0
7
1
49
2
1
49
3
0
11
I
3
I
0
I
0
I
0
I
-2
p
4
x
3
@c1
x
4
tags
x
5
eager
x
3
all
p
3
I
0
I
2a4
I
b
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
4
proc
x
11
raise_error
x
10
should_not
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
11
allow_eager
x
3
[]=
x
17
many_through_many
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
11
39
0
7
1
49
2
1
49
3
0
11
I
3
I
0
I
0
I
0
I
-2
p
4
x
3
@c1
x
4
tags
x
5
eager
x
3
all
p
3
I
0
I
2a6
I
b
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
6
Sequel
n
x
5
Error
x
6
should
p
7
I
0
I
2a4
I
e
I
2a5
I
3f
I
2a6
I
54
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
47
should respect the association's :select option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
166
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
49
13
2
15
49
14
3
15
39
0
7
1
49
15
1
49
16
0
19
0
15
20
0
49
17
0
39
0
44
43
9
79
49
10
1
13
7
6
79
49
13
2
15
49
18
1
35
1
83
19
15
45
20
21
49
22
0
49
17
0
7
23
64
7
24
64
35
2
83
19
15
20
0
49
25
0
49
1
0
49
17
0
45
26
27
44
43
9
79
49
10
1
13
7
6
80
49
13
2
15
49
18
1
35
1
83
19
15
45
20
28
49
22
0
49
29
0
49
17
0
78
83
19
11
I
9
I
1
I
0
I
0
I
-2
p
30
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
6
select
x
10
tags__name
x
3
[]=
x
17
many_through_many
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
291
SELECT tags.name, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))
x
5
first
x
3
Tag
n
n
x
6
length
p
15
I
0
I
2aa
I
32
I
2ab
I
3f
I
2ac
I
5d
I
2ad
I
69
I
2ae
I
71
I
2af
I
96
I
2b0
I
a6
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
95
should respect many_through_many association's :left_primary_key and :right_primary_key options
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
246
39
0
7
1
7
2
56
3
50
4
2
15
39
0
49
5
0
44
43
6
80
49
7
1
13
7
8
79
49
9
2
15
13
7
2
4
8
49
9
2
15
13
18
2
49
10
1
15
15
39
0
49
5
0
7
11
56
12
50
13
1
15
39
0
7
14
7
15
7
16
7
17
35
3
7
18
7
8
7
8
35
3
7
19
7
17
7
20
35
3
35
3
44
43
6
80
49
7
1
13
7
21
7
2
49
9
2
15
13
7
22
7
20
49
9
2
15
49
23
3
15
39
0
7
14
49
24
1
49
25
0
19
0
15
20
0
49
26
0
39
0
44
43
6
80
49
7
1
13
7
8
79
49
9
2
15
13
7
2
4
8
49
9
2
15
49
27
1
35
1
83
28
15
45
29
30
49
31
0
49
26
0
7
32
64
7
33
64
35
2
83
28
15
20
0
49
34
0
49
14
0
49
26
0
45
35
36
44
43
6
79
49
7
1
13
7
20
80
49
9
2
15
49
27
1
35
1
83
28
15
45
29
37
49
31
0
49
38
0
49
26
0
78
83
28
11
I
9
I
1
I
0
I
0
I
-2
p
39
x
3
@c1
x
13
define_method
x
3
yyy
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
9
5
48
0
7
1
49
2
1
11
I
3
I
0
I
0
I
0
I
-2
p
3
x
6
values
x
3
yyy
x
2
[]
p
3
I
0
I
2b4
I
9
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
4
send
x
7
dataset
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
7
_fetch=
x
7
columns
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
7
0
7
1
35
2
11
I
3
I
0
I
0
I
0
I
-2
p
2
x
2
id
x
3
yyy
p
3
I
0
I
2b6
I
7
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
8
meta_def
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
11
albums_tags
x
6
tag_id
x
16
left_primary_key
x
17
right_primary_key
x
17
many_through_many
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
292
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.tag_id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (8)))
x
5
first
x
3
Tag
n
n
x
6
length
p
21
I
0
I
2b4
I
c
I
2b5
I
31
I
2b6
I
3e
I
2b7
I
79
I
2b8
I
86
I
2b9
I
ad
I
2ba
I
b9
I
2bb
I
c1
I
2bc
I
e6
I
2bd
I
f6
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
28
should handle composite keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
278
39
0
7
1
7
2
56
3
50
4
2
15
39
0
49
5
0
44
43
6
80
49
7
1
13
7
8
79
49
9
2
15
13
7
2
4
8
49
9
2
15
13
18
2
49
10
1
15
15
39
0
49
5
0
7
11
56
12
50
13
1
15
39
0
7
14
7
15
7
16
7
17
35
2
7
18
7
19
35
2
35
3
7
20
7
21
7
22
35
2
7
23
7
24
35
2
35
3
7
25
7
26
7
27
35
2
7
28
7
29
35
2
35
3
35
3
44
43
6
80
49
7
1
13
7
30
7
31
7
32
35
2
49
9
2
15
13
7
33
7
8
7
2
35
2
49
9
2
15
49
34
3
15
39
0
7
14
49
35
1
49
36
0
19
0
15
20
0
49
37
0
39
0
44
43
6
80
49
7
1
13
7
8
79
49
9
2
15
13
7
2
4
8
49
9
2
15
49
38
1
35
1
83
39
15
45
40
41
49
42
0
49
37
0
7
43
64
7
44
64
35
2
83
39
15
20
0
49
45
0
49
14
0
49
37
0
45
46
47
44
43
6
79
49
7
1
13
7
8
80
49
9
2
15
49
38
1
35
1
83
39
15
45
40
48
49
42
0
49
49
0
49
37
0
78
83
39
11
I
a
I
1
I
0
I
0
I
-2
p
50
x
3
@c1
x
13
define_method
x
3
yyy
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
9
5
48
0
7
1
49
2
1
11
I
3
I
0
I
0
I
0
I
-2
p
3
x
6
values
x
3
yyy
x
2
[]
p
3
I
0
I
2c1
I
9
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
4
send
x
7
dataset
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
7
_fetch=
x
7
columns
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
7
0
7
1
35
2
11
I
3
I
0
I
0
I
0
I
-2
p
2
x
2
id
x
3
yyy
p
3
I
0
I
2c3
I
7
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
8
meta_def
x
4
tags
x
14
albums_artists
x
2
b1
x
2
b2
x
2
c1
x
2
c2
x
6
albums
x
2
d1
x
2
d2
x
2
e1
x
2
e2
x
11
albums_tags
x
2
f1
x
2
f2
x
2
g1
x
2
g2
x
17
right_primary_key
x
2
h1
x
2
h2
x
16
left_primary_key
x
17
many_through_many
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
430
SELECT tags.*, albums_artists.b1 AS x_foreign_key_0_x, albums_artists.b2 AS x_foreign_key_1_x FROM tags INNER JOIN albums_tags ON ((albums_tags.g1 = tags.h1) AND (albums_tags.g2 = tags.h2)) INNER JOIN albums ON ((albums.e1 = albums_tags.f1) AND (albums.e2 = albums_tags.f2)) INNER JOIN albums_artists ON ((albums_artists.c1 = albums.d1) AND (albums_artists.c2 = albums.d2) AND ((albums_artists.b1, albums_artists.b2) IN ((1, 8))))
x
5
first
x
3
Tag
n
n
x
6
length
p
21
I
0
I
2c1
I
c
I
2c2
I
31
I
2c3
I
3e
I
2c4
I
99
I
2c5
I
a6
I
2c6
I
cd
I
2c7
I
d9
I
2c8
I
e1
I
2c9
I
106
I
2ca
I
116
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
71
should respect :after_load callbacks on associations when eager loading
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
172
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
5
56
12
47
50
13
0
49
14
2
15
49
15
3
15
39
0
7
1
49
16
1
49
17
0
19
0
15
20
0
49
18
0
39
0
44
43
9
79
49
10
1
13
7
6
80
49
14
2
15
49
19
1
35
1
83
20
15
45
21
22
49
23
0
49
18
0
7
24
64
7
25
64
35
2
83
20
15
20
0
49
26
0
49
1
0
49
18
0
45
27
28
44
43
9
79
49
10
1
13
7
6
4
6
49
14
2
15
49
19
1
35
1
83
20
15
45
21
29
49
23
0
49
30
0
49
18
0
78
83
20
11
I
a
I
1
I
0
I
0
I
-2
p
31
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
10
after_load
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
39
58
37
19
0
15
37
19
1
15
15
20
0
7
0
14
2
49
1
1
80
49
2
1
13
18
3
49
3
2
15
15
20
1
56
4
50
5
0
11
I
7
I
2
I
2
I
2
n
p
6
x
2
id
x
2
[]
x
1
*
x
3
[]=
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
26
57
19
0
15
20
0
7
0
14
2
49
1
1
4
3
49
2
1
13
18
3
49
3
2
15
11
I
6
I
1
I
1
I
1
n
p
4
x
2
id
x
2
[]
x
1
*
x
3
[]=
p
3
I
0
I
2ce
I
1a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
x
4
each
p
3
I
0
I
2ce
I
27
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
1
o
x
2
as
x
6
lambda
x
3
[]=
x
17
many_through_many
x
5
eager
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
21
SELECT * FROM artists
s
288
SELECT tags.*, albums_artists.artist_id AS x_foreign_key_x FROM tags INNER JOIN albums_tags ON (albums_tags.tag_id = tags.id) INNER JOIN albums ON (albums.id = albums_tags.album_id) INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))
x
5
first
x
3
Tag
n
n
x
6
length
p
15
I
0
I
2ce
I
37
I
2cf
I
44
I
2d0
I
62
I
2d1
I
6e
I
2d2
I
76
I
2d3
I
9c
I
2d4
I
ac
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
56
should raise an error if called without a symbol or hash
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
21
5
56
0
47
50
1
0
5
45
2
3
43
4
47
49
5
1
49
6
1
11
I
4
I
0
I
0
I
0
I
-2
p
7
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
30
39
0
45
1
2
13
71
3
47
9
23
47
49
4
0
13
47
49
5
0
15
8
26
49
3
0
49
6
1
11
I
4
I
0
I
0
I
0
I
-2
p
7
x
3
@c1
x
6
Object
n
x
3
new
x
8
allocate
x
10
initialize
x
11
eager_graph
p
3
I
0
I
2d8
I
1e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
4
proc
x
6
Sequel
n
x
5
Error
x
11
raise_error
x
6
should
p
3
I
0
I
2d8
I
15
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
59
should eagerly graph a single many_through_many association
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
113
39
0
7
1
49
2
1
49
3
0
19
0
15
20
0
49
4
0
39
0
44
43
5
79
49
6
1
13
7
7
79
49
8
2
15
49
9
1
35
1
83
10
15
45
11
12
49
13
0
49
4
0
7
14
64
35
1
83
10
15
20
0
49
15
0
49
1
0
49
4
0
45
16
17
44
43
5
79
49
6
1
13
7
7
80
49
8
2
15
49
9
1
35
1
83
10
15
45
11
18
49
13
0
49
19
0
49
4
0
78
83
10
11
I
8
I
1
I
0
I
0
I
-2
p
20
x
3
@c1
x
4
tags
x
11
eager_graph
x
3
all
x
6
should
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
309
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id)
x
5
first
x
3
Tag
n
n
x
6
length
p
11
I
0
I
2dc
I
d
I
2dd
I
2b
I
2de
I
3c
I
2df
I
61
I
2e0
I
71
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
59
should eagerly graph multiple associations in a single call
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
155
39
0
7
1
7
2
49
3
2
49
4
0
19
0
15
20
0
49
5
0
39
0
44
43
6
79
49
7
1
13
7
8
79
49
9
2
15
49
10
1
35
1
83
11
15
45
12
13
49
14
0
49
5
0
7
15
64
35
1
83
11
15
20
0
49
16
0
19
0
15
20
0
49
1
0
49
5
0
45
17
18
44
43
6
79
49
7
1
13
7
8
80
49
9
2
15
49
10
1
35
1
83
11
15
20
0
49
2
0
49
5
0
45
19
20
44
43
6
79
49
7
1
13
7
8
4
3
49
9
2
15
49
10
1
35
1
83
11
15
45
12
21
49
14
0
49
22
0
49
5
0
78
83
11
11
I
8
I
1
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
6
albums
x
11
eager_graph
x
3
all
x
6
should
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
513
SELECT artists.id, tags.id AS tags_id, albums_0.id AS albums_0_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) LEFT OUTER JOIN albums_artists AS albums_artists_0 ON (albums_artists_0.artist_id = artists.id) LEFT OUTER JOIN albums AS albums_0 ON (albums_0.id = albums_artists_0.album_id)
x
5
first
x
3
Tag
n
x
5
Album
n
n
x
6
length
p
15
I
0
I
2e4
I
f
I
2e5
I
2d
I
2e6
I
3e
I
2e7
I
46
I
2e8
I
68
I
2e9
I
8b
I
2ea
I
9b
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
60
should eagerly graph multiple associations in separate calls
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
158
39
0
7
1
49
2
1
7
3
49
2
1
49
4
0
19
0
15
20
0
49
5
0
39
0
44
43
6
79
49
7
1
13
7
8
79
49
9
2
15
49
10
1
35
1
83
11
15
45
12
13
49
14
0
49
5
0
7
15
64
35
1
83
11
15
20
0
49
16
0
19
0
15
20
0
49
1
0
49
5
0
45
17
18
44
43
6
79
49
7
1
13
7
8
80
49
9
2
15
49
10
1
35
1
83
11
15
20
0
49
3
0
49
5
0
45
19
20
44
43
6
79
49
7
1
13
7
8
4
3
49
9
2
15
49
10
1
35
1
83
11
15
45
12
21
49
14
0
49
22
0
49
5
0
78
83
11
11
I
8
I
1
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
11
eager_graph
x
6
albums
x
3
all
x
6
should
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
513
SELECT artists.id, tags.id AS tags_id, albums_0.id AS albums_0_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) LEFT OUTER JOIN albums_artists AS albums_artists_0 ON (albums_artists_0.artist_id = artists.id) LEFT OUTER JOIN albums AS albums_0 ON (albums_0.id = albums_artists_0.album_id)
x
5
first
x
3
Tag
n
x
5
Album
n
n
x
6
length
p
15
I
0
I
2ee
I
12
I
2ef
I
30
I
2f0
I
41
I
2f1
I
49
I
2f2
I
6b
I
2f3
I
8e
I
2f4
I
9e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
78
should allow cascading of eager graphing for associations of associated models
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
173
39
0
44
43
1
79
49
2
1
13
7
3
7
4
49
5
2
15
49
6
1
49
7
0
19
0
15
20
0
49
8
0
39
0
44
43
1
79
49
2
1
13
7
9
79
49
5
2
15
49
10
1
35
1
83
11
15
45
12
13
49
14
0
49
8
0
7
15
64
35
1
83
11
15
20
0
49
16
0
19
0
15
20
0
49
3
0
49
8
0
45
17
18
44
43
1
79
49
2
1
13
7
9
80
49
5
2
15
49
10
1
35
1
83
11
15
20
0
49
3
0
49
16
0
49
4
0
49
8
0
45
19
20
44
43
1
79
49
2
1
13
7
9
4
4
49
5
2
15
49
10
1
35
1
83
11
15
45
12
21
49
14
0
49
22
0
49
8
0
78
83
11
11
I
8
I
1
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
Hash
x
16
new_from_literal
x
4
tags
x
6
tracks
x
3
[]=
x
11
eager_graph
x
3
all
x
6
should
x
2
id
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
549
SELECT artists.id, tags.id AS tags_id, tracks.id AS tracks_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) LEFT OUTER JOIN albums_tags AS albums_tags_0 ON (albums_tags_0.tag_id = tags.id) LEFT OUTER JOIN albums AS albums_0 ON (albums_0.id = albums_tags_0.album_id) LEFT OUTER JOIN tracks ON (tracks.album_id = albums_0.id)
x
5
first
x
3
Tag
n
x
5
Track
n
n
x
6
length
p
15
I
0
I
2f8
I
1b
I
2f9
I
39
I
2fa
I
4a
I
2fb
I
52
I
2fc
I
74
I
2fd
I
9d
I
2fe
I
ad
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
71
eager graphing should eliminate duplicates caused by cartesian products
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
246
39
0
7
1
49
2
1
19
0
15
20
0
44
43
3
80
49
4
1
13
7
5
79
49
6
2
15
13
7
7
80
49
6
2
15
44
43
3
80
49
4
1
13
7
5
79
49
6
2
15
13
7
7
4
3
49
6
2
15
44
43
3
80
49
4
1
13
7
5
79
49
6
2
15
13
7
7
80
49
6
2
15
44
43
3
80
49
4
1
13
7
5
79
49
6
2
15
13
7
7
4
3
49
6
2
15
35
4
13
18
2
49
8
1
15
15
20
0
49
9
0
19
1
15
20
1
49
10
0
39
0
44
43
3
79
49
4
1
13
7
5
79
49
6
2
15
49
11
1
35
1
83
12
15
45
13
14
49
15
0
49
10
0
7
16
64
35
1
83
12
15
20
1
49
17
0
49
1
0
49
10
0
45
18
19
44
43
3
79
49
4
1
13
7
5
80
49
6
2
15
49
11
1
45
18
20
44
43
3
79
49
4
1
13
7
5
4
3
49
6
2
15
49
11
1
35
2
83
12
15
45
13
21
49
15
0
49
22
0
49
10
0
78
83
12
11
I
b
I
2
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
11
eager_graph
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
7
tags_id
x
7
_fetch=
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
309
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id)
x
5
first
x
3
Tag
n
n
n
x
6
length
p
15
I
0
I
302
I
a
I
304
I
74
I
305
I
7c
I
306
I
9a
I
307
I
ab
I
308
I
e6
I
309
I
f6
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
2
ds
x
1
a
s
60
should eager graph multiple associations from the same table
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
155
39
0
7
1
7
2
49
3
2
49
4
0
19
0
15
20
0
49
5
0
39
0
44
43
6
79
49
7
1
13
7
8
79
49
9
2
15
49
10
1
35
1
83
11
15
45
12
13
49
14
0
49
5
0
7
15
64
35
1
83
11
15
20
0
49
16
0
19
0
15
20
0
49
1
0
49
5
0
45
17
18
44
43
6
79
49
7
1
13
7
8
80
49
9
2
15
49
10
1
35
1
83
11
15
20
0
49
2
0
49
5
0
45
17
19
44
43
6
79
49
7
1
13
7
8
4
9
49
9
2
15
49
10
1
35
1
83
11
15
45
12
20
49
14
0
49
21
0
49
5
0
78
83
11
11
I
8
I
1
I
0
I
0
I
-2
p
22
x
3
@c1
x
4
tags
x
10
other_tags
x
11
eager_graph
x
3
all
x
6
should
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
681
SELECT artists.id, tags.id AS tags_id, other_tags.id AS other_tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) LEFT OUTER JOIN albums_artists AS albums_artists_0 ON (albums_artists_0.artist_id = artists.id) LEFT OUTER JOIN albums AS albums_0 ON (albums_0.id = albums_artists_0.album_id) LEFT OUTER JOIN albums_tags AS albums_tags_0 ON (albums_tags_0.album_id = albums_0.id) LEFT OUTER JOIN tags AS other_tags ON (other_tags.id = albums_tags_0.tag_id)
x
5
first
x
3
Tag
n
n
n
x
6
length
p
15
I
0
I
30d
I
f
I
30e
I
2d
I
30f
I
3e
I
310
I
46
I
311
I
68
I
312
I
8b
I
313
I
9b
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
49
should eager graph a self_referential association
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
154
39
0
7
1
7
2
49
3
2
49
4
0
19
0
15
20
0
49
5
0
39
0
44
43
6
79
49
7
1
13
7
8
79
49
9
2
15
49
10
1
35
1
83
11
15
45
12
13
49
14
0
49
5
0
7
15
64
35
1
83
11
15
20
0
49
16
0
19
0
15
20
0
49
1
0
49
5
0
45
17
18
44
43
6
79
49
7
1
13
7
8
80
49
9
2
15
49
10
1
35
1
83
11
15
20
0
49
2
0
49
5
0
39
0
44
43
6
79
49
7
1
13
7
8
4
10
49
9
2
15
49
10
1
35
1
83
11
15
45
12
19
49
14
0
49
20
0
49
5
0
78
83
11
11
I
8
I
1
I
0
I
0
I
-2
p
21
x
3
@c1
x
4
tags
x
7
artists
x
11
eager_graph
x
3
all
x
6
should
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
695
SELECT artists.id, tags.id AS tags_id, artists_0.id AS artists_0_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) LEFT OUTER JOIN albums_artists AS albums_artists_0 ON (albums_artists_0.artist_id = artists.id) LEFT OUTER JOIN albums AS albums_0 ON (albums_0.id = albums_artists_0.album_id) LEFT OUTER JOIN albums_artists AS albums_artists_1 ON (albums_artists_1.album_id = albums_0.id) LEFT OUTER JOIN artists AS artists_0 ON (artists_0.id = albums_artists_1.artist_id)
x
5
first
x
3
Tag
n
n
x
6
length
p
15
I
0
I
317
I
f
I
318
I
2d
I
319
I
3e
I
31a
I
46
I
31b
I
68
I
31c
I
8a
I
31d
I
9a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
68
eager graphing should give you a plain hash when called without .all
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
60
39
0
7
1
7
2
49
3
2
49
4
0
49
5
0
44
43
6
4
4
49
7
1
13
7
8
4
3
49
9
2
15
13
7
10
4
10
49
9
2
15
13
7
11
79
49
9
2
15
13
7
12
80
49
9
2
15
83
13
11
I
6
I
0
I
0
I
0
I
-2
p
14
x
3
@c1
x
4
tags
x
7
artists
x
11
eager_graph
x
5
first
x
6
should
x
4
Hash
x
16
new_from_literal
x
11
albums_0_id
x
3
[]=
x
12
artists_0_id
x
2
id
x
7
tags_id
x
2
==
p
3
I
0
I
321
I
3c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
52
should be able to use eager and eager_graph together
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
161
39
0
7
1
49
2
1
7
3
49
4
1
49
5
0
19
0
15
20
0
49
6
0
39
0
44
43
7
79
49
8
1
13
7
9
79
49
10
2
15
49
11
1
35
1
83
12
15
45
13
14
49
15
0
49
6
0
7
16
64
7
17
64
35
2
83
12
15
20
0
49
18
0
19
0
15
20
0
49
1
0
49
6
0
45
19
20
44
43
7
79
49
8
1
13
7
9
80
49
10
2
15
49
11
1
35
1
83
12
15
20
0
49
3
0
49
6
0
45
21
22
44
43
7
79
49
8
1
13
7
9
4
3
49
10
2
15
49
11
1
35
1
83
12
15
45
13
23
49
15
0
49
24
0
49
6
0
78
83
12
11
I
8
I
1
I
0
I
0
I
-2
p
25
x
3
@c1
x
4
tags
x
11
eager_graph
x
6
albums
x
5
eager
x
3
all
x
6
should
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
309
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id)
s
179
SELECT albums.*, albums_artists.artist_id AS x_foreign_key_x FROM albums INNER JOIN albums_artists ON ((albums_artists.album_id = albums.id) AND (albums_artists.artist_id IN (1)))
x
5
first
x
3
Tag
n
x
5
Album
n
n
x
6
length
p
17
I
0
I
325
I
12
I
326
I
30
I
327
I
3c
I
328
I
44
I
329
I
4c
I
32a
I
6e
I
32b
I
91
I
32c
I
a1
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
a
s
96
should handle no associated records when eagerly graphing a single many_through_many association
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
130
39
0
7
1
49
2
1
19
0
15
20
0
44
43
3
80
49
4
1
13
7
5
79
49
6
2
15
13
7
7
1
49
6
2
15
13
18
2
49
8
1
15
15
20
0
49
9
0
19
1
15
20
1
49
10
0
39
0
44
43
3
79
49
4
1
13
7
5
79
49
6
2
15
49
11
1
35
1
83
12
15
45
13
14
49
15
0
49
10
0
7
16
64
35
1
83
12
15
20
1
49
17
0
49
1
0
49
10
0
35
0
83
12
15
45
13
18
49
15
0
49
19
0
49
10
0
78
83
12
11
I
9
I
2
I
0
I
0
I
-2
p
20
x
3
@c1
x
4
tags
x
11
eager_graph
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
7
tags_id
x
7
_fetch=
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
309
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id)
x
5
first
n
x
6
length
p
15
I
0
I
330
I
a
I
331
I
2b
I
332
I
33
I
333
I
51
I
334
I
62
I
335
I
72
I
336
I
82
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
2
ds
x
1
a
s
97
should handle no associated records when eagerly graphing multiple many_through_many associations
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
399
39
0
7
1
7
2
49
3
2
19
0
15
20
0
44
43
4
4
3
49
5
1
13
7
6
79
49
7
2
15
13
7
8
1
49
7
2
15
13
7
9
4
3
49
7
2
15
44
43
4
4
3
49
5
1
13
7
6
79
49
7
2
15
13
7
8
80
49
7
2
15
13
7
9
1
49
7
2
15
44
43
4
4
3
49
5
1
13
7
6
79
49
7
2
15
13
7
8
4
5
49
7
2
15
13
7
9
4
6
49
7
2
15
44
43
4
4
3
49
5
1
13
7
6
4
7
49
7
2
15
13
7
8
1
49
7
2
15
13
7
9
1
49
7
2
15
35
4
13
18
2
49
10
1
15
15
20
0
49
11
0
19
1
15
20
1
49
12
0
39
0
44
43
4
79
49
5
1
13
7
6
79
49
7
2
15
49
13
1
39
0
44
43
4
79
49
5
1
13
7
6
4
7
49
7
2
15
49
13
1
35
2
83
14
15
45
15
16
49
17
0
49
12
0
7
18
64
35
1
83
14
15
20
1
49
19
0
49
1
0
49
12
0
45
20
21
44
43
4
79
49
5
1
13
7
6
80
49
7
2
15
49
13
1
45
20
22
44
43
4
79
49
5
1
13
7
6
4
5
49
7
2
15
49
13
1
35
2
83
14
15
20
1
49
19
0
49
2
0
49
12
0
45
23
24
44
43
4
79
49
5
1
13
7
6
4
3
49
7
2
15
49
13
1
45
23
25
44
43
4
79
49
5
1
13
7
6
4
6
49
7
2
15
49
13
1
35
2
83
14
15
20
1
49
26
0
49
1
0
49
12
0
35
0
83
14
15
20
1
49
26
0
49
2
0
49
12
0
35
0
83
14
15
45
15
27
49
17
0
49
28
0
49
12
0
78
83
14
11
I
b
I
2
I
0
I
0
I
-2
p
29
x
3
@c1
x
4
tags
x
6
albums
x
11
eager_graph
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
7
tags_id
x
11
albums_0_id
x
7
_fetch=
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
513
SELECT artists.id, tags.id AS tags_id, albums_0.id AS albums_0_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) LEFT OUTER JOIN albums_artists AS albums_artists_0 ON (albums_artists_0.artist_id = artists.id) LEFT OUTER JOIN albums AS albums_0 ON (albums_0.id = albums_artists_0.album_id)
x
5
first
x
3
Tag
n
n
x
5
Album
n
n
x
4
last
n
x
6
length
p
21
I
0
I
33a
I
c
I
33b
I
9c
I
33c
I
a4
I
33d
I
d7
I
33e
I
e8
I
33f
I
123
I
340
I
15f
I
341
I
16f
I
342
I
17f
I
343
I
18f
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
2
ds
x
1
a
s
108
should handle missing associated records when cascading eager graphing for associations of associated models
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
365
39
0
44
43
1
79
49
2
1
13
7
3
7
4
49
5
2
15
49
6
1
19
0
15
20
0
44
43
1
4
3
49
2
1
13
7
7
79
49
5
2
15
13
7
8
80
49
5
2
15
13
7
9
4
4
49
5
2
15
44
43
1
4
3
49
2
1
13
7
7
79
49
5
2
15
13
7
8
4
3
49
5
2
15
13
7
9
1
49
5
2
15
44
43
1
4
3
49
2
1
13
7
7
80
49
5
2
15
13
7
8
1
49
5
2
15
13
7
9
1
49
5
2
15
35
3
13
18
2
49
10
1
15
15
20
0
49
11
0
19
1
15
20
1
49
12
0
39
0
44
43
1
79
49
2
1
13
7
7
79
49
5
2
15
49
13
1
39
0
44
43
1
79
49
2
1
13
7
7
80
49
5
2
15
49
13
1
35
2
83
14
15
45
15
16
49
17
0
49
12
0
7
18
64
35
1
83
14
15
20
1
49
19
0
49
3
0
49
12
0
35
0
83
14
15
20
1
49
20
0
19
1
15
20
1
49
3
0
49
12
0
45
21
22
44
43
1
79
49
2
1
13
7
7
80
49
5
2
15
49
13
1
45
21
23
44
43
1
79
49
2
1
13
7
7
4
3
49
5
2
15
49
13
1
35
2
83
14
15
20
1
49
3
0
49
20
0
49
4
0
49
12
0
45
24
25
44
43
1
79
49
2
1
13
7
7
4
4
49
5
2
15
49
13
1
35
1
83
14
15
20
1
49
3
0
49
19
0
49
4
0
49
12
0
35
0
83
14
15
45
15
26
49
17
0
49
27
0
49
12
0
78
83
14
11
I
a
I
2
I
0
I
0
I
-2
p
28
x
3
@c1
x
4
Hash
x
16
new_from_literal
x
4
tags
x
6
tracks
x
3
[]=
x
11
eager_graph
x
2
id
x
7
tags_id
x
9
tracks_id
x
7
_fetch=
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
549
SELECT artists.id, tags.id AS tags_id, tracks.id AS tracks_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) LEFT OUTER JOIN albums_tags AS albums_tags_0 ON (albums_tags_0.tag_id = tags.id) LEFT OUTER JOIN albums AS albums_0 ON (albums_0.id = albums_tags_0.album_id) LEFT OUTER JOIN tracks ON (tracks.album_id = albums_0.id)
x
4
last
x
5
first
x
3
Tag
n
n
x
5
Track
n
n
x
6
length
p
23
I
0
I
347
I
18
I
348
I
86
I
349
I
8e
I
34a
I
c0
I
34b
I
d1
I
34c
I
e1
I
34d
I
e9
I
34e
I
121
I
34f
I
14a
I
350
I
15d
I
351
I
16d
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
2
ds
x
1
a
s
78
eager graphing should respect :left_primary_key and :right_primary_key options
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
274
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
80
49
10
1
13
7
11
7
12
49
13
2
15
13
7
14
7
8
49
13
2
15
49
15
3
15
39
0
49
16
0
7
17
56
18
50
19
1
15
45
20
21
49
16
0
7
17
56
22
50
19
1
15
39
0
7
1
49
23
1
19
0
15
20
0
44
43
9
4
4
49
10
1
13
7
6
79
49
13
2
15
13
7
12
4
8
49
13
2
15
13
7
24
80
49
13
2
15
13
7
8
4
4
49
13
2
15
13
18
2
49
25
1
15
15
20
0
49
26
0
19
1
15
20
1
49
27
0
39
0
44
43
9
80
49
10
1
13
7
6
79
49
13
2
15
13
7
12
4
8
49
13
2
15
49
28
1
35
1
83
29
15
45
30
31
49
32
0
49
27
0
7
33
64
35
1
83
29
15
20
1
49
34
0
49
1
0
49
27
0
45
20
35
44
43
9
80
49
10
1
13
7
6
80
49
13
2
15
13
7
8
4
4
49
13
2
15
49
28
1
35
1
83
29
15
45
30
36
49
32
0
49
37
0
49
27
0
78
83
29
11
I
a
I
2
I
0
I
0
I
-2
p
38
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
16
left_primary_key
x
3
yyy
x
3
[]=
x
17
right_primary_key
x
17
many_through_many
x
7
dataset
x
7
columns
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
7
0
7
1
35
2
11
I
3
I
0
I
0
I
0
I
-2
p
2
x
2
id
x
3
yyy
p
3
I
0
I
356
I
7
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
8
meta_def
x
3
Tag
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
7
0
7
1
35
2
11
I
3
I
0
I
0
I
0
I
-2
p
2
x
2
id
x
6
tag_id
p
3
I
0
I
357
I
7
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
11
eager_graph
x
7
tags_id
x
7
_fetch=
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
340
SELECT artists.id, artists.yyy, tags.id AS tags_id, tags.tag_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.yyy) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.tag_id = albums_tags.tag_id)
x
5
first
n
n
x
6
length
p
21
I
0
I
355
I
3b
I
356
I
48
I
357
I
56
I
358
I
60
I
359
I
94
I
35a
I
9c
I
35b
I
c3
I
35c
I
d4
I
35d
I
102
I
35e
I
112
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
2
ds
x
1
a
s
44
eager graphing should respect composite keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
306
39
0
7
1
7
2
7
3
7
4
35
2
7
5
7
6
35
2
35
3
7
7
7
8
7
9
35
2
7
10
7
11
35
2
35
3
7
12
7
13
7
14
35
2
7
15
7
16
35
2
35
3
35
3
44
43
17
80
49
18
1
13
7
19
7
20
7
21
35
2
49
22
2
15
13
7
23
7
20
7
24
35
2
49
22
2
15
49
25
3
15
39
0
49
26
0
7
27
56
28
50
29
1
15
45
30
31
49
26
0
7
27
56
32
50
29
1
15
39
0
7
1
49
33
1
19
0
15
20
0
44
43
17
4
4
49
18
1
13
7
20
79
49
22
2
15
13
7
24
4
8
49
22
2
15
13
7
34
80
49
22
2
15
13
7
21
4
4
49
22
2
15
13
18
2
49
35
1
15
15
20
0
49
36
0
19
1
15
20
1
49
37
0
39
0
44
43
17
80
49
18
1
13
7
20
79
49
22
2
15
13
7
24
4
8
49
22
2
15
49
38
1
35
1
83
39
15
45
40
41
49
42
0
49
37
0
7
43
64
35
1
83
39
15
20
1
49
44
0
49
1
0
49
37
0
45
30
45
44
43
17
80
49
18
1
13
7
20
80
49
22
2
15
13
7
21
4
4
49
22
2
15
49
38
1
35
1
83
39
15
45
40
46
49
42
0
49
47
0
49
37
0
78
83
39
11
I
b
I
2
I
0
I
0
I
-2
p
48
x
3
@c1
x
4
tags
x
14
albums_artists
x
2
b1
x
2
b2
x
2
c1
x
2
c2
x
6
albums
x
2
d1
x
2
d2
x
2
e1
x
2
e2
x
11
albums_tags
x
2
f1
x
2
f2
x
2
g1
x
2
g2
x
4
Hash
x
16
new_from_literal
x
17
right_primary_key
x
2
id
x
6
tag_id
x
3
[]=
x
16
left_primary_key
x
3
yyy
x
17
many_through_many
x
7
dataset
x
7
columns
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
7
0
7
1
35
2
11
I
3
I
0
I
0
I
0
I
-2
p
2
x
2
id
x
3
yyy
p
3
I
0
I
363
I
7
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
8
meta_def
x
3
Tag
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
7
0
7
1
35
2
11
I
3
I
0
I
0
I
0
I
-2
p
2
x
2
id
x
6
tag_id
p
3
I
0
I
364
I
7
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
11
eager_graph
x
7
tags_id
x
7
_fetch=
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
462
SELECT artists.id, artists.yyy, tags.id AS tags_id, tags.tag_id FROM artists LEFT OUTER JOIN albums_artists ON ((albums_artists.b1 = artists.id) AND (albums_artists.b2 = artists.yyy)) LEFT OUTER JOIN albums ON ((albums.d1 = albums_artists.c1) AND (albums.d2 = albums_artists.c2)) LEFT OUTER JOIN albums_tags ON ((albums_tags.f1 = albums.e1) AND (albums_tags.f2 = albums.e2)) LEFT OUTER JOIN tags ON ((tags.id = albums_tags.g1) AND (tags.tag_id = albums_tags.g2))
x
5
first
n
n
x
6
length
p
21
I
0
I
362
I
5b
I
363
I
68
I
364
I
76
I
365
I
80
I
366
I
b4
I
367
I
bc
I
368
I
e3
I
369
I
f4
I
36a
I
122
I
36b
I
132
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
2
ds
x
1
a
s
53
should respect the association's :graph_select option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
201
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
49
13
2
15
49
14
3
15
39
0
7
1
49
15
1
19
0
15
20
0
44
43
9
80
49
10
1
13
7
6
79
49
13
2
15
13
7
12
80
49
13
2
15
13
18
2
49
16
1
15
15
20
0
49
17
0
19
1
15
20
1
49
18
0
39
0
44
43
9
79
49
10
1
13
7
6
79
49
13
2
15
49
19
1
35
1
83
20
15
45
21
22
49
23
0
49
18
0
7
24
64
35
1
83
20
15
20
1
49
25
0
49
1
0
49
18
0
45
26
27
44
43
9
79
49
10
1
13
7
12
80
49
13
2
15
49
19
1
35
1
83
20
15
45
21
28
49
23
0
49
29
0
49
18
0
78
83
20
11
I
a
I
2
I
0
I
0
I
-2
p
30
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
12
graph_select
x
1
b
x
3
[]=
x
17
many_through_many
x
11
eager_graph
x
7
_fetch=
x
3
all
x
6
should
x
4
load
x
2
==
x
8
MODEL_DB
n
x
4
sqls
s
297
SELECT artists.id, tags.b FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id)
x
5
first
x
3
Tag
n
n
x
6
length
p
17
I
0
I
36f
I
32
I
370
I
3c
I
371
I
5d
I
372
I
65
I
373
I
83
I
374
I
94
I
375
I
b9
I
376
I
c9
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
2
x
2
ds
x
1
a
s
56
should respect the association's :graph_join_type option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
69
39
0
7
1
7
2
7
3
7
4
35
3
7
5
7
6
7
6
35
3
7
7
7
4
7
8
35
3
35
3
44
43
9
79
49
10
1
13
7
11
7
12
49
13
2
15
49
14
3
15
39
0
7
1
49
15
1
49
16
0
49
17
0
7
18
64
83
19
11
I
8
I
0
I
0
I
0
I
-2
p
20
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
4
Hash
x
16
new_from_literal
x
15
graph_join_type
x
5
inner
x
3
[]=
x
17
many_through_many
x
11
eager_graph
x
3
sql
x
6
should
s
289
SELECT artists.id, tags.id AS tags_id FROM artists INNER JOIN albums_artists ON (albums_artists.artist_id = artists.id) INNER JOIN albums ON (albums.id = albums_artists.album_id) INNER JOIN albums_tags ON (albums_tags.album_id = albums.id) INNER JOIN tags ON (tags.id = albums_tags.tag_id)
x
2
==
p
5
I
0
I
37a
I
32
I
37b
I
45
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
61
should respect the association's :join_type option on through
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
105
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
4
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
13
7
13
7
14
49
9
2
15
7
15
7
4
7
16
35
3
35
3
44
43
5
79
49
6
1
13
7
17
7
18
49
9
2
15
49
19
3
15
39
0
7
1
49
20
1
49
21
0
49
22
0
7
23
64
83
24
11
I
8
I
0
I
0
I
0
I
-2
p
25
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
9
join_type
x
7
natural
x
11
albums_tags
x
6
tag_id
x
15
graph_join_type
x
5
inner
x
17
many_through_many
x
11
eager_graph
x
3
sql
x
6
should
s
291
SELECT artists.id, tags.id AS tags_id FROM artists INNER JOIN albums_artists ON (albums_artists.artist_id = artists.id) NATURAL JOIN albums ON (albums.id = albums_artists.album_id) INNER JOIN albums_tags ON (albums_tags.album_id = albums.id) INNER JOIN tags ON (tags.id = albums_tags.tag_id)
x
2
==
p
5
I
0
I
37f
I
56
I
380
I
69
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
51
should respect the association's :conditions option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
110
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
3
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
7
13
7
4
7
14
35
3
35
3
44
43
5
79
49
6
1
13
7
15
44
43
5
79
49
6
1
13
7
16
4
32
49
9
2
15
49
9
2
15
49
17
3
15
39
0
7
1
49
18
1
49
19
0
49
20
0
7
21
64
83
22
11
I
b
I
0
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
11
albums_tags
x
6
tag_id
x
10
conditions
x
1
a
x
17
many_through_many
x
11
eager_graph
x
3
sql
x
6
should
s
329
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON ((tags.id = albums_tags.tag_id) AND (tags.a = 32))
x
2
==
p
5
I
0
I
384
I
5b
I
385
I
6e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
57
should respect the association's :graph_conditions option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
243
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
3
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
7
13
7
4
7
14
35
3
35
3
44
43
5
79
49
6
1
13
7
15
44
43
5
79
49
6
1
13
7
16
4
42
49
9
2
15
49
9
2
15
49
17
3
15
39
0
7
1
49
18
1
49
19
0
49
20
0
7
21
64
83
22
15
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
3
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
7
13
7
4
7
14
35
3
35
3
44
43
5
80
49
6
1
13
7
15
44
43
5
79
49
6
1
13
7
16
4
42
49
9
2
15
49
9
2
15
13
7
23
44
43
5
79
49
6
1
13
7
16
4
32
49
9
2
15
49
9
2
15
49
17
3
15
39
0
7
1
49
18
1
49
19
0
49
20
0
7
21
64
83
22
11
I
b
I
0
I
0
I
0
I
-2
p
24
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
11
albums_tags
x
6
tag_id
x
16
graph_conditions
x
1
a
x
17
many_through_many
x
11
eager_graph
x
3
sql
x
6
should
s
329
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON ((tags.id = albums_tags.tag_id) AND (tags.a = 42))
x
2
==
x
10
conditions
p
9
I
0
I
389
I
5b
I
38a
I
6e
I
38b
I
e0
I
38c
I
f3
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
62
should respect the association's :conditions option on through
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
103
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
4
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
13
7
13
44
43
5
79
49
6
1
13
7
14
4
42
49
9
2
15
49
9
2
15
7
15
7
4
7
16
35
3
35
3
49
17
2
15
39
0
7
1
49
18
1
49
19
0
49
20
0
7
21
64
83
22
11
I
b
I
0
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
10
conditions
x
1
a
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
11
eager_graph
x
3
sql
x
6
should
s
331
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON ((albums.id = albums_artists.album_id) AND (albums.a = 42)) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id)
x
2
==
p
5
I
0
I
390
I
54
I
391
I
67
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
52
should respect the association's :graph_block option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
101
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
3
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
7
13
7
4
7
14
35
3
35
3
44
43
5
79
49
6
1
13
7
15
5
56
16
47
50
17
0
49
9
2
15
49
18
3
15
39
0
7
1
49
19
1
49
20
0
49
21
0
7
22
64
83
23
11
I
9
I
0
I
0
I
0
I
-2
p
24
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
11
albums_tags
x
6
tag_id
x
11
graph_block
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
38
58
37
19
0
15
37
19
1
15
37
19
2
15
15
44
43
0
79
49
1
1
13
45
2
3
20
0
7
4
49
5
2
2
49
6
2
15
11
I
9
I
3
I
3
I
3
n
p
7
x
4
Hash
x
16
new_from_literal
x
6
Sequel
n
x
6
active
x
7
qualify
x
3
[]=
p
3
I
0
I
395
I
26
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
3
x
2
ja
x
3
lja
x
2
js
x
4
proc
x
17
many_through_many
x
11
eager_graph
x
3
sql
x
6
should
s
337
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON ((tags.id = albums_tags.tag_id) AND (tags.active IS TRUE))
x
2
==
p
5
I
0
I
395
I
52
I
396
I
65
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
57
should respect the association's :block option on through
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
94
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
4
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
13
7
13
5
56
14
47
50
15
0
49
9
2
15
7
16
7
4
7
17
35
3
35
3
49
18
2
15
39
0
7
1
49
19
1
49
20
0
49
21
0
7
22
64
83
23
11
I
9
I
0
I
0
I
0
I
-2
p
24
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
5
block
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
38
58
37
19
0
15
37
19
1
15
37
19
2
15
15
44
43
0
79
49
1
1
13
45
2
3
20
0
7
4
49
5
2
2
49
6
2
15
11
I
9
I
3
I
3
I
3
n
p
7
x
4
Hash
x
16
new_from_literal
x
6
Sequel
n
x
6
active
x
7
qualify
x
3
[]=
p
3
I
0
I
39a
I
26
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
3
x
2
ja
x
3
lja
x
2
js
x
4
proc
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
11
eager_graph
x
3
sql
x
6
should
s
339
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON ((albums.id = albums_artists.album_id) AND (albums.active IS TRUE)) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id)
x
2
==
p
5
I
0
I
39a
I
4b
I
39b
I
5e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
62
should respect the association's :graph_only_conditions option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
110
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
3
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
7
13
7
4
7
14
35
3
35
3
44
43
5
79
49
6
1
13
7
15
44
43
5
79
49
6
1
13
7
16
4
32
49
9
2
15
49
9
2
15
49
17
3
15
39
0
7
1
49
18
1
49
19
0
49
20
0
7
21
64
83
22
11
I
b
I
0
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
11
albums_tags
x
6
tag_id
x
21
graph_only_conditions
x
1
a
x
17
many_through_many
x
11
eager_graph
x
3
sql
x
6
should
s
292
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.a = 32)
x
2
==
p
5
I
0
I
39f
I
5b
I
3a0
I
6e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
67
should respect the association's :only_conditions option on through
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
103
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
4
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
13
7
13
44
43
5
79
49
6
1
13
7
14
4
42
49
9
2
15
49
9
2
15
7
15
7
4
7
16
35
3
35
3
49
17
2
15
39
0
7
1
49
18
1
49
19
0
49
20
0
7
21
64
83
22
11
I
b
I
0
I
0
I
0
I
-2
p
23
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
15
only_conditions
x
1
a
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
11
eager_graph
x
3
sql
x
6
should
s
287
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.a = 42) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id)
x
2
==
p
5
I
0
I
3a4
I
54
I
3a5
I
67
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
55
should create unique table aliases for all associations
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
47
39
0
44
43
1
79
49
2
1
13
7
3
44
43
1
79
49
2
1
13
7
3
7
3
49
4
2
15
49
4
2
15
49
5
1
49
6
0
49
7
0
7
8
64
83
9
11
I
9
I
0
I
0
I
0
I
-2
p
10
x
3
@c1
x
4
Hash
x
16
new_from_literal
x
7
artists
x
3
[]=
x
11
eager_graph
x
3
sql
x
6
should
s
1152
SELECT artists.id, artists_0.id AS artists_0_id, artists_1.id AS artists_1_id, artists_2.id AS artists_2_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_artists AS albums_artists_0 ON (albums_artists_0.album_id = albums.id) LEFT OUTER JOIN artists AS artists_0 ON (artists_0.id = albums_artists_0.artist_id) LEFT OUTER JOIN albums_artists AS albums_artists_1 ON (albums_artists_1.artist_id = artists_0.id) LEFT OUTER JOIN albums AS albums_0 ON (albums_0.id = albums_artists_1.album_id) LEFT OUTER JOIN albums_artists AS albums_artists_2 ON (albums_artists_2.album_id = albums_0.id) LEFT OUTER JOIN artists AS artists_1 ON (artists_1.id = albums_artists_2.artist_id) LEFT OUTER JOIN albums_artists AS albums_artists_3 ON (albums_artists_3.artist_id = artists_1.id) LEFT OUTER JOIN albums AS albums_1 ON (albums_1.id = albums_artists_3.album_id) LEFT OUTER JOIN albums_artists AS albums_artists_4 ON (albums_artists_4.album_id = albums_1.id) LEFT OUTER JOIN artists AS artists_2 ON (artists_2.id = albums_artists_4.artist_id)
x
2
==
p
3
I
0
I
3a9
I
2f
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
39
should respect the association's :order
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
107
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
3
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
7
13
7
4
7
14
35
3
35
3
44
43
5
79
49
6
1
13
7
15
7
16
7
17
35
2
49
9
2
15
49
18
3
15
39
0
7
19
7
20
49
15
2
7
1
49
21
1
49
22
0
49
23
0
7
24
64
83
25
11
I
9
I
0
I
0
I
0
I
-2
p
26
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
11
albums_tags
x
6
tag_id
x
5
order
x
5
blah1
x
5
blah2
x
17
many_through_many
x
14
artists__blah2
x
14
artists__blah3
x
11
eager_graph
x
3
sql
x
6
should
s
371
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) ORDER BY artists.blah2, artists.blah3, tags.blah1, tags.blah2
x
2
==
p
5
I
0
I
3ad
I
51
I
3ae
I
6b
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
97
should only qualify unqualified symbols, identifiers, or ordered versions in association's :order
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
162
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
3
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
7
13
7
4
7
14
35
3
35
3
44
43
5
79
49
6
1
13
7
15
45
16
17
7
18
49
19
1
45
16
20
7
18
49
19
1
49
21
0
45
16
22
7
18
49
21
1
7
18
7
4
45
16
23
7
4
49
21
1
79
45
16
24
7
25
64
49
26
1
45
16
27
7
28
7
29
49
30
2
35
9
49
9
2
15
49
31
3
15
39
0
7
32
7
33
49
15
2
7
1
49
34
1
49
35
0
49
36
0
7
37
64
83
38
11
I
12
I
0
I
0
I
0
I
-2
p
39
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
11
albums_tags
x
6
tag_id
x
5
order
x
6
Sequel
n
x
8
blah__id
x
10
identifier
n
x
4
desc
n
n
n
s
8
RANDOM()
x
3
lit
n
x
1
b
x
1
a
x
7
qualify
x
17
many_through_many
x
14
artists__blah2
x
14
artists__blah3
x
11
eager_graph
x
3
sql
x
6
should
s
458
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) ORDER BY artists.blah2, artists.blah3, tags.blah__id, tags.blah__id DESC, blah.id DESC, blah.id, tags.album_id, tags.album_id DESC, 1, RANDOM(), b.a
x
2
==
p
5
I
0
I
3b2
I
88
I
3b3
I
a2
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
74
should not respect the association's :order if :order_eager_graph is false
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
115
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
3
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
7
13
7
4
7
14
35
3
35
3
44
43
5
80
49
6
1
13
7
15
7
16
7
17
35
2
49
9
2
15
13
7
18
3
49
9
2
15
49
19
3
15
39
0
7
20
7
21
49
15
2
7
1
49
22
1
49
23
0
49
24
0
7
25
64
83
26
11
I
9
I
0
I
0
I
0
I
-2
p
27
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
11
albums_tags
x
6
tag_id
x
5
order
x
5
blah1
x
5
blah2
x
17
order_eager_graph
x
17
many_through_many
x
14
artists__blah2
x
14
artists__blah3
x
11
eager_graph
x
3
sql
x
6
should
s
347
SELECT artists.id, tags.id AS tags_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) ORDER BY artists.blah2, artists.blah3
x
2
==
p
5
I
0
I
3b7
I
59
I
3b8
I
73
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
60
should add the associations :order for multiple associations
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
140
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
3
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
7
13
7
4
7
14
35
3
35
3
44
43
5
79
49
6
1
13
7
15
7
16
7
17
35
2
49
9
2
15
49
18
3
15
39
0
7
8
7
2
7
3
7
4
35
3
35
1
44
43
5
79
49
6
1
13
7
15
7
19
7
20
35
2
49
9
2
15
49
18
3
15
39
0
7
1
7
8
49
21
2
49
22
0
49
23
0
7
24
64
83
25
11
I
9
I
0
I
0
I
0
I
-2
p
26
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
11
albums_tags
x
6
tag_id
x
5
order
x
5
blah1
x
5
blah2
x
17
many_through_many
x
5
blah3
x
5
blah4
x
11
eager_graph
x
3
sql
x
6
should
s
577
SELECT artists.id, tags.id AS tags_id, albums_0.id AS albums_0_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) LEFT OUTER JOIN albums_artists AS albums_artists_0 ON (albums_artists_0.artist_id = artists.id) LEFT OUTER JOIN albums AS albums_0 ON (albums_0.id = albums_artists_0.album_id) ORDER BY tags.blah1, tags.blah2, albums_0.blah3, albums_0.blah4
x
2
==
p
7
I
0
I
3bc
I
51
I
3bd
I
77
I
3be
I
8c
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
62
should add the association's :order for cascading associations
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
170
39
0
7
1
7
2
7
3
7
4
35
3
44
43
5
4
3
49
6
1
13
7
7
7
8
49
9
2
15
13
7
10
7
11
49
9
2
15
13
7
12
7
11
49
9
2
15
7
13
7
4
7
14
35
3
35
3
44
43
5
79
49
6
1
13
7
15
7
16
7
17
35
2
49
9
2
15
49
18
3
15
45
19
20
7
21
7
13
7
14
7
4
35
3
7
8
7
11
7
11
35
3
35
2
44
43
5
80
49
6
1
13
7
22
7
4
49
9
2
15
13
7
15
7
23
7
24
35
2
49
9
2
15
49
18
3
15
39
0
44
43
5
79
49
6
1
13
7
1
7
21
49
9
2
15
49
25
1
49
26
0
49
27
0
7
28
64
83
29
11
I
9
I
0
I
0
I
0
I
-2
p
30
x
3
@c1
x
4
tags
x
14
albums_artists
x
9
artist_id
x
8
album_id
x
4
Hash
x
16
new_from_literal
x
5
table
x
6
albums
x
3
[]=
x
4
left
x
2
id
x
5
right
x
11
albums_tags
x
6
tag_id
x
5
order
x
5
blah1
x
5
blah2
x
17
many_through_many
x
3
Tag
n
x
6
tracks
x
17
right_primary_key
x
5
blah3
x
5
blah4
x
11
eager_graph
x
3
sql
x
6
should
s
609
SELECT artists.id, tags.id AS tags_id, tracks.id AS tracks_id FROM artists LEFT OUTER JOIN albums_artists ON (albums_artists.artist_id = artists.id) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) LEFT OUTER JOIN albums_tags AS albums_tags_0 ON (albums_tags_0.tag_id = tags.id) LEFT OUTER JOIN albums AS albums_0 ON (albums_0.id = albums_tags_0.album_id) LEFT OUTER JOIN tracks ON (tracks.album_id = albums_0.id) ORDER BY tags.blah1, tags.blah2, tracks.blah3, tracks.blah4
x
2
==
p
7
I
0
I
3c2
I
51
I
3c3
I
89
I
3c4
I
aa
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
84
should use the correct qualifier when graphing multiple tables with extra conditions
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
200
39
0
7
1
44
43
2
4
4
49
3
1
13
7
4
7
5
49
6
2
15
13
7
7
7
8
49
6
2
15
13
7
9
7
10
49
6
2
15
13
7
11
44
43
2
79
49
3
1
13
7
12
7
13
49
6
2
15
49
6
2
15
44
43
2
4
3
49
3
1
13
7
4
7
14
49
6
2
15
13
7
7
7
15
49
6
2
15
13
7
9
7
15
49
6
2
15
7
16
7
10
7
17
35
3
35
3
49
18
2
15
39
0
7
14
44
43
2
4
4
49
3
1
13
7
4
7
5
49
6
2
15
13
7
7
7
8
49
6
2
15
13
7
9
7
10
49
6
2
15
13
7
11
44
43
2
79
49
3
1
13
7
19
7
20
49
6
2
15
49
6
2
15
35
1
49
18
2
15
39
0
7
1
7
14
49
21
2
49
22
0
49
23
0
7
24
64
83
25
11
I
a
I
0
I
0
I
0
I
-2
p
26
x
3
@c1
x
4
tags
x
4
Hash
x
16
new_from_literal
x
5
table
x
14
albums_artists
x
3
[]=
x
4
left
x
9
artist_id
x
5
right
x
8
album_id
x
10
conditions
x
1
a
x
1
b
x
6
albums
x
2
id
x
11
albums_tags
x
6
tag_id
x
17
many_through_many
x
1
c
x
1
d
x
11
eager_graph
x
3
sql
x
6
should
s
589
SELECT artists.id, tags.id AS tags_id, albums_0.id AS albums_0_id FROM artists LEFT OUTER JOIN albums_artists ON ((albums_artists.artist_id = artists.id) AND (albums_artists.a = artists.b)) LEFT OUTER JOIN albums ON (albums.id = albums_artists.album_id) LEFT OUTER JOIN albums_tags ON (albums_tags.album_id = albums.id) LEFT OUTER JOIN tags ON (tags.id = albums_tags.tag_id) LEFT OUTER JOIN albums_artists AS albums_artists_0 ON ((albums_artists_0.artist_id = artists.id) AND (albums_artists_0.c = artists.d)) LEFT OUTER JOIN albums AS albums_0 ON (albums_0.id = albums_artists_0.album_id)
x
2
==
p
7
I
0
I
3c8
I
6f
I
3c9
I
b3
I
3ca
I
c8
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
p
111
I
0
I
194
I
8
I
1ca
I
10
I
1ce
I
1b
I
1d6
I
26
I
1e4
I
31
I
1f2
I
3c
I
1fe
I
47
I
20b
I
52
I
215
I
5d
I
21a
I
68
I
22a
I
73
I
234
I
7e
I
23e
I
89
I
248
I
94
I
252
I
9f
I
265
I
aa
I
279
I
b5
I
290
I
c0
I
2a3
I
cb
I
2a9
I
d6
I
2b3
I
e1
I
2c0
I
ec
I
2cd
I
f7
I
2d7
I
102
I
2db
I
10d
I
2e3
I
118
I
2ed
I
123
I
2f7
I
12e
I
301
I
139
I
30c
I
144
I
316
I
14f
I
320
I
15a
I
324
I
165
I
32f
I
170
I
339
I
17b
I
346
I
186
I
354
I
191
I
361
I
19c
I
36e
I
1a7
I
379
I
1b2
I
37e
I
1bd
I
383
I
1c8
I
388
I
1d3
I
38f
I
1de
I
394
I
1e9
I
399
I
1f4
I
39e
I
1ff
I
3a3
I
20a
I
3a8
I
215
I
3ac
I
220
I
3b1
I
22b
I
3b6
I
236
I
3bb
I
241
I
3c1
I
24c
I
3c7
I
257
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
62
many_through_many associations with non-column expression keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
63
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
15
5
7
5
64
56
6
47
50
4
1
15
5
7
7
64
56
8
47
50
4
1
15
5
7
9
64
56
10
47
50
4
1
15
5
7
11
64
56
12
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
13
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
298
45
0
1
44
43
2
79
49
3
1
13
7
4
44
43
2
80
49
3
1
13
7
5
79
49
6
2
15
13
7
7
80
35
1
49
6
2
15
49
6
2
15
49
8
1
38
9
15
45
10
11
13
71
12
47
9
82
47
49
13
0
13
45
0
14
39
9
7
15
49
16
1
49
17
1
47
49
18
1
15
8
98
45
0
19
39
9
7
15
49
16
1
49
17
1
49
12
1
38
20
15
39
20
7
5
7
7
49
21
2
15
39
20
7
22
49
23
1
15
45
24
25
56
26
50
12
0
19
0
15
39
20
20
0
49
27
1
15
39
20
7
15
7
28
45
0
29
7
30
78
49
31
2
45
0
32
7
33
78
49
31
2
35
3
7
28
45
0
34
7
30
79
49
31
2
45
0
35
7
33
79
49
31
2
35
3
35
2
44
43
2
4
5
49
3
1
13
7
36
39
20
49
6
2
15
13
7
37
7
38
49
6
2
15
13
7
39
45
0
40
7
7
78
49
31
2
49
6
2
15
13
7
41
45
0
42
7
7
78
49
31
2
49
6
2
15
13
7
43
7
38
49
6
2
15
49
22
3
15
39
20
44
43
2
80
49
3
1
13
7
5
79
49
6
2
15
13
7
7
80
35
1
49
6
2
15
49
44
1
38
45
15
39
9
49
46
0
11
I
b
I
1
I
0
I
0
I
-2
p
47
x
6
Sequel
n
x
4
Hash
x
16
new_from_literal
x
5
fetch
x
2
id
x
3
[]=
x
10
object_ids
x
4
mock
x
3
@db
x
5
Class
n
x
3
new
x
8
allocate
n
x
4
foos
x
2
[]
x
5
Model
x
10
initialize
n
x
4
@Foo
x
7
columns
x
17
many_through_many
x
6
plugin
x
6
Module
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
14
99
7
0
7
1
65
67
49
2
0
49
3
4
11
I
6
I
0
I
0
I
0
I
-2
p
4
x
6
obj_id
M
1
n
n
x
6
obj_id
i
8
5
48
0
78
49
1
1
11
I
2
I
0
I
0
I
0
n
p
2
x
10
object_ids
x
2
[]
p
3
I
-1
I
3d4
I
8
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
17
method_visibility
x
15
add_defn_method
p
3
I
0
I
3d4
I
e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
7
include
x
1
f
n
x
1
l
x
9
subscript
n
x
1
r
n
n
x
5
class
x
16
left_primary_key
x
6
obj_id
x
23
left_primary_key_column
n
x
17
right_primary_key
n
x
24
right_primary_key_method
x
4
load
x
4
@foo
x
4
sqls
p
27
I
0
I
3d0
I
30
I
3d1
I
65
I
3d2
I
6f
I
3d3
I
77
I
3d4
I
82
I
3d5
I
8a
I
3d7
I
8e
I
3d8
I
a4
I
3d9
I
bc
I
3da
I
ff
I
3d7
I
103
I
3db
I
124
I
3dc
I
12a
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
m
x
6
before
s
47
should have working regular association methods
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
37
39
0
49
1
0
49
2
0
49
3
0
39
4
35
1
83
5
15
39
6
49
7
0
49
3
0
7
8
64
7
9
64
35
2
83
5
11
I
4
I
0
I
0
I
0
I
-2
p
10
x
4
@Foo
x
5
first
x
4
foos
x
6
should
x
4
@foo
x
2
==
x
3
@db
x
4
sqls
s
26
SELECT * FROM foos LIMIT 1
s
133
SELECT foos.* FROM foos INNER JOIN f ON (f.r[1] = foos.object_ids[0]) INNER JOIN f AS f_0 ON ((f_0.r[0] = f.l[1]) AND (f_0.l[0] = 2))
p
5
I
0
I
3e0
I
12
I
3e1
I
25
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
x
2
it
s
41
should have working eager loading methods
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
125
39
0
44
43
1
80
49
2
1
13
7
3
79
49
4
2
15
13
7
5
80
35
1
49
4
2
15
35
1
44
43
1
4
3
49
2
1
13
7
3
79
49
4
2
15
13
7
5
80
35
1
49
4
2
15
13
7
6
80
49
4
2
15
35
1
35
2
13
18
2
49
7
1
15
15
39
8
7
9
49
10
1
49
11
0
56
12
50
13
0
49
14
0
39
15
39
15
35
1
35
2
35
1
83
16
15
39
0
49
17
0
49
14
0
7
18
64
7
19
64
35
2
83
16
11
I
7
I
0
I
0
I
0
I
-2
p
20
x
3
@db
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
10
object_ids
x
15
x_foreign_key_x
x
6
fetch=
x
4
@Foo
x
4
foos
x
5
eager
x
3
all
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
14
57
19
0
15
20
0
20
0
49
0
0
35
2
11
I
4
I
1
I
1
I
1
n
p
1
x
4
foos
p
3
I
0
I
3e6
I
e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
o
x
3
map
x
6
should
x
4
@foo
x
2
==
x
4
sqls
s
18
SELECT * FROM foos
s
165
SELECT foos.*, f_0.l[0] AS x_foreign_key_x FROM foos INNER JOIN f ON (f.r[1] = foos.object_ids[0]) INNER JOIN f AS f_0 ON ((f_0.r[0] = f.l[1]) AND (f_0.l[0] IN (2)))
p
7
I
0
I
3e5
I
4b
I
3e6
I
6a
I
3e7
I
7d
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
42
should have working eager graphing methods
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
101
39
0
44
43
1
4
4
49
2
1
13
7
3
79
49
4
2
15
13
7
5
80
35
1
49
4
2
15
13
7
6
79
49
4
2
15
13
7
7
80
35
1
49
4
2
15
13
18
2
49
8
1
15
15
39
9
7
10
49
11
1
49
12
0
56
13
50
14
0
49
15
0
39
16
39
16
35
1
35
2
35
1
83
17
15
39
0
49
18
0
49
15
0
7
19
64
35
1
83
17
11
I
6
I
0
I
0
I
0
I
-2
p
20
x
3
@db
x
4
Hash
x
16
new_from_literal
x
2
id
x
3
[]=
x
10
object_ids
x
9
foos_0_id
x
17
foos_0_object_ids
x
6
fetch=
x
4
@Foo
x
4
foos
x
11
eager_graph
x
3
all
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
14
57
19
0
15
20
0
20
0
49
0
0
35
2
11
I
4
I
1
I
1
I
1
n
p
1
x
4
foos
p
3
I
0
I
3ec
I
e
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
1
x
1
o
x
3
map
x
6
should
x
4
@foo
x
2
==
x
4
sqls
s
272
SELECT foos.id, foos.object_ids, foos_0.id AS foos_0_id, foos_0.object_ids AS foos_0_object_ids FROM foos LEFT OUTER JOIN f ON (f.l[0] = foos.object_ids[0]) LEFT OUTER JOIN f AS f_0 ON (f_0.l[1] = f.r[0]) LEFT OUTER JOIN foos AS foos_0 ON (foos_0.object_ids[0] = f_0.r[1])
p
7
I
0
I
3eb
I
36
I
3ec
I
55
I
3ed
I
65
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
63
should have working filter by associations with model instances
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
45
39
0
44
43
1
79
49
2
1
13
7
3
39
4
49
5
2
15
49
6
1
49
7
0
39
4
83
8
15
39
9
49
10
0
49
7
0
7
11
64
35
1
83
8
11
I
6
I
0
I
0
I
0
I
-2
p
12
x
4
@Foo
x
4
Hash
x
16
new_from_literal
x
4
foos
x
4
@foo
x
3
[]=
x
5
first
x
6
should
x
2
==
x
3
@db
x
4
sqls
s
170
SELECT * FROM foos WHERE (foos.object_ids[0] IN (SELECT f.l[0] FROM f INNER JOIN f AS f_0 ON (f_0.l[1] = f.r[0]) WHERE ((f_0.r[1] = 2) AND (f.l[0] IS NOT NULL)))) LIMIT 1
p
5
I
0
I
3f1
I
1d
I
3f2
I
2d
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
s
62
should have working filter by associations with model datasets
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
67
39
0
44
43
1
79
49
2
1
13
7
3
39
0
44
43
1
79
49
2
1
13
7
4
39
5
49
4
0
49
6
2
15
49
7
1
49
6
2
15
49
8
1
49
9
0
39
5
83
10
15
39
11
49
12
0
49
9
0
7
13
64
35
1
83
10
11
I
a
I
0
I
0
I
0
I
-2
p
14
x
4
@Foo
x
4
Hash
x
16
new_from_literal
x
4
foos
x
2
id
x
4
@foo
x
3
[]=
x
5
where
x
5
first
x
6
should
x
2
==
x
3
@db
x
4
sqls
s
261
SELECT * FROM foos WHERE (foos.object_ids[0] IN (SELECT f.l[0] FROM f INNER JOIN f AS f_0 ON (f_0.l[1] = f.r[0]) WHERE ((f_0.r[1] IN (SELECT foos.object_ids[0] FROM foos WHERE ((id = 1) AND (foos.object_ids[0] IS NOT NULL)))) AND (f.l[0] IS NOT NULL)))) LIMIT 1
p
5
I
0
I
3f6
I
33
I
3f7
I
43
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
p
13
I
0
I
3cf
I
8
I
3df
I
13
I
3e4
I
1e
I
3ea
I
29
I
3f0
I
34
I
3f5
I
3f
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0
p
11
I
0
I
1
I
1f
I
3
I
2f
I
16c
I
3a
I
193
I
45
I
3ce
I
52
x
122
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/many_through_many_spec.rb
p
0

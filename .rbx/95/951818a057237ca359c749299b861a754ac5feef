!RBIX
9595534255132031488
x
M
1
n
n
x
10
__script__
i
55
5
45
0
1
45
0
2
45
0
3
65
49
4
0
49
5
1
49
6
1
7
7
64
49
8
2
47
49
9
1
15
5
7
10
64
56
11
47
50
12
1
15
5
7
13
64
56
14
47
50
12
1
15
2
11
I
5
I
0
I
0
I
0
n
p
15
x
4
File
n
n
n
x
11
active_path
x
11
expand_path
x
7
dirname
s
11
spec_helper
x
4
join
x
7
require
s
38
Sequel::Schema::Generator dump methods
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
41
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
15
5
7
5
64
56
6
47
50
4
1
15
5
7
7
64
56
8
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
9
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
39
45
0
1
43
2
13
71
3
47
9
23
47
49
4
0
13
47
49
5
0
15
8
26
49
3
0
38
6
15
45
0
7
43
8
43
9
38
10
11
I
3
I
0
I
0
I
0
I
-2
p
11
x
6
Sequel
n
x
8
Database
x
3
new
x
8
allocate
x
10
initialize
x
2
@d
n
x
6
Schema
x
9
Generator
x
2
@g
p
5
I
0
I
6
I
1d
I
7
I
27
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
6
before
s
127
should allow the same table information to be converted to a string for evaling inside of another instance with the same result
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
72
39
0
39
1
56
2
50
3
1
19
0
15
39
0
39
1
56
4
50
3
1
19
1
15
20
0
49
5
0
49
6
0
20
1
49
5
0
83
7
15
20
0
49
8
0
49
6
0
20
1
49
8
0
83
7
15
20
0
49
9
0
49
6
0
20
1
49
9
0
83
7
11
I
6
I
2
I
0
I
0
I
-2
p
10
x
2
@g
x
2
@d
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
226
5
7
0
47
49
1
1
15
5
7
2
47
49
3
1
15
5
7
4
45
5
6
47
49
7
2
15
5
7
8
7
3
47
49
7
2
15
5
7
9
47
49
10
1
15
5
7
11
7
0
47
49
12
2
15
5
7
13
47
49
12
1
15
5
7
11
7
13
35
2
44
43
14
79
49
15
1
13
7
16
7
17
49
18
2
15
47
49
12
2
15
5
7
19
7
20
64
47
49
21
2
15
5
44
43
14
79
49
15
1
13
7
0
79
49
18
2
15
47
49
22
1
15
5
7
13
35
1
47
49
23
1
15
5
7
0
47
49
24
1
15
5
7
9
7
13
35
2
47
49
24
1
15
5
7
2
7
9
35
2
44
43
14
79
49
15
1
13
7
25
7
26
49
18
2
15
47
49
24
2
15
5
7
11
35
1
44
43
14
79
49
15
1
13
7
23
2
49
18
2
15
47
49
24
2
15
5
7
0
47
49
27
1
15
5
7
2
7
9
35
2
47
49
28
1
11
I
7
I
0
I
0
I
0
I
-2
p
29
x
1
a
x
7
Integer
x
1
b
x
7
varchar
x
2
dt
x
8
DateTime
n
x
6
column
x
2
vc
x
1
c
x
11
primary_key
x
1
d
x
11
foreign_key
x
1
e
x
4
Hash
x
16
new_from_literal
x
4
name
x
3
cfk
x
3
[]=
x
4
blah
s
3
a=1
x
10
constraint
x
5
check
x
6
unique
x
5
index
x
4
type
x
4
hash
x
13
spatial_index
x
15
full_text_index
p
35
I
0
I
c
I
8
I
d
I
10
I
e
I
1b
I
f
I
25
I
10
I
2d
I
11
I
37
I
12
I
3f
I
13
I
5b
I
14
I
66
I
15
I
7b
I
16
I
85
I
17
I
8d
I
18
I
99
I
19
I
b5
I
1a
I
ce
I
1b
I
d6
I
1c
I
e2
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
3
new
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
54
5
21
1
0
49
0
0
65
49
1
0
4
31
47
49
2
3
15
5
21
1
0
49
3
0
65
49
1
0
4
32
47
49
2
3
15
5
21
1
0
49
4
0
65
49
1
0
4
33
47
49
2
3
11
I
5
I
0
I
0
I
0
I
-2
p
5
x
12
dump_columns
x
11
active_path
x
13
instance_eval
x
16
dump_constraints
x
12
dump_indexes
p
7
I
0
I
1f
I
12
I
20
I
24
I
21
I
36
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
7
columns
x
6
should
x
2
==
x
11
constraints
x
7
indexes
p
11
I
0
I
b
I
c
I
1e
I
18
I
23
I
28
I
24
I
38
I
25
I
48
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
2
x
1
g
x
2
g2
x
2
it
s
73
should allow dumping indexes as separate add_index and drop_index methods
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
78
39
0
39
1
56
2
50
3
1
19
0
15
20
0
44
43
4
79
49
5
1
13
7
6
7
7
49
8
2
15
49
9
1
49
10
0
7
11
64
49
12
0
83
13
15
20
0
44
43
4
79
49
5
1
13
7
14
7
7
49
8
2
15
49
9
1
49
10
0
7
15
64
49
12
0
83
13
11
I
7
I
1
I
0
I
0
I
-2
p
16
x
2
@g
x
2
@d
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
63
5
7
0
47
49
1
1
15
5
7
2
7
3
35
2
44
43
4
79
49
5
1
13
7
6
7
7
49
8
2
15
47
49
1
2
15
5
7
9
7
2
35
2
44
43
4
79
49
5
1
13
7
10
2
49
8
2
15
47
49
1
2
11
I
7
I
0
I
0
I
0
I
-2
p
11
x
1
a
x
5
index
x
1
c
x
1
e
x
4
Hash
x
16
new_from_literal
x
4
name
x
4
blah
x
3
[]=
x
1
b
x
6
unique
p
7
I
0
I
2a
I
8
I
2b
I
24
I
2c
I
3f
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
3
new
x
4
Hash
x
16
new_from_literal
x
9
add_index
x
1
t
x
3
[]=
x
12
dump_indexes
x
6
should
s
94
add_index :t, [:a]
add_index :t, [:c, :e], :name=>:blah
add_index :t, [:b, :c], :unique=>true

x
5
strip
x
2
==
x
10
drop_index
s
97
drop_index :t, [:b, :c], :unique=>true
drop_index :t, [:c, :e], :name=>:blah
drop_index :t, [:a]

p
7
I
0
I
29
I
c
I
2f
I
2d
I
35
I
4e
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
g
s
87
should raise an error if you try to dump a Generator that uses a constraint with a proc
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
21
5
56
0
47
50
1
0
5
45
2
3
43
4
47
49
5
1
49
6
1
11
I
4
I
0
I
0
I
0
I
-2
p
7
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
13
39
0
39
1
56
2
50
3
1
49
4
0
11
I
4
I
0
I
0
I
0
I
-2
p
5
x
2
@g
x
2
@d
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
8
5
56
0
47
50
1
0
11
I
3
I
0
I
0
I
0
I
-2
p
2
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
5
48
0
79
85
1
11
I
3
I
0
I
0
I
0
I
-2
p
2
x
1
a
x
1
>
p
3
I
0
I
3d
I
7
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
5
check
p
3
I
0
I
3d
I
8
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
3
new
x
16
dump_constraints
p
3
I
0
I
3d
I
d
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
4
proc
x
6
Sequel
n
x
5
Error
x
11
raise_error
x
6
should
p
3
I
0
I
3d
I
15
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
p
9
I
0
I
5
I
8
I
a
I
13
I
28
I
1e
I
3c
I
29
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
8
describe
s
29
Sequel::Database dump methods
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
470
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
15
5
7
5
64
56
6
47
50
4
1
15
5
7
7
64
56
8
47
50
4
1
15
5
7
9
64
56
10
47
50
4
1
15
5
7
11
64
56
12
47
50
4
1
15
5
7
13
64
56
14
47
50
4
1
15
5
7
15
64
56
16
47
50
4
1
15
5
7
17
64
56
18
47
50
4
1
15
5
7
19
64
56
20
47
50
4
1
15
5
7
21
64
56
22
47
50
4
1
15
5
7
23
64
56
24
47
50
4
1
15
5
7
25
64
56
26
47
50
4
1
15
5
7
27
64
56
28
47
50
4
1
15
5
7
29
64
56
30
47
50
4
1
15
5
7
31
64
56
32
47
50
4
1
15
5
7
33
64
56
34
47
50
4
1
15
5
7
35
64
56
36
47
50
4
1
15
5
7
37
64
56
38
47
50
4
1
15
5
7
39
64
56
40
47
50
4
1
15
5
7
41
64
56
42
47
50
4
1
15
5
7
43
64
56
44
47
50
4
1
15
5
7
45
64
56
46
47
50
4
1
15
5
7
47
64
56
48
47
50
4
1
15
5
7
49
64
56
50
47
50
4
1
15
5
7
51
64
56
52
47
50
4
1
15
5
7
53
64
56
54
47
50
4
1
15
5
7
55
64
56
56
47
50
4
1
15
5
7
57
64
56
58
47
50
4
1
15
5
7
59
64
56
60
47
50
4
1
15
5
7
61
64
56
62
47
50
4
1
15
5
7
63
64
56
64
47
50
4
1
15
5
7
65
64
56
66
47
50
4
1
15
5
7
67
64
56
68
47
50
4
1
15
5
7
69
64
56
70
47
50
4
1
15
5
7
71
64
56
72
47
50
4
1
15
5
7
73
64
56
74
47
50
4
1
15
5
7
75
64
56
76
47
50
4
1
15
5
7
77
64
56
78
47
50
4
1
15
5
7
79
64
56
80
47
50
4
1
15
5
7
81
64
56
82
47
50
4
1
15
5
7
83
64
56
84
47
50
4
1
15
5
7
85
64
56
86
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
87
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
49
45
0
1
43
2
13
71
3
47
9
23
47
49
4
0
13
47
49
5
0
15
8
26
49
3
0
38
6
15
39
6
7
7
56
8
50
9
1
15
39
6
7
10
56
11
50
9
1
11
I
4
I
0
I
0
I
0
I
-2
p
12
x
6
Sequel
n
x
8
Database
x
3
new
x
8
allocate
x
10
initialize
x
2
@d
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
11
57
19
0
15
7
0
7
1
35
2
11
I
4
I
1
I
1
I
1
n
p
2
x
2
t1
x
2
t2
p
3
I
0
I
44
I
b
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
8
meta_def
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
254
58
37
19
0
15
19
1
15
20
0
13
7
0
12
49
1
1
10
46
13
7
2
64
12
49
1
1
10
46
13
45
3
4
7
5
49
6
1
12
49
1
1
10
46
8
118
15
7
7
44
43
8
4
3
49
9
1
13
7
10
7
11
64
49
12
2
15
13
7
13
2
49
12
2
15
13
7
14
3
49
12
2
15
35
2
7
15
44
43
8
80
49
9
1
13
7
10
7
16
64
49
12
2
15
13
7
14
2
49
12
2
15
35
2
35
2
8
253
13
7
17
12
49
1
1
9
208
15
7
7
44
43
8
4
3
49
9
1
13
7
10
7
11
64
49
12
2
15
13
7
13
2
49
12
2
15
13
7
14
3
49
12
2
15
35
2
7
15
44
43
8
4
3
49
9
1
13
7
10
7
18
64
49
12
2
15
13
7
13
2
49
12
2
15
13
7
14
3
49
12
2
15
35
2
35
2
8
253
13
7
19
12
49
1
1
9
251
15
7
7
44
43
8
80
49
9
1
13
7
10
7
20
64
49
12
2
15
13
7
14
2
49
12
2
15
35
2
35
1
8
253
15
1
11
I
9
I
2
I
1
I
1
I
1
p
21
x
2
t1
x
3
===
s
5
t__t1
x
6
Sequel
n
x
5
t__t1
x
10
identifier
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
11
primary_key
x
10
allow_null
x
2
c2
s
11
varchar(20)
x
2
t2
s
7
numeric
x
2
t5
s
8
blahblah
p
25
I
0
I
45
I
8
I
46
I
a
I
47
I
2f
I
48
I
55
I
49
I
76
I
4a
I
80
I
4b
I
a6
I
4c
I
d0
I
4d
I
da
I
4e
I
fc
I
46
I
fd
I
0
I
fe
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
2
x
1
t
x
1
o
p
7
I
0
I
43
I
1d
I
44
I
27
I
45
I
31
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
6
before
s
65
should support dumping table schemas as create_table method calls
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
16
39
0
7
1
49
2
1
49
3
0
7
4
64
83
5
11
I
3
I
0
I
0
I
0
I
-2
p
6
x
2
@d
x
2
t1
x
17
dump_table_schema
x
6
should
s
66
create_table(:t1) do
  primary_key :c1
  String :c2, :size=>20
end
x
2
==
p
3
I
0
I
54
I
10
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
2
it
s
56
should support dumping table schemas when given a string
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
17
39
0
7
1
64
49
2
1
49
3
0
7
4
64
83
5
11
I
3
I
0
I
0
I
0
I
-2
p
6
x
2
@d
s
5
t__t1
x
17
dump_table_schema
x
6
should
s
70
create_table("t__t1") do
  primary_key :c1
  String :c2, :size=>20
end
x
2
==
p
3
I
0
I
58
I
11
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
61
should support dumping table schemas when given an identifier
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
22
39
0
45
1
2
7
3
49
4
1
49
5
1
49
6
0
7
7
64
83
8
11
I
4
I
0
I
0
I
0
I
-2
p
9
x
2
@d
x
6
Sequel
n
x
5
t__t1
x
10
identifier
x
17
dump_table_schema
x
6
should
s
70
create_table("t__t1") do
  primary_key :c1
  String :c2, :size=>20
end
x
2
==
p
3
I
0
I
5c
I
16
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
63
should dump non-Integer primary key columns with explicit :type
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
26
39
0
7
1
56
2
50
3
1
15
39
0
7
4
49
5
1
49
6
0
7
7
64
83
8
11
I
4
I
0
I
0
I
0
I
-2
p
9
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
46
59
36
19
0
15
7
0
44
43
1
4
3
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
2
49
5
2
15
13
7
7
2
49
5
2
15
35
2
35
1
11
I
7
I
1
I
0
I
0
I
0
p
8
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
6
bigint
x
3
[]=
x
11
primary_key
x
10
allow_null
p
3
I
0
I
60
I
2e
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
2
t6
x
17
dump_table_schema
x
6
should
s
57
create_table(:t6) do
  primary_key :c1, :type=>Bignum
end
x
2
==
p
5
I
0
I
60
I
a
I
61
I
1a
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
26
should handle foreign keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
36
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
49
7
1
49
8
0
7
9
64
83
10
11
I
4
I
0
I
0
I
0
I
-2
p
11
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
37
59
36
19
0
15
7
0
44
43
1
80
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
2
49
5
2
15
35
2
35
1
11
I
7
I
1
I
0
I
0
I
0
p
7
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
10
allow_null
p
3
I
0
I
65
I
25
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
47
59
36
19
0
15
44
43
0
4
3
49
1
1
13
7
2
7
3
35
1
49
4
2
15
13
7
5
7
6
49
4
2
15
13
7
7
7
8
35
1
49
4
2
15
35
1
11
I
6
I
1
I
0
I
0
I
0
p
9
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c1
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c2
p
3
I
0
I
66
I
2f
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
2
t6
x
17
dump_table_schema
x
6
should
s
60
create_table(:t6) do
  foreign_key :c1, :t2, :key=>[:c2]
end
x
2
==
p
7
I
0
I
65
I
a
I
66
I
14
I
67
I
24
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
53
should handle primary keys that are also foreign keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
111
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
49
7
1
19
0
15
20
0
49
8
0
7
9
13
70
9
53
15
44
43
10
7
11
78
49
12
2
6
9
49
13
1
15
20
0
49
8
0
7
14
13
70
9
80
15
44
43
10
7
15
78
49
12
2
6
14
49
13
1
15
20
0
49
8
0
7
16
13
70
9
107
15
44
43
10
7
17
78
49
12
2
6
16
49
13
1
11
I
6
I
1
I
0
I
0
I
-2
p
18
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
46
59
36
19
0
15
7
0
44
43
1
4
3
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
2
49
5
2
15
13
7
7
2
49
5
2
15
35
2
35
1
11
I
7
I
1
I
0
I
0
I
0
p
8
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
11
primary_key
x
10
allow_null
p
3
I
0
I
6b
I
2e
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
47
59
36
19
0
15
44
43
0
4
3
49
1
1
13
7
2
7
3
35
1
49
4
2
15
13
7
5
7
6
49
4
2
15
13
7
7
7
8
35
1
49
4
2
15
35
1
11
I
6
I
1
I
0
I
0
I
0
p
9
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c1
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c2
p
3
I
0
I
6c
I
2f
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
2
t6
x
17
dump_table_schema
x
6
should
n
x
6
Regexp
s
43
create_table\(:t6\) do\n  primary_key :c1, 
x
3
new
x
2
=~
n
s
11
:table=>:t2
n
s
13
:key=>\[:c2\]
p
13
I
0
I
6b
I
a
I
6c
I
14
I
6d
I
1e
I
6e
I
39
I
6f
I
54
I
70
I
6f
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
s
33
should handle foreign key options
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
165
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
49
7
1
19
0
15
20
0
49
8
0
7
9
13
70
9
53
15
44
43
10
7
11
78
49
12
2
6
9
49
13
1
15
20
0
49
8
0
7
14
13
70
9
80
15
44
43
10
7
15
78
49
12
2
6
14
49
13
1
15
20
0
49
8
0
7
16
13
70
9
107
15
44
43
10
7
17
78
49
12
2
6
16
49
13
1
15
20
0
49
8
0
7
18
13
70
9
134
15
44
43
10
7
19
78
49
12
2
6
18
49
13
1
15
20
0
49
8
0
7
20
13
70
9
161
15
44
43
10
7
21
78
49
12
2
6
20
49
13
1
11
I
6
I
1
I
0
I
0
I
-2
p
22
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
37
59
36
19
0
15
7
0
44
43
1
80
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
2
49
5
2
15
35
2
35
1
11
I
7
I
1
I
0
I
0
I
0
p
7
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
10
allow_null
p
3
I
0
I
74
I
25
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
73
59
36
19
0
15
44
43
0
4
6
49
1
1
13
7
2
7
3
35
1
49
4
2
15
13
7
5
7
6
49
4
2
15
13
7
7
7
8
35
1
49
4
2
15
13
7
9
7
10
49
4
2
15
13
7
11
7
12
49
4
2
15
13
7
13
2
49
4
2
15
35
1
11
I
6
I
1
I
0
I
0
I
0
p
14
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c1
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c2
x
9
on_delete
x
8
restrict
x
9
on_update
x
8
set_null
x
10
deferrable
p
3
I
0
I
75
I
49
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
2
t6
x
17
dump_table_schema
x
6
should
n
x
6
Regexp
s
48
create_table\(:t6\) do\n  foreign_key :c1, :t2, 
x
3
new
x
2
=~
n
s
13
:key=>\[:c2\]
n
s
21
:on_delete=>:restrict
n
s
21
:on_update=>:set_null
n
s
17
:deferrable=>true
p
17
I
0
I
74
I
a
I
75
I
14
I
76
I
1e
I
77
I
39
I
78
I
54
I
79
I
6f
I
7a
I
8a
I
7b
I
a5
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
s
52
should handle foreign key options in the primary key
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
192
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
49
7
1
19
0
15
20
0
49
8
0
7
9
13
70
9
53
15
44
43
10
7
11
78
49
12
2
6
9
49
13
1
15
20
0
49
8
0
7
14
13
70
9
80
15
44
43
10
7
15
78
49
12
2
6
14
49
13
1
15
20
0
49
8
0
7
16
13
70
9
107
15
44
43
10
7
17
78
49
12
2
6
16
49
13
1
15
20
0
49
8
0
7
18
13
70
9
134
15
44
43
10
7
19
78
49
12
2
6
18
49
13
1
15
20
0
49
8
0
7
20
13
70
9
161
15
44
43
10
7
21
78
49
12
2
6
20
49
13
1
15
20
0
49
8
0
7
22
13
70
9
188
15
44
43
10
7
23
78
49
12
2
6
22
49
13
1
11
I
6
I
1
I
0
I
0
I
-2
p
24
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
46
59
36
19
0
15
7
0
44
43
1
4
3
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
2
49
5
2
15
13
7
7
2
49
5
2
15
35
2
35
1
11
I
7
I
1
I
0
I
0
I
0
p
8
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
11
primary_key
x
10
allow_null
p
3
I
0
I
7f
I
2e
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
73
59
36
19
0
15
44
43
0
4
6
49
1
1
13
7
2
7
3
35
1
49
4
2
15
13
7
5
7
6
49
4
2
15
13
7
7
7
8
35
1
49
4
2
15
13
7
9
7
10
49
4
2
15
13
7
11
7
12
49
4
2
15
13
7
13
2
49
4
2
15
35
1
11
I
6
I
1
I
0
I
0
I
0
p
14
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c1
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c2
x
9
on_delete
x
8
restrict
x
9
on_update
x
8
set_null
x
10
deferrable
p
3
I
0
I
80
I
49
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
2
t6
x
17
dump_table_schema
x
6
should
n
x
6
Regexp
s
43
create_table\(:t6\) do\n  primary_key :c1, 
x
3
new
x
2
=~
n
s
11
:table=>:t2
n
s
13
:key=>\[:c2\]
n
s
21
:on_delete=>:restrict
n
s
21
:on_update=>:set_null
n
s
17
:deferrable=>true
p
19
I
0
I
7f
I
a
I
80
I
14
I
81
I
1e
I
82
I
39
I
83
I
54
I
84
I
6f
I
85
I
8a
I
86
I
a5
I
87
I
c0
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
s
61
should omit foreign key options that are the same as defaults
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
165
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
49
7
1
19
0
15
20
0
49
8
0
7
9
13
70
9
53
15
44
43
10
7
11
78
49
12
2
6
9
49
13
1
15
20
0
49
8
0
7
14
13
70
9
80
15
44
43
10
7
15
78
49
12
2
6
14
49
13
1
15
20
0
49
16
0
7
17
13
70
9
107
15
44
43
10
7
18
78
49
12
2
6
17
49
13
1
15
20
0
49
16
0
7
19
13
70
9
134
15
44
43
10
7
20
78
49
12
2
6
19
49
13
1
15
20
0
49
16
0
7
21
13
70
9
161
15
44
43
10
7
22
78
49
12
2
6
21
49
13
1
11
I
6
I
1
I
0
I
0
I
-2
p
23
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
37
59
36
19
0
15
7
0
44
43
1
80
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
2
49
5
2
15
35
2
35
1
11
I
7
I
1
I
0
I
0
I
0
p
7
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
10
allow_null
p
3
I
0
I
8b
I
25
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
73
59
36
19
0
15
44
43
0
4
6
49
1
1
13
7
2
7
3
35
1
49
4
2
15
13
7
5
7
6
49
4
2
15
13
7
7
7
8
35
1
49
4
2
15
13
7
9
7
10
49
4
2
15
13
7
11
7
10
49
4
2
15
13
7
12
3
49
4
2
15
35
1
11
I
6
I
1
I
0
I
0
I
0
p
13
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c1
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c2
x
9
on_delete
x
9
no_action
x
9
on_update
x
10
deferrable
p
3
I
0
I
8c
I
49
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
2
t6
x
17
dump_table_schema
x
6
should
n
x
6
Regexp
s
48
create_table\(:t6\) do\n  foreign_key :c1, :t2, 
x
3
new
x
2
=~
n
s
13
:key=>\[:c2\]
x
10
should_not
n
s
10
:on_delete
n
s
10
:on_update
n
s
11
:deferrable
p
17
I
0
I
8b
I
a
I
8c
I
14
I
8d
I
1e
I
8e
I
39
I
8f
I
54
I
90
I
6f
I
91
I
8a
I
92
I
a5
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
s
80
should omit foreign key options that are the same as defaults in the primary key
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
192
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
49
7
1
19
0
15
20
0
49
8
0
7
9
13
70
9
53
15
44
43
10
7
11
78
49
12
2
6
9
49
13
1
15
20
0
49
8
0
7
14
13
70
9
80
15
44
43
10
7
15
78
49
12
2
6
14
49
13
1
15
20
0
49
8
0
7
16
13
70
9
107
15
44
43
10
7
17
78
49
12
2
6
16
49
13
1
15
20
0
49
18
0
7
19
13
70
9
134
15
44
43
10
7
20
78
49
12
2
6
19
49
13
1
15
20
0
49
18
0
7
21
13
70
9
161
15
44
43
10
7
22
78
49
12
2
6
21
49
13
1
15
20
0
49
18
0
7
23
13
70
9
188
15
44
43
10
7
24
78
49
12
2
6
23
49
13
1
11
I
6
I
1
I
0
I
0
I
-2
p
25
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
46
59
36
19
0
15
7
0
44
43
1
4
3
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
2
49
5
2
15
13
7
7
2
49
5
2
15
35
2
35
1
11
I
7
I
1
I
0
I
0
I
0
p
8
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
11
primary_key
x
10
allow_null
p
3
I
0
I
96
I
2e
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
73
59
36
19
0
15
44
43
0
4
6
49
1
1
13
7
2
7
3
35
1
49
4
2
15
13
7
5
7
6
49
4
2
15
13
7
7
7
8
35
1
49
4
2
15
13
7
9
7
10
49
4
2
15
13
7
11
7
10
49
4
2
15
13
7
12
3
49
4
2
15
35
1
11
I
6
I
1
I
0
I
0
I
0
p
13
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c1
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c2
x
9
on_delete
x
9
no_action
x
9
on_update
x
10
deferrable
p
3
I
0
I
97
I
49
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
2
t6
x
17
dump_table_schema
x
6
should
n
x
6
Regexp
s
43
create_table\(:t6\) do\n  primary_key :c1, 
x
3
new
x
2
=~
n
s
11
:table=>:t2
n
s
13
:key=>\[:c2\]
x
10
should_not
n
s
10
:on_delete
n
s
10
:on_update
n
s
11
:deferrable
p
19
I
0
I
96
I
a
I
97
I
14
I
98
I
1e
I
99
I
39
I
9a
I
54
I
9b
I
6f
I
9c
I
8a
I
9d
I
a5
I
9e
I
c0
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
s
108
should dump primary key columns with explicit type equal to the database type when :same_db option is passed
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
41
39
0
7
1
56
2
50
3
1
15
39
0
7
4
44
43
5
79
49
6
1
13
7
7
2
49
8
2
15
49
9
2
49
10
0
7
11
64
83
12
11
I
7
I
0
I
0
I
0
I
-2
p
13
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
46
59
36
19
0
15
7
0
44
43
1
4
3
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
2
49
5
2
15
13
7
7
3
49
5
2
15
35
2
35
1
11
I
7
I
1
I
0
I
0
I
0
p
8
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
18
somedbspecifictype
x
3
[]=
x
11
primary_key
x
10
allow_null
p
3
I
0
I
a2
I
2e
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
2
t7
x
4
Hash
x
16
new_from_literal
x
7
same_db
x
3
[]=
x
17
dump_table_schema
x
6
should
s
96
create_table(:t7) do
  column :c1, "somedbspecifictype", :null=>false
  
  primary_key [:c1]
end
x
2
==
p
5
I
0
I
a2
I
a
I
a3
I
29
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
76
should use a composite primary_key calls if there is a composite primary key
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
16
39
0
7
1
49
2
1
49
3
0
7
4
64
83
5
11
I
3
I
0
I
0
I
0
I
-2
p
6
x
2
@d
x
2
t2
x
17
dump_table_schema
x
6
should
s
111
create_table(:t2) do
  Integer :c1, :null=>false
  BigDecimal :c2, :null=>false
  
  primary_key [:c1, :c2]
end
x
2
==
p
3
I
0
I
a7
I
10
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
76
should use a composite foreign_key calls if there is a composite foreign key
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
36
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
49
7
1
49
8
0
7
9
64
83
10
11
I
4
I
0
I
0
I
0
I
-2
p
11
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
50
59
36
19
0
15
7
0
44
43
1
79
49
2
1
13
7
3
7
4
64
49
5
2
15
35
2
7
6
44
43
1
79
49
2
1
13
7
3
7
4
64
49
5
2
15
35
2
35
2
11
I
8
I
1
I
0
I
0
I
0
p
7
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
2
c2
p
3
I
0
I
ab
I
32
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
51
59
36
19
0
15
44
43
0
4
3
49
1
1
13
7
2
7
3
7
4
35
2
49
5
2
15
13
7
6
7
7
49
5
2
15
13
7
8
7
9
7
10
35
2
49
5
2
15
35
1
11
I
7
I
1
I
0
I
0
I
0
p
11
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c1
x
2
c2
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c3
x
2
c4
p
3
I
0
I
ac
I
33
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
2
t1
x
17
dump_table_schema
x
6
should
s
103
create_table(:t1) do
  Integer :c1
  Integer :c2
  
  foreign_key [:c1, :c2], :t2, :key=>[:c3, :c4]
end
x
2
==
p
7
I
0
I
ab
I
a
I
ac
I
14
I
ad
I
24
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
45
should include index information if available
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
26
39
0
7
1
56
2
50
3
1
15
39
0
7
4
49
5
1
49
6
0
7
7
64
83
8
11
I
4
I
0
I
0
I
0
I
-2
p
9
x
2
@d
x
7
indexes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
80
57
19
0
15
44
43
0
80
49
1
1
13
7
2
44
43
0
80
49
1
1
13
7
3
7
4
35
1
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
13
7
7
44
43
0
80
49
1
1
13
7
3
7
8
7
4
35
2
49
5
2
15
13
7
6
2
49
5
2
15
49
5
2
15
11
I
a
I
1
I
1
I
1
n
p
9
x
4
Hash
x
16
new_from_literal
x
2
i1
x
7
columns
x
2
c1
x
3
[]=
x
6
unique
x
14
t1_c2_c1_index
x
2
c2
p
9
I
0
I
b1
I
4
I
b3
I
c
I
b2
I
2d
I
b3
I
50
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
8
meta_def
x
2
t1
x
17
dump_table_schema
x
6
should
s
157
create_table(:t1, :ignore_index_errors=>true) do
  primary_key :c1
  String :c2, :size=>20
  
  index [:c1], :name=>:i1
  index [:c2, :c1], :unique=>true
end
x
2
==
p
5
I
0
I
b1
I
a
I
b5
I
1a
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
56
should support dumping the whole database as a migration
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
14
39
0
49
1
0
49
2
0
7
3
64
83
4
11
I
3
I
0
I
0
I
0
I
-2
p
5
x
2
@d
x
21
dump_schema_migration
x
6
should
s
266
Sequel.migration do
  change do
    create_table(:t1) do
      primary_key :c1
      String :c2, :size=>20
    end
    
    create_table(:t2) do
      Integer :c1, :null=>false
      BigDecimal :c2, :null=>false
      
      primary_key [:c1, :c2]
    end
  end
end

x
2
==
p
3
I
0
I
b9
I
e
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
48
should sort table names when dumping a migration
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
24
39
0
7
1
56
2
50
3
1
15
39
0
49
4
0
49
5
0
7
6
64
83
7
11
I
4
I
0
I
0
I
0
I
-2
p
8
x
2
@d
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
11
57
19
0
15
7
0
7
1
35
2
11
I
4
I
1
I
1
I
1
n
p
2
x
2
t2
x
2
t1
p
3
I
0
I
cd
I
b
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
8
meta_def
x
21
dump_schema_migration
x
6
should
s
266
Sequel.migration do
  change do
    create_table(:t1) do
      primary_key :c1
      String :c2, :size=>20
    end
    
    create_table(:t2) do
      Integer :c1, :null=>false
      BigDecimal :c2, :null=>false
      
      primary_key [:c1, :c2]
    end
  end
end

x
2
==
p
5
I
0
I
cd
I
a
I
ce
I
18
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
80
should sort table names topologically when dumping a migration with foreign keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
44
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
56
7
50
3
1
15
39
0
49
8
0
49
9
0
7
10
64
83
11
11
I
4
I
0
I
0
I
0
I
-2
p
12
x
2
@d
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
11
57
19
0
15
7
0
7
1
35
2
11
I
4
I
1
I
1
I
1
n
p
2
x
2
t1
x
2
t2
p
3
I
0
I
e2
I
b
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
8
meta_def
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
69
57
19
0
15
20
0
7
0
83
1
9
37
7
2
44
43
3
79
49
4
1
13
7
5
7
6
64
49
7
2
15
35
2
35
1
8
68
7
8
44
43
3
80
49
4
1
13
7
5
7
6
64
49
7
2
15
13
7
9
2
49
7
2
15
35
2
35
1
11
I
7
I
1
I
1
I
1
n
p
10
x
2
t1
x
2
==
x
2
c2
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
2
c1
x
11
primary_key
p
7
I
0
I
e3
I
4
I
e4
I
44
I
0
I
45
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
58
57
19
0
15
20
0
7
0
83
1
9
55
44
43
2
4
3
49
3
1
13
7
4
7
5
35
1
49
6
2
15
13
7
7
7
8
49
6
2
15
13
7
9
7
10
35
1
49
6
2
15
35
1
8
57
35
0
11
I
6
I
1
I
1
I
1
n
p
11
x
2
t1
x
2
==
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c2
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c1
p
7
I
0
I
e6
I
4
I
e7
I
39
I
0
I
3a
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
21
dump_schema_migration
x
6
should
s
175
Sequel.migration do
  change do
    create_table(:t2) do
      primary_key :c1
    end
    
    create_table(:t1) do
      foreign_key :c2, :t2, :key=>[:c1]
    end
  end
end

x
2
==
p
9
I
0
I
e2
I
a
I
e3
I
14
I
e6
I
1e
I
e9
I
2c
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
78
should handle circular dependencies when dumping a migration with foreign keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
44
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
56
7
50
3
1
15
39
0
49
8
0
49
9
0
7
10
64
83
11
11
I
4
I
0
I
0
I
0
I
-2
p
12
x
2
@d
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
11
57
19
0
15
7
0
7
1
35
2
11
I
4
I
1
I
1
I
1
n
p
2
x
2
t1
x
2
t2
p
3
I
0
I
f9
I
b
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
8
meta_def
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
61
57
19
0
15
20
0
7
0
83
1
9
37
7
2
44
43
3
79
49
4
1
13
7
5
7
6
64
49
7
2
15
35
2
35
1
8
60
7
8
44
43
3
79
49
4
1
13
7
5
7
6
64
49
7
2
15
35
2
35
1
11
I
7
I
1
I
1
I
1
n
p
9
x
2
t1
x
2
==
x
2
c2
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
2
c1
p
7
I
0
I
fa
I
4
I
fb
I
3c
I
0
I
3d
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
97
57
19
0
15
20
0
7
0
83
1
9
55
44
43
2
4
3
49
3
1
13
7
4
7
5
35
1
49
6
2
15
13
7
7
7
8
49
6
2
15
13
7
9
7
10
35
1
49
6
2
15
35
1
8
96
44
43
2
4
3
49
3
1
13
7
4
7
10
35
1
49
6
2
15
13
7
7
7
0
49
6
2
15
13
7
9
7
5
35
1
49
6
2
15
35
1
11
I
6
I
1
I
1
I
1
n
p
11
x
2
t1
x
2
==
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c2
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c1
p
7
I
0
I
fd
I
4
I
fe
I
60
I
0
I
61
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
21
dump_schema_migration
x
6
should
s
254
Sequel.migration do
  change do
    create_table(:t1) do
      Integer :c2
    end
    
    create_table(:t2) do
      foreign_key :c1, :t1, :key=>[:c2]
    end
    
    alter_table(:t1) do
      add_foreign_key [:c2], :t2, :key=>[:c1]
    end
  end
end

x
2
==
p
9
I
0
I
f9
I
a
I
fa
I
14
I
fd
I
1e
I
100
I
2c
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
121
should sort topologically even if the database raises an error when trying to parse foreign keys for a non-existent table
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
44
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
56
7
50
3
1
15
39
0
49
8
0
49
9
0
7
10
64
83
11
11
I
4
I
0
I
0
I
0
I
-2
p
12
x
2
@d
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
11
57
19
0
15
7
0
7
1
35
2
11
I
4
I
1
I
1
I
1
n
p
2
x
2
t1
x
2
t2
p
3
I
0
I
114
I
b
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
8
meta_def
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
69
57
19
0
15
20
0
7
0
83
1
9
37
7
2
44
43
3
79
49
4
1
13
7
5
7
6
64
49
7
2
15
35
2
35
1
8
68
7
8
44
43
3
80
49
4
1
13
7
5
7
6
64
49
7
2
15
13
7
9
2
49
7
2
15
35
2
35
1
11
I
7
I
1
I
1
I
1
n
p
10
x
2
t1
x
2
==
x
2
c2
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
2
c1
x
11
primary_key
p
7
I
0
I
115
I
4
I
116
I
44
I
0
I
45
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
85
57
19
0
15
7
0
7
1
35
2
20
0
49
2
1
9
20
1
8
30
5
45
3
4
43
5
47
49
6
1
15
20
0
7
0
83
7
9
82
44
43
8
4
3
49
9
1
13
7
10
7
11
35
1
49
12
2
15
13
7
13
7
1
49
12
2
15
13
7
14
7
15
35
1
49
12
2
15
35
1
8
84
35
0
11
I
6
I
1
I
1
I
1
n
p
16
x
2
t1
x
2
t2
x
8
include?
x
6
Sequel
n
x
13
DatabaseError
x
5
raise
x
2
==
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c2
x
3
[]=
x
5
table
x
3
key
x
2
c1
p
11
I
0
I
118
I
4
I
119
I
1e
I
0
I
1f
I
11a
I
54
I
0
I
55
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
21
dump_schema_migration
x
6
should
s
175
Sequel.migration do
  change do
    create_table(:t2) do
      primary_key :c1
    end
    
    create_table(:t1) do
      foreign_key :c2, :t2, :key=>[:c1]
    end
  end
end

x
2
==
p
9
I
0
I
114
I
a
I
115
I
14
I
118
I
1e
I
11c
I
2c
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
53
should honor the :same_db option to not convert types
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
60
39
0
7
1
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
49
6
2
49
7
0
7
8
64
83
9
15
39
0
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
49
10
1
49
7
0
7
11
64
83
9
11
I
7
I
0
I
0
I
0
I
-2
p
12
x
2
@d
x
2
t1
x
4
Hash
x
16
new_from_literal
x
7
same_db
x
3
[]=
x
17
dump_table_schema
x
6
should
s
70
create_table(:t1) do
  primary_key :c1
  column :c2, "varchar(20)"
end
x
2
==
x
21
dump_schema_migration
s
287
Sequel.migration do
  change do
    create_table(:t1) do
      primary_key :c1
      column :c2, "varchar(20)"
    end
    
    create_table(:t2) do
      column :c1, "integer", :null=>false
      column :c2, "numeric", :null=>false
      
      primary_key [:c1, :c2]
    end
  end
end

p
5
I
0
I
12c
I
1f
I
12d
I
3c
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
77
should honor the :index_names => false option to not include names of indexes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
70
39
0
7
1
56
2
50
3
1
15
39
0
7
4
44
43
5
79
49
6
1
13
7
7
3
49
8
2
15
49
9
2
49
10
0
7
11
64
83
12
15
39
0
44
43
5
79
49
6
1
13
7
7
3
49
8
2
15
49
13
1
49
10
0
7
14
64
83
12
11
I
7
I
0
I
0
I
0
I
-2
p
15
x
2
@d
x
7
indexes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
80
57
19
0
15
44
43
0
80
49
1
1
13
7
2
44
43
0
80
49
1
1
13
7
3
7
4
35
1
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
13
7
7
44
43
0
80
49
1
1
13
7
3
7
8
7
4
35
2
49
5
2
15
13
7
6
2
49
5
2
15
49
5
2
15
11
I
a
I
1
I
1
I
1
n
p
9
x
4
Hash
x
16
new_from_literal
x
2
i1
x
7
columns
x
2
c1
x
3
[]=
x
6
unique
x
14
t1_c2_c1_index
x
2
c2
p
9
I
0
I
141
I
4
I
143
I
c
I
142
I
2d
I
143
I
50
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
8
meta_def
x
2
t1
x
4
Hash
x
16
new_from_literal
x
11
index_names
x
3
[]=
x
17
dump_table_schema
x
6
should
s
145
create_table(:t1, :ignore_index_errors=>true) do
  primary_key :c1
  String :c2, :size=>20
  
  index [:c1]
  index [:c2, :c1], :unique=>true
end
x
2
==
x
21
dump_schema_migration
s
448
Sequel.migration do
  change do
    create_table(:t1, :ignore_index_errors=>true) do
      primary_key :c1
      String :c2, :size=>20
      
      index [:c1]
      index [:c2, :c1], :unique=>true
    end
    
    create_table(:t2, :ignore_index_errors=>true) do
      Integer :c1, :null=>false
      BigDecimal :c2, :null=>false
      
      primary_key [:c1, :c2]
      
      index [:c1]
      index [:c2, :c1], :unique=>true
    end
  end
end

p
7
I
0
I
141
I
a
I
145
I
29
I
146
I
46
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
90
should make :index_names => :namespace option a noop if there is a  global index namespace
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
72
39
0
7
1
56
2
50
3
1
15
39
0
7
4
44
43
5
79
49
6
1
13
7
7
7
8
49
9
2
15
49
10
2
49
11
0
7
12
64
83
13
15
39
0
44
43
5
79
49
6
1
13
7
7
7
8
49
9
2
15
49
14
1
49
11
0
7
15
64
83
13
11
I
7
I
0
I
0
I
0
I
-2
p
16
x
2
@d
x
7
indexes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
80
57
19
0
15
44
43
0
80
49
1
1
13
7
2
44
43
0
80
49
1
1
13
7
3
7
4
35
1
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
13
7
7
44
43
0
80
49
1
1
13
7
3
7
8
7
4
35
2
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
11
I
a
I
1
I
1
I
1
n
p
9
x
4
Hash
x
16
new_from_literal
x
2
i1
x
7
columns
x
2
c1
x
3
[]=
x
6
unique
x
14
t1_c2_c1_index
x
2
c2
p
9
I
0
I
160
I
4
I
162
I
c
I
161
I
2d
I
162
I
50
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
8
meta_def
x
2
t1
x
4
Hash
x
16
new_from_literal
x
11
index_names
x
9
namespace
x
3
[]=
x
17
dump_table_schema
x
6
should
s
142
create_table(:t1, :ignore_index_errors=>true) do
  primary_key :c1
  String :c2, :size=>20
  
  index [:c1], :name=>:i1
  index [:c2, :c1]
end
x
2
==
x
21
dump_schema_migration
s
466
Sequel.migration do
  change do
    create_table(:t1, :ignore_index_errors=>true) do
      primary_key :c1
      String :c2, :size=>20
      
      index [:c1], :name=>:i1
      index [:c2, :c1]
    end
    
    create_table(:t2, :ignore_index_errors=>true) do
      Integer :c1, :null=>false
      BigDecimal :c2, :null=>false
      
      primary_key [:c1, :c2]
      
      index [:c1], :name=>:i1
      index [:c2, :c1], :name=>:t1_c2_c1_index
    end
  end
end

p
7
I
0
I
160
I
a
I
164
I
2a
I
165
I
48
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
142
should honor the :index_names => :namespace option to include names of indexes with prepended table name if there is no global index namespace
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
82
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
44
43
7
79
49
8
1
13
7
9
7
10
49
11
2
15
49
12
2
49
13
0
7
14
64
83
15
15
39
0
44
43
7
79
49
8
1
13
7
9
7
10
49
11
2
15
49
16
1
49
13
0
7
17
64
83
15
11
I
7
I
0
I
0
I
0
I
-2
p
18
x
2
@d
x
23
global_index_namespace?
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
2
3
11
I
2
I
0
I
0
I
0
I
-2
p
0
p
3
I
0
I
17f
I
2
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
8
meta_def
x
7
indexes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
80
57
19
0
15
44
43
0
80
49
1
1
13
7
2
44
43
0
80
49
1
1
13
7
3
7
4
35
1
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
13
7
7
44
43
0
80
49
1
1
13
7
3
7
8
7
4
35
2
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
11
I
a
I
1
I
1
I
1
n
p
9
x
4
Hash
x
16
new_from_literal
x
2
i1
x
7
columns
x
2
c1
x
3
[]=
x
6
unique
x
14
t1_c2_c1_index
x
2
c2
p
9
I
0
I
180
I
4
I
182
I
c
I
181
I
2d
I
182
I
50
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
2
t1
x
4
Hash
x
16
new_from_literal
x
11
index_names
x
9
namespace
x
3
[]=
x
17
dump_table_schema
x
6
should
s
145
create_table(:t1, :ignore_index_errors=>true) do
  primary_key :c1
  String :c2, :size=>20
  
  index [:c1], :name=>:t1_i1
  index [:c2, :c1]
end
x
2
==
x
21
dump_schema_migration
s
475
Sequel.migration do
  change do
    create_table(:t1, :ignore_index_errors=>true) do
      primary_key :c1
      String :c2, :size=>20
      
      index [:c1], :name=>:t1_i1
      index [:c2, :c1]
    end
    
    create_table(:t2, :ignore_index_errors=>true) do
      Integer :c1, :null=>false
      BigDecimal :c2, :null=>false
      
      primary_key [:c1, :c2]
      
      index [:c1], :name=>:t2_i1
      index [:c2, :c1], :name=>:t2_t1_c2_c1_index
    end
  end
end

p
9
I
0
I
17f
I
a
I
180
I
14
I
184
I
34
I
185
I
52
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
64
should honor the :indexes => false option to not include indexes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
70
39
0
7
1
56
2
50
3
1
15
39
0
7
4
44
43
5
79
49
6
1
13
7
1
3
49
7
2
15
49
8
2
49
9
0
7
10
64
83
11
15
39
0
44
43
5
79
49
6
1
13
7
1
3
49
7
2
15
49
12
1
49
9
0
7
13
64
83
11
11
I
7
I
0
I
0
I
0
I
-2
p
14
x
2
@d
x
7
indexes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
80
57
19
0
15
44
43
0
80
49
1
1
13
7
2
44
43
0
80
49
1
1
13
7
3
7
4
35
1
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
13
7
7
44
43
0
80
49
1
1
13
7
3
7
8
7
4
35
2
49
5
2
15
13
7
6
2
49
5
2
15
49
5
2
15
11
I
a
I
1
I
1
I
1
n
p
9
x
4
Hash
x
16
new_from_literal
x
2
i1
x
7
columns
x
2
c1
x
3
[]=
x
6
unique
x
14
t1_c2_c1_index
x
2
c2
p
9
I
0
I
19f
I
4
I
1a1
I
c
I
1a0
I
2d
I
1a1
I
50
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
8
meta_def
x
2
t1
x
4
Hash
x
16
new_from_literal
x
3
[]=
x
17
dump_table_schema
x
6
should
s
66
create_table(:t1) do
  primary_key :c1
  String :c2, :size=>20
end
x
2
==
x
21
dump_schema_migration
s
266
Sequel.migration do
  change do
    create_table(:t1) do
      primary_key :c1
      String :c2, :size=>20
    end
    
    create_table(:t2) do
      Integer :c1, :null=>false
      BigDecimal :c2, :null=>false
      
      primary_key [:c1, :c2]
    end
  end
end

p
7
I
0
I
19f
I
a
I
1a3
I
29
I
1a4
I
46
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
96
should have :indexes => false option disable foreign keys as well when dumping a whole migration
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
55
39
0
7
1
56
2
50
3
1
15
39
0
44
43
4
79
49
5
1
13
7
6
3
49
7
2
15
49
8
1
49
9
0
7
10
13
70
9
51
15
44
43
11
7
12
78
49
13
2
6
10
49
14
1
11
I
6
I
0
I
0
I
0
I
-2
p
15
x
2
@d
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
58
57
19
0
15
20
0
7
0
83
1
9
55
44
43
2
4
3
49
3
1
13
7
4
7
5
35
1
49
6
2
15
13
7
7
7
8
49
6
2
15
13
7
9
7
10
35
1
49
6
2
15
35
1
8
57
35
0
11
I
6
I
1
I
1
I
1
n
p
11
x
2
t1
x
2
==
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c2
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c1
p
7
I
0
I
1b8
I
4
I
1b9
I
39
I
0
I
3a
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
8
meta_def
x
4
Hash
x
16
new_from_literal
x
7
indexes
x
3
[]=
x
21
dump_schema_migration
x
10
should_not
n
x
6
Regexp
s
11
foreign_key
x
3
new
x
2
=~
p
5
I
0
I
1b8
I
a
I
1bb
I
37
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
85
should have :foreign_keys option override :indexes => false disabling of foreign keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
63
39
0
7
1
56
2
50
3
1
15
39
0
44
43
4
80
49
5
1
13
7
6
3
49
7
2
15
13
7
8
2
49
7
2
15
49
9
1
49
10
0
7
11
13
70
9
59
15
44
43
12
7
13
78
49
14
2
6
11
49
15
1
11
I
6
I
0
I
0
I
0
I
-2
p
16
x
2
@d
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
58
57
19
0
15
20
0
7
0
83
1
9
55
44
43
2
4
3
49
3
1
13
7
4
7
5
35
1
49
6
2
15
13
7
7
7
8
49
6
2
15
13
7
9
7
10
35
1
49
6
2
15
35
1
8
57
35
0
11
I
6
I
1
I
1
I
1
n
p
11
x
2
t1
x
2
==
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c2
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c1
p
7
I
0
I
1bf
I
4
I
1c0
I
39
I
0
I
3a
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
8
meta_def
x
4
Hash
x
16
new_from_literal
x
7
indexes
x
3
[]=
x
12
foreign_keys
x
21
dump_schema_migration
x
6
should
n
x
6
Regexp
s
11
foreign_key
x
3
new
x
2
=~
p
5
I
0
I
1bf
I
a
I
1c2
I
3f
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
50
should support dumping just indexes as a migration
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
34
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
49
6
0
49
7
0
7
8
64
83
9
11
I
4
I
0
I
0
I
0
I
-2
p
10
x
2
@d
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
9
57
19
0
15
7
0
35
1
11
I
3
I
1
I
1
I
1
n
p
1
x
2
t1
p
3
I
0
I
1c6
I
9
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
8
meta_def
x
7
indexes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
80
57
19
0
15
44
43
0
80
49
1
1
13
7
2
44
43
0
80
49
1
1
13
7
3
7
4
35
1
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
13
7
7
44
43
0
80
49
1
1
13
7
3
7
8
7
4
35
2
49
5
2
15
13
7
6
2
49
5
2
15
49
5
2
15
11
I
a
I
1
I
1
I
1
n
p
9
x
4
Hash
x
16
new_from_literal
x
2
i1
x
7
columns
x
2
c1
x
3
[]=
x
6
unique
x
14
t1_c2_c1_index
x
2
c2
p
9
I
0
I
1c7
I
4
I
1c9
I
c
I
1c8
I
2d
I
1c9
I
50
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
22
dump_indexes_migration
x
6
should
s
168
Sequel.migration do
  change do
    add_index :t1, [:c1], :ignore_errors=>true, :name=>:i1
    add_index :t1, [:c2, :c1], :ignore_errors=>true, :unique=>true
  end
end

x
2
==
p
7
I
0
I
1c6
I
a
I
1c7
I
14
I
1cb
I
22
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
118
should honor the :index_names => false option to not include names of indexes when dumping just indexes as a migration
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
49
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
44
43
6
79
49
7
1
13
7
8
3
49
9
2
15
49
10
1
49
11
0
7
12
64
83
13
11
I
6
I
0
I
0
I
0
I
-2
p
14
x
2
@d
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
9
57
19
0
15
7
0
35
1
11
I
3
I
1
I
1
I
1
n
p
1
x
2
t1
p
3
I
0
I
1d6
I
9
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
8
meta_def
x
7
indexes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
80
57
19
0
15
44
43
0
80
49
1
1
13
7
2
44
43
0
80
49
1
1
13
7
3
7
4
35
1
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
13
7
7
44
43
0
80
49
1
1
13
7
3
7
8
7
4
35
2
49
5
2
15
13
7
6
2
49
5
2
15
49
5
2
15
11
I
a
I
1
I
1
I
1
n
p
9
x
4
Hash
x
16
new_from_literal
x
2
i1
x
7
columns
x
2
c1
x
3
[]=
x
6
unique
x
14
t1_c2_c1_index
x
2
c2
p
9
I
0
I
1d7
I
4
I
1d9
I
c
I
1d8
I
2d
I
1d9
I
50
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
4
Hash
x
16
new_from_literal
x
11
index_names
x
3
[]=
x
22
dump_indexes_migration
x
6
should
s
156
Sequel.migration do
  change do
    add_index :t1, [:c1], :ignore_errors=>true
    add_index :t1, [:c2, :c1], :ignore_errors=>true, :unique=>true
  end
end

x
2
==
p
7
I
0
I
1d6
I
a
I
1d7
I
14
I
1db
I
31
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
97
should honor the :index_names => :namespace option be a noop if there is a global index namespace
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
50
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
44
43
6
79
49
7
1
13
7
8
7
9
49
10
2
15
49
11
1
49
12
0
7
13
64
83
14
11
I
6
I
0
I
0
I
0
I
-2
p
15
x
2
@d
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
11
57
19
0
15
7
0
7
1
35
2
11
I
4
I
1
I
1
I
1
n
p
2
x
2
t1
x
2
t2
p
3
I
0
I
1e6
I
b
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
8
meta_def
x
7
indexes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
80
57
19
0
15
44
43
0
80
49
1
1
13
7
2
44
43
0
80
49
1
1
13
7
3
7
4
35
1
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
13
7
7
44
43
0
80
49
1
1
13
7
3
7
8
7
4
35
2
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
11
I
a
I
1
I
1
I
1
n
p
9
x
4
Hash
x
16
new_from_literal
x
2
i1
x
7
columns
x
2
c1
x
3
[]=
x
6
unique
x
14
t1_c2_c1_index
x
2
c2
p
9
I
0
I
1e7
I
4
I
1e9
I
c
I
1e8
I
2d
I
1e9
I
50
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
4
Hash
x
16
new_from_literal
x
11
index_names
x
9
namespace
x
3
[]=
x
22
dump_indexes_migration
x
6
should
s
293
Sequel.migration do
  change do
    add_index :t1, [:c1], :ignore_errors=>true, :name=>:i1
    add_index :t1, [:c2, :c1], :ignore_errors=>true
    
    add_index :t2, [:c1], :ignore_errors=>true, :name=>:i1
    add_index :t2, [:c2, :c1], :ignore_errors=>true, :name=>:t1_c2_c1_index
  end
end

x
2
==
p
7
I
0
I
1e6
I
a
I
1e7
I
14
I
1eb
I
32
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
183
should honor the :index_names => :namespace option to include names of indexes with prepended table name when dumping just indexes as a migration if there is no global index namespace
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
60
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
56
7
50
3
1
15
39
0
44
43
8
79
49
9
1
13
7
10
7
11
49
12
2
15
49
13
1
49
14
0
7
15
64
83
16
11
I
6
I
0
I
0
I
0
I
-2
p
17
x
2
@d
x
23
global_index_namespace?
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
2
3
11
I
2
I
0
I
0
I
0
I
-2
p
0
p
3
I
0
I
1f9
I
2
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
8
meta_def
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
11
57
19
0
15
7
0
7
1
35
2
11
I
4
I
1
I
1
I
1
n
p
2
x
2
t1
x
2
t2
p
3
I
0
I
1fa
I
b
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
7
indexes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
80
57
19
0
15
44
43
0
80
49
1
1
13
7
2
44
43
0
80
49
1
1
13
7
3
7
4
35
1
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
13
7
7
44
43
0
80
49
1
1
13
7
3
7
8
7
4
35
2
49
5
2
15
13
7
6
3
49
5
2
15
49
5
2
15
11
I
a
I
1
I
1
I
1
n
p
9
x
4
Hash
x
16
new_from_literal
x
2
i1
x
7
columns
x
2
c1
x
3
[]=
x
6
unique
x
14
t1_c2_c1_index
x
2
c2
p
9
I
0
I
1fb
I
4
I
1fd
I
c
I
1fc
I
2d
I
1fd
I
50
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
4
Hash
x
16
new_from_literal
x
11
index_names
x
9
namespace
x
3
[]=
x
22
dump_indexes_migration
x
6
should
s
302
Sequel.migration do
  change do
    add_index :t1, [:c1], :ignore_errors=>true, :name=>:t1_i1
    add_index :t1, [:c2, :c1], :ignore_errors=>true
    
    add_index :t2, [:c1], :ignore_errors=>true, :name=>:t2_i1
    add_index :t2, [:c2, :c1], :ignore_errors=>true, :name=>:t2_t1_c2_c1_index
  end
end

x
2
==
p
9
I
0
I
1f9
I
a
I
1fa
I
14
I
1fb
I
1e
I
1ff
I
3c
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
72
should handle missing index parsing support when dumping index migration
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
24
39
0
7
1
56
2
50
3
1
15
39
0
49
4
0
49
5
0
7
6
64
83
7
11
I
4
I
0
I
0
I
0
I
-2
p
8
x
2
@d
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
9
57
19
0
15
7
0
35
1
11
I
3
I
1
I
1
I
1
n
p
1
x
2
t1
p
3
I
0
I
20d
I
9
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
8
meta_def
x
22
dump_indexes_migration
x
6
should
s
47
Sequel.migration do
  change do
    
  end
end

x
2
==
p
5
I
0
I
20d
I
a
I
20e
I
18
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
84
should handle missing foreign key parsing support when dumping foreign key migration
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
24
39
0
7
1
56
2
50
3
1
15
39
0
49
4
0
49
5
0
7
6
64
83
7
11
I
4
I
0
I
0
I
0
I
-2
p
8
x
2
@d
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
9
57
19
0
15
7
0
35
1
11
I
3
I
1
I
1
I
1
n
p
1
x
2
t1
p
3
I
0
I
218
I
9
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
8
meta_def
x
26
dump_foreign_key_migration
x
6
should
s
47
Sequel.migration do
  change do
    
  end
end

x
2
==
p
5
I
0
I
218
I
a
I
219
I
18
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
55
should support dumping just foreign_keys as a migration
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
44
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
56
7
50
3
1
15
39
0
49
8
0
49
9
0
7
10
64
83
11
11
I
4
I
0
I
0
I
0
I
-2
p
12
x
2
@d
x
6
tables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
13
57
19
0
15
7
0
7
1
7
2
35
3
11
I
5
I
1
I
1
I
1
n
p
3
x
2
t1
x
2
t2
x
2
t3
p
3
I
0
I
223
I
d
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
o
x
8
meta_def
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
61
57
19
0
15
20
0
7
0
83
1
9
37
7
2
44
43
3
79
49
4
1
13
7
5
7
6
64
49
7
2
15
35
2
35
1
8
60
7
8
44
43
3
79
49
4
1
13
7
5
7
6
64
49
7
2
15
35
2
35
1
11
I
7
I
1
I
1
I
1
n
p
9
x
2
t1
x
2
==
x
2
c2
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
2
c1
p
7
I
0
I
224
I
4
I
225
I
3c
I
0
I
3d
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
t
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
124
58
37
19
0
15
19
1
15
20
0
13
7
0
12
49
1
1
9
63
15
44
43
2
4
3
49
3
1
13
7
4
7
5
35
1
49
6
2
15
13
7
7
7
8
49
6
2
15
13
7
9
7
10
35
1
49
6
2
15
35
1
8
123
13
7
8
12
49
1
1
9
120
15
44
43
2
4
3
49
3
1
13
7
4
7
10
7
11
35
2
49
6
2
15
13
7
7
7
0
49
6
2
15
13
7
9
7
5
7
12
35
2
49
6
2
15
35
1
8
123
15
35
0
11
I
8
I
2
I
1
I
1
I
1
p
13
x
2
t1
x
3
===
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c2
x
3
[]=
x
5
table
x
2
t2
x
3
key
x
2
c1
x
2
c3
x
2
c4
p
17
I
0
I
227
I
8
I
228
I
a
I
229
I
14
I
22a
I
3f
I
22b
I
49
I
22c
I
79
I
22e
I
7b
I
0
I
7c
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
2
x
1
t
x
1
a
x
26
dump_foreign_key_migration
x
6
should
s
213
Sequel.migration do
  change do
    alter_table(:t1) do
      add_foreign_key [:c2], :t2, :key=>[:c1]
    end
    
    alter_table(:t2) do
      add_foreign_key [:c1, :c3], :t1, :key=>[:c2, :c4]
    end
  end
end

x
2
==
p
9
I
0
I
223
I
a
I
224
I
14
I
227
I
1e
I
231
I
2c
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
42
should handle not null values and defaults
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
26
39
0
7
1
56
2
50
3
1
15
39
0
7
4
49
5
1
49
6
0
7
7
64
83
8
11
I
4
I
0
I
0
I
0
I
-2
p
9
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
77
59
36
19
0
15
7
0
44
43
1
4
3
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
7
7
64
49
5
2
15
13
7
8
2
49
5
2
15
35
2
7
9
44
43
1
80
49
2
1
13
7
3
7
10
64
49
5
2
15
13
7
8
3
49
5
2
15
35
2
35
2
11
I
8
I
1
I
0
I
0
I
0
p
11
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
4
date
x
3
[]=
x
7
default
s
7
'now()'
x
10
allow_null
x
2
c2
s
8
datetime
p
3
I
0
I
241
I
4d
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
2
t3
x
17
dump_table_schema
x
6
should
s
64
create_table(:t3) do
  Date :c1
  DateTime :c2, :null=>false
end
x
2
==
p
5
I
0
I
241
I
a
I
242
I
1a
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
40
should handle converting common defaults
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
153
39
0
7
1
56
2
50
3
1
15
39
0
7
4
49
5
1
7
6
13
70
9
35
15
44
43
7
7
8
78
49
9
2
6
6
7
10
64
49
11
2
7
12
13
70
9
59
15
44
43
7
7
13
78
49
9
2
6
12
7
14
64
49
11
2
49
15
0
7
16
64
83
17
15
39
0
7
4
44
43
18
79
49
19
1
13
7
20
2
49
21
2
15
49
5
2
7
22
13
70
9
114
15
44
43
7
7
8
78
49
9
2
6
22
7
10
64
49
11
2
7
23
13
70
9
138
15
44
43
7
7
13
78
49
9
2
6
23
7
14
64
49
11
2
49
15
0
7
24
64
83
17
11
I
7
I
0
I
0
I
0
I
-2
p
25
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
611
58
37
19
0
15
19
1
15
7
0
44
43
1
4
4
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
7
7
64
49
5
2
15
13
7
8
7
9
49
5
2
15
13
7
10
2
49
5
2
15
35
2
7
11
44
43
1
4
4
49
2
1
13
7
3
7
12
64
49
5
2
15
13
7
6
7
13
64
49
5
2
15
13
7
8
7
14
49
5
2
15
13
7
10
2
49
5
2
15
35
2
7
15
44
43
1
4
4
49
2
1
13
7
3
7
16
64
49
5
2
15
13
7
6
7
17
64
49
5
2
15
13
7
8
7
18
49
5
2
15
13
7
10
2
49
5
2
15
35
2
7
19
44
43
1
4
4
49
2
1
13
7
3
7
20
64
49
5
2
15
13
7
6
7
21
64
49
5
2
15
13
7
8
7
22
49
5
2
15
13
7
10
2
49
5
2
15
35
2
7
23
44
43
1
4
4
49
2
1
13
7
3
7
24
64
49
5
2
15
13
7
6
7
25
64
49
5
2
15
13
7
8
7
26
49
5
2
15
13
7
10
2
49
5
2
15
35
2
7
27
44
43
1
4
4
49
2
1
13
7
3
7
28
64
49
5
2
15
13
7
6
7
13
64
49
5
2
15
13
7
8
7
29
49
5
2
15
13
7
10
2
49
5
2
15
35
2
7
30
44
43
1
4
4
49
2
1
13
7
3
7
31
64
49
5
2
15
13
7
6
7
32
64
49
5
2
15
13
7
8
7
33
49
5
2
15
13
7
10
2
49
5
2
15
35
2
7
34
44
43
1
4
4
49
2
1
13
7
3
7
35
64
49
5
2
15
13
7
6
7
36
64
49
5
2
15
13
7
8
7
37
49
5
2
15
13
7
10
2
49
5
2
15
35
2
7
38
44
43
1
4
4
49
2
1
13
7
3
7
39
64
49
5
2
15
13
7
6
7
40
64
49
5
2
15
13
7
8
7
41
49
5
2
15
13
7
10
2
49
5
2
15
35
2
7
42
44
43
1
4
4
49
2
1
13
7
3
7
43
64
49
5
2
15
13
7
6
7
44
64
49
5
2
15
13
7
8
1
49
5
2
15
13
7
10
2
49
5
2
15
35
2
7
45
44
43
1
4
4
49
2
1
13
7
3
7
31
64
49
5
2
15
13
7
6
7
46
64
49
5
2
15
13
7
8
7
33
49
5
2
15
13
7
10
2
49
5
2
15
35
2
7
47
44
43
1
4
4
49
2
1
13
7
3
7
48
64
49
5
2
15
13
7
6
7
49
64
49
5
2
15
13
7
8
7
37
49
5
2
15
13
7
10
2
49
5
2
15
35
2
35
12
19
2
15
20
2
56
50
50
51
0
15
20
2
11
I
14
I
3
I
1
I
1
I
1
p
52
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
boolean
x
3
[]=
x
7
default
s
5
false
x
4
type
x
7
boolean
x
10
allow_null
x
2
c2
s
7
varchar
s
6
'blah'
x
6
string
x
2
c3
s
7
integer
s
2
-1
x
7
integer
x
2
c4
s
5
float
s
3
1.0
x
5
float
x
2
c5
s
7
decimal
s
6
100.50
x
7
decimal
x
2
c6
s
4
blob
x
4
blob
x
2
c7
s
4
date
s
12
'2008-10-29'
x
4
date
x
2
c8
s
8
datetime
s
21
'2008-10-29 10:20:30'
x
8
datetime
x
2
c9
s
4
time
s
10
'10:20:30'
x
4
time
x
3
c10
s
3
foo
s
9
'6 weeks'
x
3
c11
s
12
CURRENT_DATE
x
3
c12
s
9
timestamp
s
5
now()
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
41
58
37
19
0
15
37
19
1
15
15
20
1
7
0
5
20
1
7
1
49
2
1
20
1
7
3
49
2
1
47
49
4
2
13
18
3
49
5
2
15
11
I
9
I
2
I
2
I
2
n
p
6
x
12
ruby_default
x
7
default
x
2
[]
x
4
type
x
29
column_schema_to_ruby_default
x
3
[]=
p
3
I
0
I
253
I
29
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
2
x
1
_
x
1
c
x
4
each
p
33
I
0
I
246
I
8
I
247
I
39
I
248
I
6a
I
249
I
9b
I
24a
I
cc
I
24b
I
fd
I
24c
I
12e
I
24d
I
15f
I
24e
I
190
I
24f
I
1c1
I
250
I
1f1
I
251
I
222
I
252
I
255
I
247
I
258
I
253
I
260
I
254
I
263
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
3
x
1
t
x
2
os
x
1
s
x
8
meta_def
x
2
t4
x
17
dump_table_schema
n
x
6
Regexp
s
15
[+-]\d\d\d\d"\)
x
3
new
s
2
")
x
4
gsub
n
s
4
\.0+
s
2
.0
x
6
should
s
548
create_table(:t4) do
  TrueClass :c1, :default=>false
  String :c2, :default=>"blah"
  Integer :c3, :default=>-1
  Float :c4, :default=>1.0
  BigDecimal :c5, :default=>BigDecimal.new("0.1005E3")
  File :c6, :default=>Sequel::SQL::Blob.new("blah")
  Date :c7, :default=>Date.new(2008, 10, 29)
  DateTime :c8, :default=>DateTime.parse("2008-10-29T10:20:30.0")
  Time :c9, :default=>Sequel::SQLTime.parse("10:20:30.0"), :only_time=>true
  String :c10
  Date :c11, :default=>Sequel::CURRENT_DATE
  DateTime :c12, :default=>Sequel::CURRENT_TIMESTAMP
end
x
2
==
x
4
Hash
x
16
new_from_literal
x
7
same_db
x
3
[]=
n
n
s
694
create_table(:t4) do
  column :c1, "boolean", :default=>false
  column :c2, "varchar", :default=>"blah"
  column :c3, "integer", :default=>-1
  column :c4, "float", :default=>1.0
  column :c5, "decimal", :default=>BigDecimal.new("0.1005E3")
  column :c6, "blob", :default=>Sequel::SQL::Blob.new("blah")
  column :c7, "date", :default=>Date.new(2008, 10, 29)
  column :c8, "datetime", :default=>DateTime.parse("2008-10-29T10:20:30.0")
  column :c9, "time", :default=>Sequel::SQLTime.parse("10:20:30.0")
  column :c10, "foo", :default=>Sequel::LiteralString.new("'6 weeks'")
  column :c11, "date", :default=>Sequel::CURRENT_DATE
  column :c12, "timestamp", :default=>Sequel::CURRENT_TIMESTAMP
end
p
7
I
0
I
246
I
a
I
256
I
4a
I
257
I
99
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
85
should not use a literal string as a fallback if using MySQL with the :same_db option
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
51
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
39
0
7
6
44
43
7
79
49
8
1
13
7
9
2
49
10
2
15
49
11
2
49
12
0
7
13
64
83
14
11
I
7
I
0
I
0
I
0
I
-2
p
15
x
2
@d
x
13
database_type
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
3
7
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
5
mysql
p
3
I
0
I
25b
I
3
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
x
8
meta_def
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
72
58
37
19
0
15
19
1
15
7
0
44
43
1
4
4
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
7
7
64
49
5
2
15
13
7
8
1
49
5
2
15
13
7
9
2
49
5
2
15
35
2
35
1
19
2
15
20
2
56
10
50
11
0
15
20
2
11
I
9
I
3
I
1
I
1
I
1
p
12
x
3
c10
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
3
foo
x
3
[]=
x
7
default
s
9
'6 weeks'
x
4
type
x
10
allow_null
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
41
58
37
19
0
15
37
19
1
15
15
20
1
7
0
5
20
1
7
1
49
2
1
20
1
7
3
49
2
1
47
49
4
2
13
18
3
49
5
2
15
11
I
9
I
2
I
2
I
2
n
p
6
x
12
ruby_default
x
7
default
x
2
[]
x
4
type
x
29
column_schema_to_ruby_default
x
3
[]=
p
3
I
0
I
25e
I
29
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
2
x
1
_
x
1
c
x
4
each
p
9
I
0
I
25c
I
8
I
25d
I
3d
I
25e
I
45
I
25f
I
48
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
3
x
1
t
x
2
os
x
1
s
x
2
t5
x
4
Hash
x
16
new_from_literal
x
7
same_db
x
3
[]=
x
17
dump_table_schema
x
6
should
s
45
create_table(:t5) do
  column :c10, "foo"
end
x
2
==
p
7
I
0
I
25b
I
a
I
25c
I
14
I
261
I
33
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
48
should convert unknown database types to strings
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
16
39
0
7
1
49
2
1
49
3
0
7
4
64
83
5
11
I
3
I
0
I
0
I
0
I
-2
p
6
x
2
@d
x
2
t5
x
17
dump_table_schema
x
6
should
s
37
create_table(:t5) do
  String :c1
end
x
2
==
p
3
I
0
I
265
I
10
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
48
should convert many database types to ruby types
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
266
7
0
64
7
1
64
7
2
64
7
3
64
7
4
64
7
5
64
7
6
64
7
7
64
7
8
64
7
9
64
7
10
64
7
11
64
7
12
64
7
13
64
7
14
64
7
15
64
7
16
64
7
17
64
7
18
64
7
19
64
7
20
64
7
21
64
7
22
64
7
23
64
7
24
64
7
25
64
7
26
64
7
27
64
7
28
64
7
29
64
7
30
64
7
31
64
7
32
64
7
33
64
7
34
64
7
35
64
7
36
64
7
37
64
7
38
64
7
39
64
7
40
64
7
41
64
7
42
64
7
43
64
7
44
64
7
45
64
7
46
64
7
47
64
35
48
7
48
64
7
49
64
7
50
64
7
51
64
7
52
64
7
53
64
35
6
81
54
7
55
64
7
56
64
7
57
64
7
58
64
7
45
64
7
43
64
7
59
64
35
7
81
54
7
60
64
7
61
64
7
62
64
7
63
64
7
64
64
7
65
64
7
66
64
7
67
64
7
68
64
7
69
64
35
10
81
54
7
70
64
35
1
81
54
19
0
15
39
71
7
72
56
73
50
74
1
15
39
71
7
75
49
76
1
49
77
0
7
78
64
49
79
0
83
80
11
I
32
I
1
I
0
I
0
I
-2
p
81
s
9
mediumint
s
8
smallint
s
3
int
s
7
integer
s
12
mediumint(6)
s
11
smallint(7)
s
6
int(8)
s
10
integer(9)
s
7
tinyint
s
10
tinyint(2)
s
6
bigint
s
10
bigint(20)
s
4
real
s
5
float
s
6
double
s
7
boolean
s
8
tinytext
s
10
mediumtext
s
8
longtext
s
4
text
s
4
clob
s
4
date
s
8
datetime
s
9
timestamp
s
4
time
s
4
char
s
9
character
s
7
varchar
s
12
varchar(255)
s
11
varchar(30)
s
6
bpchar
s
6
string
s
5
money
s
7
decimal
s
13
decimal(10,2)
s
7
numeric
s
13
numeric(15,3)
s
6
number
s
5
bytea
s
8
tinyblob
s
10
mediumblob
s
8
longblob
s
4
blob
s
9
varbinary
s
13
varbinary(10)
s
6
binary
s
10
binary(20)
s
4
year
s
16
double precision
s
24
timestamp with time zone
s
27
timestamp without time zone
s
19
time with time zone
s
22
time without time zone
s
21
character varying(20)
x
1
+
s
8
nvarchar
s
5
ntext
s
13
smalldatetime
s
10
smallmoney
s
5
nchar
s
30
timestamp(6) without time zone
s
27
timestamp(6) with time zone
s
22
mediumint(10) unsigned
s
15
int(9) unsigned
s
16
int(10) unsigned
s
16
int(12) unsigned
s
15
bigint unsigned
s
19
tinyint(3) unsigned
s
8
identity
s
12
int identity
s
11
integer(10)
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
21
58
37
19
0
15
19
1
15
78
19
2
15
21
1
0
56
0
50
1
0
11
I
6
I
3
I
1
I
1
I
1
p
2
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
51
57
19
0
15
7
0
21
1
2
79
81
1
22
1
2
47
101
2
63
2
47
49
3
0
44
43
4
80
49
5
1
13
7
6
20
0
49
7
2
15
13
7
8
2
49
7
2
15
35
2
11
I
7
I
1
I
1
I
1
n
p
9
s
1
c
x
1
+
x
4
to_s
x
6
to_sym
x
4
Hash
x
16
new_from_literal
x
7
db_type
x
3
[]=
x
10
allow_null
p
3
I
0
I
277
I
33
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
x
x
3
map
p
7
I
0
I
275
I
8
I
276
I
c
I
277
I
15
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
3
x
1
t
x
1
o
x
1
i
x
8
meta_def
x
1
x
x
17
dump_table_schema
x
6
should
s
1884
create_table(:x) do
  Integer :c1
  Integer :c2
  Integer :c3
  Integer :c4
  Integer :c5
  Integer :c6
  Integer :c7
  Integer :c8
  Integer :c9
  Integer :c10
  Bignum :c11
  Bignum :c12
  Float :c13
  Float :c14
  Float :c15
  TrueClass :c16
  String :c17, :text=>true
  String :c18, :text=>true
  String :c19, :text=>true
  String :c20, :text=>true
  String :c21, :text=>true
  Date :c22
  DateTime :c23
  DateTime :c24
  Time :c25, :only_time=>true
  String :c26, :fixed=>true
  String :c27, :fixed=>true
  String :c28
  String :c29, :size=>255
  String :c30, :size=>30
  String :c31
  String :c32
  BigDecimal :c33, :size=>[19, 2]
  BigDecimal :c34
  BigDecimal :c35, :size=>[10, 2]
  BigDecimal :c36
  BigDecimal :c37, :size=>[15, 3]
  BigDecimal :c38
  File :c39
  File :c40
  File :c41
  File :c42
  File :c43
  File :c44
  File :c45, :size=>10
  File :c46
  File :c47, :size=>20
  Integer :c48
  Float :c49
  DateTime :c50
  DateTime :c51
  Time :c52, :only_time=>true
  Time :c53, :only_time=>true
  String :c54, :size=>20
  String :c55
  String :c56, :text=>true
  DateTime :c57
  BigDecimal :c58, :size=>[19, 2]
  File :c59
  File :c60
  String :c61, :fixed=>true
  DateTime :c62, :size=>6
  DateTime :c63, :size=>6
  Integer :c64
  Integer :c65
  Bignum :c66
  Bignum :c67
  Bignum :c68
  Integer :c69
  Integer :c70
  Integer :c71
  Integer :c72
  
  check Sequel::SQL::BooleanExpression.new(:>=, Sequel::SQL::Identifier.new(:c64), 0)
  check Sequel::SQL::BooleanExpression.new(:>=, Sequel::SQL::Identifier.new(:c65), 0)
  check Sequel::SQL::BooleanExpression.new(:>=, Sequel::SQL::Identifier.new(:c66), 0)
  check Sequel::SQL::BooleanExpression.new(:>=, Sequel::SQL::Identifier.new(:c67), 0)
  check Sequel::SQL::BooleanExpression.new(:>=, Sequel::SQL::Identifier.new(:c68), 0)
  check Sequel::SQL::BooleanExpression.new(:>=, Sequel::SQL::Identifier.new(:c69), 0)
end

x
5
chomp
x
2
==
p
31
I
0
I
269
I
18
I
26a
I
36
I
26b
I
51
I
26c
I
63
I
26d
I
7e
I
26e
I
92
I
26f
I
9b
I
270
I
a8
I
271
I
c1
I
272
I
cd
I
273
I
e3
I
274
I
ea
I
269
I
ed
I
275
I
f7
I
279
I
10a
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
5
types
s
40
should convert mysql types to ruby types
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
40
7
0
64
7
1
64
35
2
19
0
15
39
2
7
3
56
4
50
5
1
15
39
2
7
6
49
7
1
49
8
0
7
9
64
49
10
0
83
11
11
I
5
I
1
I
0
I
0
I
-2
p
12
s
12
double(15,2)
s
20
double(7,1) unsigned
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
21
58
37
19
0
15
19
1
15
78
19
2
15
21
1
0
56
0
50
1
0
11
I
6
I
3
I
1
I
1
I
1
p
2
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
51
57
19
0
15
7
0
21
1
2
79
81
1
22
1
2
47
101
2
63
2
47
49
3
0
44
43
4
80
49
5
1
13
7
6
20
0
49
7
2
15
13
7
8
2
49
7
2
15
35
2
11
I
7
I
1
I
1
I
1
n
p
9
s
1
c
x
1
+
x
4
to_s
x
6
to_sym
x
4
Hash
x
16
new_from_literal
x
7
db_type
x
3
[]=
x
10
allow_null
p
3
I
0
I
2d2
I
33
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
x
x
3
map
p
7
I
0
I
2d0
I
8
I
2d1
I
c
I
2d2
I
15
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
3
x
1
t
x
1
o
x
1
i
x
8
meta_def
x
1
x
x
17
dump_table_schema
x
6
should
s
136
create_table(:x) do
  Float :c1
  Float :c2
  
  check Sequel::SQL::BooleanExpression.new(:>=, Sequel::SQL::Identifier.new(:c2), 0)
end

x
5
chomp
x
2
==
p
7
I
0
I
2cf
I
b
I
2d0
I
15
I
2d4
I
28
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
5
types
s
69
should use separate primary_key call with non autoincrementable types
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
57
39
0
7
1
56
2
50
3
1
15
39
0
7
4
49
5
1
49
6
0
7
7
64
83
8
15
39
0
7
4
44
43
9
79
49
10
1
13
7
11
2
49
12
2
15
49
5
2
49
6
0
7
13
64
83
8
11
I
7
I
0
I
0
I
0
I
-2
p
14
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
37
59
36
19
0
15
7
0
44
43
1
80
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
2
49
5
2
15
35
2
35
1
11
I
7
I
1
I
0
I
0
I
0
p
7
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
10
varchar(8)
x
3
[]=
x
11
primary_key
p
3
I
0
I
2df
I
25
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
2
t3
x
17
dump_table_schema
x
6
should
s
70
create_table(:t3) do
  String :c1, :size=>8
  
  primary_key [:c1]
end
x
2
==
x
4
Hash
x
16
new_from_literal
x
7
same_db
x
3
[]=
s
74
create_table(:t3) do
  column :c1, "varchar(8)"
  
  primary_key [:c1]
end
p
7
I
0
I
2df
I
a
I
2e0
I
1a
I
2e1
I
39
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
58
should use explicit type for non integer foreign_key types
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
83
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
7
6
64
7
7
64
35
2
5
39
0
7
8
49
9
1
47
49
10
1
49
11
1
15
7
12
64
7
13
64
35
2
5
39
0
7
8
44
43
14
79
49
15
1
13
7
16
2
49
17
2
15
49
9
2
47
49
10
1
49
11
1
11
I
9
I
0
I
0
I
0
I
-2
p
18
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
37
59
36
19
0
15
7
0
44
43
1
80
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
2
49
5
2
15
35
2
35
1
11
I
7
I
1
I
0
I
0
I
0
p
7
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
4
date
x
3
[]=
x
11
primary_key
p
3
I
0
I
2e5
I
25
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
61
58
37
19
0
15
19
1
15
20
0
7
0
83
1
9
59
44
43
2
4
3
49
3
1
13
7
4
7
5
35
1
49
6
2
15
13
7
7
7
8
49
6
2
15
13
7
9
7
5
35
1
49
6
2
15
35
1
8
60
1
11
I
7
I
2
I
1
I
1
I
1
p
10
x
2
t4
x
2
==
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c1
x
3
[]=
x
5
table
x
2
t3
x
3
key
p
5
I
0
I
2e6
I
3c
I
0
I
3d
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
2
x
1
t
x
1
a
s
96
create_table(:t4) do
  foreign_key :c1, :t3, :type=>Date, :key=>[:c1]
  
  primary_key [:c1]
end
s
96
create_table(:t4) do
  foreign_key :c1, :t3, :key=>[:c1], :type=>Date
  
  primary_key [:c1]
end
x
2
t4
x
17
dump_table_schema
x
7
include
x
6
should
s
98
create_table(:t4) do
  foreign_key :c1, :t3, :type=>"date", :key=>[:c1]
  
  primary_key [:c1]
end
s
98
create_table(:t4) do
  foreign_key :c1, :t3, :key=>[:c1], :type=>"date"
  
  primary_key [:c1]
end
x
4
Hash
x
16
new_from_literal
x
7
same_db
x
3
[]=
p
17
I
0
I
2e5
I
a
I
2e6
I
14
I
2e7
I
17
I
2e8
I
28
I
2e7
I
2c
I
2e9
I
2f
I
2ea
I
4f
I
2e9
I
53
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
s
81
should correctly handing autoincrementing primary keys that are also foreign keys
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
44
39
0
7
1
56
2
50
3
1
15
39
0
7
4
56
5
50
3
1
15
7
6
64
7
7
64
35
2
5
39
0
7
8
49
9
1
47
49
10
1
49
11
1
11
I
5
I
0
I
0
I
0
I
-2
p
12
x
2
@d
x
6
schema
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
37
59
36
19
0
15
7
0
44
43
1
80
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
2
49
5
2
15
35
2
35
1
11
I
7
I
1
I
0
I
0
I
0
p
7
x
2
c1
x
4
Hash
x
16
new_from_literal
x
7
db_type
s
7
integer
x
3
[]=
x
11
primary_key
p
3
I
0
I
2ee
I
25
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
1
x
1
s
x
8
meta_def
x
16
foreign_key_list
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
61
58
37
19
0
15
19
1
15
20
0
7
0
83
1
9
59
44
43
2
4
3
49
3
1
13
7
4
7
5
35
1
49
6
2
15
13
7
7
7
8
49
6
2
15
13
7
9
7
5
35
1
49
6
2
15
35
1
8
60
1
11
I
7
I
2
I
1
I
1
I
1
p
10
x
2
t4
x
2
==
x
4
Hash
x
16
new_from_literal
x
7
columns
x
2
c1
x
3
[]=
x
5
table
x
2
t3
x
3
key
p
5
I
0
I
2ef
I
3c
I
0
I
3d
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
2
x
1
t
x
1
a
s
68
create_table(:t4) do
  primary_key :c1, :table=>:t3, :key=>[:c1]
end
s
68
create_table(:t4) do
  primary_key :c1, :key=>[:c1], :table=>:t3
end
x
2
t4
x
17
dump_table_schema
x
7
include
x
6
should
p
11
I
0
I
2ee
I
a
I
2ef
I
14
I
2f0
I
17
I
2f1
I
28
I
2f0
I
2c
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
p
87
I
0
I
42
I
8
I
53
I
13
I
57
I
1e
I
5b
I
29
I
5f
I
34
I
64
I
3f
I
6a
I
4a
I
73
I
55
I
7e
I
60
I
8a
I
6b
I
95
I
76
I
a1
I
81
I
a6
I
8c
I
aa
I
97
I
b0
I
a2
I
b8
I
ad
I
cc
I
b8
I
e1
I
c3
I
f8
I
ce
I
113
I
d9
I
12b
I
e4
I
140
I
ef
I
15f
I
fa
I
17e
I
105
I
19e
I
110
I
1b7
I
11b
I
1be
I
126
I
1c5
I
131
I
1d5
I
13c
I
1e5
I
147
I
1f8
I
152
I
20c
I
15d
I
217
I
168
I
222
I
173
I
240
I
17e
I
245
I
189
I
25a
I
194
I
264
I
19f
I
268
I
1aa
I
2ce
I
1b5
I
2de
I
1c0
I
2e4
I
1cb
I
2ed
I
1d6
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
p
7
I
0
I
1
I
1f
I
4
I
2a
I
41
I
37
x
118
/Users/jhbabon/Code/projects/wuakitv/src/shield/vendor/bundle/gems/sequel-3.39.0/spec/extensions/schema_dumper_spec.rb
p
0
